{
  "Users": {
    "fields": ["user_id", "username", "password_hash", "name", "email", "is_admin", "gender", "birth_date", "start_date", "phone", "address", "emergency_contact_name", "emergency_contact_phone", "login_attempts", "last_failed_login", "last_login", "created_at", "updated_at", "is_deleted", "deleted_at", "deleted_by"],
    "primary_key": "user_id",
    "indexes": ["username", "email", "is_admin"]
  },
  "sessions": {
    "fields": ["id", "user_id", "created_at", "expires_at", "meta_json"],
    "primary_key": "id",
    "foreign_keys": {
      "user_id": "Users.user_id"
    }
  },
  "Clients": {
    "fields": ["client_id", "company_name", "tax_registration_number", "business_status", "assignee_user_id", "phone", "email", "client_notes", "payment_notes", "created_at", "updated_at", "is_deleted", "deleted_at", "deleted_by"],
    "primary_key": "client_id",
    "foreign_keys": {
      "assignee_user_id": "Users.user_id",
      "deleted_by": "Users.user_id"
    },
    "indexes": ["assignee_user_id", "company_name"]
  },
  "CustomerTags": {
    "fields": ["tag_id", "tag_name", "tag_color", "created_at"],
    "primary_key": "tag_id"
  },
  "ClientTagAssignments": {
    "fields": ["assignment_id", "client_id", "tag_id", "assigned_at"],
    "primary_key": "assignment_id",
    "foreign_keys": {
      "client_id": "Clients.client_id",
      "tag_id": "CustomerTags.tag_id"
    }
  },
  "ClientServices": {
    "fields": ["client_service_id", "client_id", "service_id", "status", "created_at", "is_deleted"],
    "primary_key": "client_service_id",
    "indexes": ["client_id"]
  },
  "ActiveTasks": {
    "fields": ["task_id", "client_service_id", "template_id", "task_name", "start_date", "due_date", "completed_date", "status", "assignee_user_id", "related_sop_id", "client_specific_sop_id", "notes", "created_at", "is_deleted"],
    "primary_key": "task_id",
    "indexes": ["assignee_user_id", "status", "due_date"],
    "status_values": ["pending", "in_progress", "completed", "cancelled"]
  },
  "ActiveTaskStages": {
    "fields": ["active_stage_id", "task_id", "stage_name", "stage_order", "status", "started_at", "completed_at"],
    "primary_key": "active_stage_id",
    "foreign_keys": {
      "task_id": "ActiveTasks.task_id"
    },
    "indexes": ["task_id", "stage_order"],
    "status_values": ["pending", "in_progress", "completed"]
  },
  "Timesheets": {
    "fields": ["timesheet_id", "user_id", "work_date", "client_id", "service_name", "work_type", "hours", "note", "created_at", "updated_at", "is_deleted"],
    "primary_key": "timesheet_id",
    "foreign_keys": {
      "user_id": "Users.user_id",
      "client_id": "Clients.client_id"
    },
    "indexes": ["user_id", "work_date", "client_id", "work_type"],
    "work_type_values": ["normal", "ot-weekday", "ot-rest", "holiday"]
  },
  "LeaveRequests": {
    "fields": ["leave_id", "user_id", "leave_type", "start_date", "end_date", "unit", "amount", "reason", "status", "submitted_at", "reviewed_at", "reviewed_by", "is_deleted"],
    "primary_key": "leave_id",
    "foreign_keys": {
      "user_id": "Users.user_id",
      "reviewed_by": "Users.user_id"
    },
    "indexes": ["user_id", "status", "start_date", "end_date"],
    "status_values": ["pending", "approved", "rejected"],
    "unit_values": ["day", "half", "hour"],
    "leave_type_values": ["annual", "sick", "personal", "comp"]
  },
  "LeaveBalances": {
    "fields": ["balance_id", "user_id", "leave_type", "year", "total", "used", "remain", "updated_at"],
    "primary_key": "balance_id",
    "foreign_keys": {
      "user_id": "Users.user_id"
    },
    "indexes": ["user_id", "year"]
  },
  "Receipts": {
    "fields": ["receipt_id", "client_id", "receipt_date", "due_date", "total_amount", "status", "is_auto_generated", "notes", "created_by", "created_at", "updated_at", "is_deleted"],
    "primary_key": "receipt_id",
    "foreign_keys": {
      "client_id": "Clients.client_id",
      "created_by": "Users.user_id"
    },
    "indexes": ["client_id", "receipt_date", "status", "due_date"],
    "status_values": ["unpaid", "paid", "cancelled"]
  },
  "PayrollRuns": {
    "fields": ["run_id", "month", "idempotency_key", "created_by", "created_at"],
    "primary_key": "run_id",
    "foreign_keys": {
      "created_by": "Users.user_id"
    },
    "indexes": ["month", "idempotency_key"]
  },
  "MonthlyPayroll": {
    "fields": ["id", "run_id", "user_id", "base_salary_cents", "regular_allowance_cents", "bonus_cents", "overtime_cents", "total_cents", "is_full_attendance"],
    "primary_key": "id",
    "foreign_keys": {
      "run_id": "PayrollRuns.run_id",
      "user_id": "Users.user_id"
    },
    "indexes": ["run_id", "user_id"]
  },
  "OverheadCostTypes": {
    "fields": ["cost_type_id", "cost_code", "cost_name", "category", "allocation_method", "description", "is_active", "display_order", "created_at", "updated_at"],
    "primary_key": "cost_type_id",
    "indexes": ["is_active", "category"],
    "category_values": ["fixed", "variable"],
    "allocation_method_values": ["per_employee", "per_hour", "per_revenue"]
  },
  "MonthlyOverheadCosts": {
    "fields": ["overhead_id", "cost_type_id", "year", "month", "amount", "notes", "recorded_by", "recorded_at", "updated_at", "is_deleted"],
    "primary_key": "overhead_id",
    "foreign_keys": {
      "cost_type_id": "OverheadCostTypes.cost_type_id",
      "recorded_by": "Users.user_id"
    },
    "indexes": ["year", "month", "cost_type_id"]
  }
}
