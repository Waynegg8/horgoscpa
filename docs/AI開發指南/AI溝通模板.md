# AI 溝通模板

**最後更新：** 2025年10月27日

---

## 📌 本文檔的目的

提供**標準化的對話模板和話術**，確保AI與用戶的溝通清晰、專業、高效。

> **使用方法：** 根據不同場景，複製並調整對應的模板。

---

## 🎯 核心溝通原則

### ✅ 要做的
- 一次只問一個問題
- 提供清晰的選項（A/B/C/D）
- 只問業務問題，不問技術問題
- 給出推薦方案和理由
- 用通俗易懂的語言

### ❌ 不要做的
- 一次問多個問題
- 開放式提問（沒有選項）
- 問技術細節問題
- 直接說「不知道」或「不確定」
- 使用過多技術術語

---

## 📋 標準對話模板

### 模板 1：開始任務

```markdown
✅ 已讀取AI開發指南
✅ 識別為：{任務類型}（新增功能/修改功能/修復問題/代碼審查）
✅ 開始執行標準流程

讓我先了解一下需求：
```

**使用時機：** 每個任務開始時

**示例：**
```
✅ 已讀取AI開發指南
✅ 識別為：新增功能
✅ 開始執行標準流程

讓我先了解一下需求：
```

---

### 模板 2：提問（帶選項）

```markdown
Q{數字}: {問題}？
   A) {選項A}
   B) {選項B}
   C) {選項C}
   D) {選項D}
   E) 其他（請說明）
```

**使用時機：** 需要用戶選擇時

**好的示例：**
```
Q1: 評分範圍是多少？
   A) 1-5分（星級評分）
   B) 1-10分（數字評分）
   C) 0-100分（百分比評分）
   D) 其他（請說明）
```

**不好的示例：**
```
❌ Q1: 評分範圍是多少？（用戶不知道有什麼選擇）
```

---

### 模板 3：技術決策提問

```markdown
Q{數字}: 我檢查了{檢查內容}，發現：

方案A：{方案A描述}
  優點：{優點1}、{優點2}
  缺點：{缺點1}、{缺點2}
  
方案B：{方案B描述}
  優點：{優點1}、{優點2}
  缺點：{缺點1}、{缺點2}

我推薦：方案{A/B}
理由：{具體原因}

您覺得呢？
```

**使用時機：** 需要做技術決策時

**示例：**
```
Q3: 我檢查了現有資料庫設計，發現：

方案A：在 Clients 表新增 rating 欄位
  優點：查詢簡單，無需JOIN
  缺點：一個客戶只能有一個評分，無法記錄歷史
  
方案B：創建新的 ClientRatings 表
  優點：可以記錄評分歷史，支援多人評分，可記錄評分時間
  缺點：查詢需要JOIN或聚合

我推薦：方案B（創建 ClientRatings 表）
理由：根據您的需求（多個負責員工可評分），方案B更適合，
     且可以保留評分歷史以便未來分析。

您覺得呢？
```

---

### 模板 4：共用組件建議

```markdown
Q{數字}: 我檢查了現有共用組件，建議使用：
   - {使用場景1}：使用 <{組件名1}> 組件（{說明}）
   - {使用場景2}：使用 <{組件名2}> 組件（{說明}）
   - {使用場景3}：使用 <{組件名3}> 組件（{說明}）
   
您覺得：
   A) 符合，使用這些組件
   B) 需要調整（請說明）
```

**使用時機：** 建議前端組件時

**示例：**
```
Q5: 我檢查了現有共用組件，建議使用：
   - 客戶列表：在現有 <ClientsTable> 中新增評分欄位（顯示星星圖示）
   - 客戶詳情：使用 <StyledTable> 顯示評分歷史
   - 評分輸入：使用 <StyledModal> + <RatingInput> 組件（1-5星）
   
您覺得：
   A) 符合，使用這些組件
   B) 需要調整（請說明）
```

---

### 模板 5：確認理解

```markdown
讓我確認一下我的理解是否正確：

{理解點1}
{理解點2}
{理解點3}

這樣理解對嗎？如果有不對的地方請告訴我。
```

**使用時機：** 修改功能或修復問題時，確認理解需求

**示例：**
```
讓我確認一下我的理解是否正確：

1. 補休機制改為先進先出（FIFO）
2. 最早累積的補休要先被使用
3. 需要在使用時顯示補休的來源日期
4. 月底清零邏輯不變

這樣理解對嗎？如果有不對的地方請告訴我。
```

---

### 模板 6：深入追問（修復問題）

```markdown
為了找到根本原因，讓我追問幾個問題：

Q1: {第一層為什麼}？

（用戶回答後）

Q2: {第二層為什麼}？

（繼續追問，直到找到根本原因）

根本原因：{總結根本原因}

我建議的系統性解決方案：
1. {解決方案1}
2. {解決方案2}
3. {解決方案3}

這樣可以{解決的好處}。您覺得呢？
```

**使用時機：** 修復問題時，找根本原因

**示例：**
```
為了找到根本原因，讓我追問幾個問題：

Q1: 錯誤訊息是什麼？在什麼情況下發生？

用戶：儲存工時表時顯示 "hours must be between 0 and 24"，
     當我輸入 25 小時時發生。

Q2: 為什麼需要輸入超過 24 小時？

用戶：因為有時候一天工作加上加班會超過 24 小時。

Q3: 那這應該如何記錄？一天的工時還是要拆分記錄？

用戶：應該拆分，加班時數應該記錄在另一個欄位。

根本原因：系統缺少"加班時數"欄位，導致用戶把加班時數也放在"工時"欄位

我建議的系統性解決方案：
1. 新增"加班時數"欄位（overtime_hours）
2. "工時"欄位限制 0-24 小時
3. "加班時數"欄位限制 0-12 小時（合理範圍）
4. 前端分開輸入，UI 更清晰

這樣可以清楚區分正常工時和加班，方便後續統計和報表。您覺得呢？
```

---

### 模板 7：文檔更新通知

```markdown
✅ 需求已確認

✅ 我已自動檢查：
   - {檢查項目1}
   - {檢查項目2}
   - {檢查項目3}

現在開始更新設計文檔...
```

**使用時機：** 確認完需求，開始更新文檔前

**示例：**
```
✅ 需求已確認

✅ 我已自動檢查：
   - 現有 Clients 表結構
   - 其他模塊的評分實作（參考了任務評分）
   - 共用組件列表
   - API命名慣例

現在開始更新設計文檔...
```

---

### 模板 8：文檔更新完成通知

```markdown
已更新：
- ✅ {文檔1}（{新建/更新}）
  {簡要說明內容}
- ✅ {文檔2}（{新建/更新}）
  {簡要說明內容}
- ✅ {文檔3}（{新建/更新}）
  {簡要說明內容}

現在開始編程實作...
```

**使用時機：** 文檔更新完成，開始編程前

**示例：**
```
已更新：
- ✅ docs/資料庫設計/核心業務/ClientRatings.md（新建）
  包含：user_id, client_id, rating, comment, rated_at
  參考：任務評分表的設計，保持一致性
- ✅ docs/資料庫設計.md（更新索引）
- ✅ docs/API規格/客戶/新增評分.md（新建）
  端點：POST /api/v1/clients/:id/ratings
- ✅ docs/API規格/客戶/獲取評分歷史.md（新建）
  端點：GET /api/v1/clients/:id/ratings
- ✅ docs/技術規格/客戶管理/評分功能.md（新建）
- ✅ docs/功能模塊/客戶管理.md（更新）

現在開始編程實作...
```

---

### 模板 9：代碼完成通知

```markdown
已創建：
- ✅ {檔案路徑1}
- ✅ {檔案路徑2}
- ✅ {檔案路徑3}

已更新：
- ✅ {檔案路徑4}（{修改內容}）
- ✅ {檔案路徑5}（{修改內容}）

現在開始自動部署和測試...
```

**使用時機：** 代碼編寫完成，開始測試前

---

### 模板 10：完成報告（重要！）

```markdown
✅ 功能開發完成：{功能名稱}

✅ 已自動部署和測試：
   - ✅ 代碼已部署，服務已重啟
   - ✅ 正常情況測試通過（測試了{數量}種情況）
   - ✅ 邊界條件測試通過（{具體測試內容}）
   - ✅ 權限控制測試通過（{測試的權限}）
   - ✅ 無影響其他功能（檢查了{相關功能}）
   - ✅ 無造成新問題（錯誤日誌無異常）

✅ 系統性驗證：
   - ✅ 新功能運作正常（實際測試驗證）
   - ✅ 文檔與代碼一致
   - ✅ 符合所有專案規範
   - ✅ 未修改外部網站

您可以直接使用，無需測試。如有任何問題，我會立即修復。
```

**使用時機：** 任務完全完成時

**⚠️ 重要禁止：**
```
❌ 絕對不要說：「請您測試看看」
❌ 絕對不要說：「您可以試試看」
❌ 絕對不要說：「麻煩您驗證一下」
```

---

### 模板 11：發現潛在問題提醒

```markdown
⚠️ 提醒：我在檢查時發現了一個潛在問題：

問題：{問題描述}
影響：{可能的影響}

建議：
   A) 現在一起修復
   B) 記錄下來，之後處理
   C) 不影響，忽略

您希望如何處理？
```

**使用時機：** 發現額外問題時

**示例：**
```
⚠️ 提醒：我在檢查時發現了一個潛在問題：

問題：TaskRatings 表和即將創建的 ClientRatings 表結構不完全一致
影響：未來維護時可能困惑，共用組件可能需要特殊處理

建議：
   A) 現在一起統一兩個表的結構
   B) 記錄在技術債清單，之後重構時處理
   C) 差異不大，保持現狀即可

您希望如何處理？
```

---

### 模板 12：紅旗警示（嚴重問題）

```markdown
⚠️ 等等！我發現一個嚴重問題：

{問題描述}

這個問題會導致：
- {後果1}
- {後果2}

我建議：
{建議的解決方案}

請確認是否繼續，或者我們重新討論需求？
```

**使用時機：** 發現嚴重問題或風險時

**示例：**
```
⚠️ 等等！我發現一個嚴重問題：

您要求修改的檔案 "assets/css/common.css" 在外部網站禁止修改清單中。

這個問題會導致：
- 外部網站樣式被破壞
- 正式環境受影響
- 違反專案規範

我建議：
內部管理系統應該使用獨立的 CSS 檔案，例如：
- timesheet-api/frontend/css/app.css
- 或者 admin/css/dashboard.css

請確認是否繼續，或者我們重新討論需求？
```

---

## 💡 特殊場景模板

### 場景 1：用戶說「隨便」或「都可以」

```markdown
我理解您希望我決定，讓我給您一個推薦方案：

我推薦：{方案}
理由：
1. {理由1}
2. {理由2}
3. {理由3}

這樣可以{好處}。

您覺得：
   A) 好的，就這樣
   B) 我有其他想法（請說明）
```

---

### 場景 2：用戶需求不明確

```markdown
我需要進一步了解您的需求，讓我們逐步確認：

目前我理解到：
- {已知信息1}
- {已知信息2}

但我還需要確認：
- {問題1}
- {問題2}

可以先回答第一個問題嗎？{問題1}
   A) {選項A}
   B) {選項B}
   C) {選項C}
```

---

### 場景 3：用戶需求超出範圍

```markdown
我理解您的需求：{需求總結}

但我注意到：
- {超出範圍的部分1}
- {超出範圍的部分2}

這些部分{為什麼超出範圍的原因}。

我建議：
方案A：{拆分處理方案}
方案B：{簡化方案}

您傾向於哪個方案？
```

---

### 場景 4：發現設計缺陷

```markdown
在實作過程中，我發現現有設計有一個問題：

問題：{設計缺陷描述}
原因：{為什麼會有這個問題}

如果繼續現有設計：{可能的後果}

我建議改進：
{改進方案}

這需要：
- 修改設計文檔：{哪些文檔}
- 修改現有代碼：{哪些代碼}
- 影響範圍：{影響範圍}

您覺得：
   A) 現在改進
   B) 記錄技術債，之後處理
   C) 保持現狀
```

---

## 🎭 語氣和措辭指南

### ✅ 推薦用語

**確定性高時：**
- 「我建議...」
- 「我推薦...」
- 「最好的方式是...」

**不確定時：**
- 「我檢查了...，有兩種方案...」
- 「我需要確認...」
- 「讓我們一起決定...」

**提供選項時：**
- 「您覺得呢？」
- 「您傾向於哪個？」
- 「您希望如何處理？」

### ❌ 避免用語

**過於武斷：**
- ❌ 「必須這樣做」（除非安全問題）
- ❌ 「只能這樣」
- ❌ 「沒有其他選擇」

**推卸責任：**
- ❌ 「我不知道」
- ❌ 「您決定」（沒有提供建議時）
- ❌ 「都可以」

**技術術語過多：**
- ❌ 「需要設定 FOREIGN KEY constraint 的 ON DELETE CASCADE」
- ✅ 「當客戶被刪除時，評分也要一起刪除」

---

## 📚 相關文檔

- [AI開發指南](../AI開發指南.md)
- [AI工作原則](./AI工作原則.md)
- [AI自檢清單](./AI自檢清單.md)
- [常見錯誤和陷阱](./常見錯誤和陷阱.md)

---

**最後更新：** 2025年10月27日


