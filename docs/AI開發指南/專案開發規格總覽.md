# 專案開發規格總覽

**最後更新：** 2025年10月27日  
**文檔目的：** AI開發必讀 - 確保所有開發成果符合專案規格要求

---

## 📌 本文檔用途

這是 AI 在開發任何功能前**必須閱讀**的規格總覽文檔，確保所有開發成果都符合專案的標準化要求。

> **重要：** 每次開始新任務時，AI應該根據任務類型，閱讀本文檔的相關章節。

---

## 1. 專案核心設計原則

### 1.1 標準化優先

**核心原則：** 業務規則存入資料庫，而非硬編碼

```
✅ 正確：
- 假別類型存在 LeaveTypes 表
- 加班費率存在 OvertimeRates 表
- 服務模板存在 ServiceTemplates 表
→ 管理員可透過 UI 管理，無需修改代碼

❌ 錯誤：
- const leaveTypes = ['病假', '事假', '特休']
- const overtimeRate = 1.34
→ 硬編碼，無法彈性調整
```

**檢查清單：**
- [ ] 所有業務規則都在資料表中
- [ ] 管理員可透過 UI 管理規則
- [ ] 沒有硬編碼的業務邏輯

---

### 1.2 模塊化優先

**核心原則：** 功能獨立，組件共用

**後端模塊化：**
```
/worker/src/
  ├── repositories/     # 資料存取層（只負責 SQL）
  ├── services/         # 業務邏輯層（只負責邏輯）
  ├── routes/           # API 路由層（只負責路由）
  ├── middlewares/      # 中間件（驗證、權限、日誌）
  ├── utils/            # 工具函數（純函數）
  └── config/           # 配置文件
```

**前端模塊化：**
```
/frontend/src/
  ├── api/              # API 呼叫模塊
  ├── stores/           # 狀態管理（Pinia）
  ├── components/
  │   ├── common/       # 共用組件（所有頁面都可用）
  │   └── features/     # 功能組件（特定模塊專用）
  ├── pages/            # 頁面組件
  ├── composables/      # 組合式函數
  └── router/           # 路由配置
```

**檢查清單：**
- [ ] Repository 只包含 SQL 查詢
- [ ] Service 只包含業務邏輯
- [ ] Route 只負責路由和驗證
- [ ] 前端使用共用組件（不重複實作）

---

### 1.3 文檔先行原則

**核心原則：** 先更新文檔，再修改代碼

**正確流程：**
```
1. 確認需求
2. 更新資料庫設計文檔 ✓
3. 更新 API 規格文檔 ✓
4. 更新技術規格文檔 ✓
5. 更新功能模塊文檔 ✓
6. 開始編程
7. 驗證代碼與文檔一致 ✓
```

**錯誤流程：**
```
❌ 1. 確認需求
❌ 2. 開始編程
❌ 3. （事後）補文檔
→ 導致文檔與代碼不一致
```

---

## 2. 資料庫設計規範

### 2.1 命名規範

**表格命名：PascalCase（大駝峰）**
```sql
✅ CREATE TABLE ModulePermissions
✅ CREATE TABLE ClientServices
✅ CREATE TABLE ActiveTasks

❌ CREATE TABLE module_permissions  -- 不使用 snake_case
❌ CREATE TABLE clientservices       -- 缺少可讀性
```

**欄位命名：snake_case（蛇形）**
```sql
✅ user_id
✅ created_at
✅ is_active
✅ overtime_rate

❌ userId           -- 不使用 camelCase
❌ CreatedAt        -- 不使用 PascalCase
❌ isActive         -- 不使用 camelCase
```

**主鍵命名：** `{單數表名}_id`
```sql
✅ user_id          -- Users 表的主鍵
✅ client_id        -- Clients 表的主鍵
✅ task_template_id -- TaskTemplates 表的主鍵

❌ id               -- 不清楚是哪個表
❌ user_pk          -- 不標準
```

---

### 2.2 標準欄位

**所有表格必須包含（審計欄位）：**
```sql
created_at TEXT NOT NULL,         -- 建立時間（ISO 8601）
updated_at TEXT NOT NULL,         -- 更新時間（ISO 8601）
created_by INTEGER,               -- 建立者（FK to Users）
updated_by INTEGER                -- 更新者（FK to Users）
```

**重要表格應包含（軟刪除）：**
```sql
is_deleted BOOLEAN DEFAULT 0,     -- 是否已刪除
deleted_at TEXT,                  -- 刪除時間
deleted_by INTEGER                -- 刪除者（FK to Users）
```

**範例：完整的表格定義**
```sql
CREATE TABLE ClientTags (
    tag_id INTEGER PRIMARY KEY AUTOINCREMENT,
    tag_name TEXT NOT NULL UNIQUE,
    tag_color TEXT,
    display_order INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT 1,
    
    -- 審計欄位
    created_at TEXT NOT NULL,
    updated_at TEXT NOT NULL,
    created_by INTEGER,
    updated_by INTEGER,
    
    -- 軟刪除
    is_deleted BOOLEAN DEFAULT 0,
    deleted_at TEXT,
    deleted_by INTEGER,
    
    FOREIGN KEY (created_by) REFERENCES Users(user_id),
    FOREIGN KEY (updated_by) REFERENCES Users(user_id),
    FOREIGN KEY (deleted_by) REFERENCES Users(user_id)
);
```

---

### 2.3 索引策略

**必須建立索引的欄位：**
1. 所有外鍵（Foreign Keys）
2. 常用於 WHERE 條件的欄位
3. 常用於 JOIN 的欄位
4. 常用於 ORDER BY 的欄位

**範例：**
```sql
-- 外鍵索引
CREATE INDEX idx_client_services_client_id ON ClientServices(client_id);
CREATE INDEX idx_client_services_template_id ON ClientServices(service_template_id);

-- 查詢索引
CREATE INDEX idx_time_logs_work_date ON TimeLogs(work_date);
CREATE INDEX idx_active_tasks_status ON ActiveTasks(status);

-- 軟刪除索引
CREATE INDEX idx_clients_is_deleted ON Clients(is_deleted);

-- 複合索引（常一起查詢的欄位）
CREATE INDEX idx_time_logs_user_date ON TimeLogs(user_id, work_date);
```

---

### 2.4 資料驗證約束

**使用 CHECK 約束確保資料品質：**
```sql
-- 範圍驗證
hours REAL CHECK (hours >= 0 AND hours <= 24),
rating INTEGER CHECK (rating >= 1 AND rating <= 5),

-- 列舉驗證
status TEXT CHECK (status IN ('pending', 'in_progress', 'completed', 'cancelled')),
gender TEXT CHECK (gender IN ('male', 'female', 'other')),

-- 邏輯驗證
end_date TEXT CHECK (end_date >= start_date)
```

---

### 2.5 文檔格式要求

**每個資料表必須有獨立文檔：**
```
位置：docs/資料庫設計/{分類}/{表名}.md
大小：80-100 行為佳
```

**文檔必須包含：**
1. 表格定義（完整 SQL）
2. 欄位說明（每個欄位的用途）
3. 索引說明（為何需要這些索引）
4. 常用查詢範例（3-5個）
5. 關聯表格說明（FK 關聯）

**範例結構：**
```markdown
# ClientTags（客戶標籤）

## 表格定義
```sql
CREATE TABLE ClientTags (...);
```

## 欄位說明
| 欄位 | 類型 | 說明 | 範例 |
|------|------|------|------|
| tag_id | INTEGER | 標籤唯一識別碼 | 1 |
| tag_name | TEXT | 標籤名稱 | "VIP客戶" |

## 索引說明
- `idx_client_tags_name`: 用於搜尋標籤

## 常用查詢
### 查詢所有啟用的標籤
```sql
SELECT * FROM ClientTags 
WHERE is_active = 1 AND is_deleted = 0
ORDER BY display_order;
```

## 關聯表格
- `Clients`: 透過 `ClientTagAssignments` 關聯
```

---

## 3. API 設計規範

### 3.1 RESTful 標準

**端點命名規則：**
```
✅ GET    /api/v1/clients              -- 獲取列表
✅ GET    /api/v1/clients/:id          -- 獲取單一
✅ POST   /api/v1/clients              -- 創建
✅ PUT    /api/v1/clients/:id          -- 完整更新
✅ PATCH  /api/v1/clients/:id          -- 部分更新
✅ DELETE /api/v1/clients/:id          -- 刪除

✅ GET    /api/v1/clients/:id/services -- 獲取客戶的服務（子資源）
✅ POST   /api/v1/clients/:id/tags     -- 為客戶新增標籤

❌ GET    /api/getClients               -- 不使用動詞
❌ POST   /api/client/create            -- 不使用動詞
❌ GET    /api/v1/get-client-list       -- 不使用破折號
```

**HTTP 方法語意：**
- **GET**: 查詢，不改變資料，冪等
- **POST**: 創建新資源，非冪等
- **PUT**: 完整更新，冪等
- **PATCH**: 部分更新，冪等
- **DELETE**: 刪除，冪等

---

### 3.2 統一回應格式

**成功回應格式：**
```typescript
{
  "success": true,
  "data": {
    // 實際資料
  },
  "meta": {
    "page": 1,
    "limit": 50,
    "total": 100
  }
}
```

**錯誤回應格式：**
```typescript
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "請求參數驗證失敗",
    "details": {
      "field": "email",
      "issue": "格式不正確"
    }
  }
}
```

**HTTP 狀態碼使用：**
```
200 OK              - 請求成功
201 Created         - 資源創建成功
204 No Content      - 刪除成功（無內容）
400 Bad Request     - 請求參數錯誤
401 Unauthorized    - 未登入
403 Forbidden       - 無權限
404 Not Found       - 資源不存在
409 Conflict        - 資源衝突（如重複創建）
422 Unprocessable   - 業務邏輯驗證失敗
500 Server Error    - 伺服器錯誤
```

---

### 3.3 查詢參數標準

**分頁參數：**
```
?page=1           -- 頁碼（從 1 開始）
?limit=50         -- 每頁筆數（預設 50）
```

**排序參數：**
```
?sort=created_at  -- 排序欄位
?order=desc       -- 排序方向（asc/desc）
```

**搜尋參數：**
```
?search=關鍵字    -- 全文搜尋
```

**篩選參數：**
```
?status=active           -- 單一條件
?category=tax&type=B2B   -- 多個條件（AND）
```

**完整範例：**
```
GET /api/v1/clients?page=2&limit=20&sort=company_name&order=asc&status=active&search=科技
```

---

### 3.4 API 文檔格式要求

**每個端點必須有獨立文檔：**
```
位置：docs/API規格/{模塊}/{端點名}.md
大小：40-60 行為佳
```

**文檔必須包含：**
1. 端點路徑和方法
2. 功能描述
3. 權限要求
4. 請求格式（參數說明）
5. 回應格式（成功和錯誤）
6. 範例（curl 和回應）

**範例結構：**
```markdown
# 獲取客戶列表

## 端點資訊
- **路徑：** `/api/v1/clients`
- **方法：** `GET`
- **權限：** 需登入，需 `client_management` 權限

## 請求參數
| 參數 | 類型 | 必填 | 說明 | 範例 |
|------|------|------|------|------|
| page | number | 否 | 頁碼 | 1 |
| limit | number | 否 | 每頁筆數 | 50 |

## 成功回應（200 OK）
```json
{
  "success": true,
  "data": [
    {
      "client_id": "12345678",
      "company_name": "仟鑽企業有限公司"
    }
  ],
  "meta": { ... }
}
```

## 錯誤回應
### 401 Unauthorized
```json
{ "success": false, "error": { ... } }
```

## 範例
```bash
curl -X GET "https://api.example.com/api/v1/clients?page=1&limit=10" \
  -H "Authorization: Bearer {token}"
```
```

---

## 4. 代碼規範

### 4.1 命名規範

**變數和函數：camelCase**
```typescript
✅ const userName = 'John';
✅ function calculateOvertimeHours() {}
✅ const isActive = true;

❌ const user_name = 'John';      -- 不使用 snake_case
❌ const UserName = 'John';        -- 不使用 PascalCase
```

**類別和組件：PascalCase**
```typescript
✅ class UserService {}
✅ class ClientRepository {}
✅ export default UserProfile.vue

❌ class userService {}            -- 不使用 camelCase
❌ class user_repository {}        -- 不使用 snake_case
```

**常數：UPPER_SNAKE_CASE**
```typescript
✅ const MAX_LOGIN_ATTEMPTS = 5;
✅ const API_BASE_URL = 'https://api.example.com';

❌ const maxLoginAttempts = 5;     -- 不使用 camelCase
❌ const apiBaseUrl = '...';       -- 不使用 camelCase
```

---

### 4.2 TypeScript 類型定義

**介面命名：I 前綴（可選）或直接使用名詞**
```typescript
✅ interface User { ... }
✅ interface IUser { ... }
✅ interface ClientService { ... }

❌ interface user { ... }          -- 不使用小寫
```

**類型別名：與介面相同規則**
```typescript
✅ type UserId = number;
✅ type PermissionStatus = 'active' | 'inactive';
```

**必須定義類型的地方：**
1. 所有 API 請求/回應
2. 所有 Repository 方法參數和返回值
3. 所有 Service 方法參數和返回值
4. Store 的 state

**範例：**
```typescript
// API 請求類型
interface CreateClientRequest {
  company_name: string;
  contact_person: string;
  email?: string;
}

// API 回應類型
interface CreateClientResponse {
  success: boolean;
  data: {
    client_id: string;
    company_name: string;
  };
}

// Repository 方法
class ClientRepository {
  async create(data: CreateClientRequest): Promise<Client> {
    // ...
  }
}
```

---

### 4.3 錯誤處理規範

**統一的錯誤類別：**
```typescript
class AppError extends Error {
  constructor(
    public code: string,
    public message: string,
    public statusCode: number = 500,
    public details?: any
  ) {
    super(message);
  }
}

// 使用
throw new AppError(
  'VALIDATION_ERROR',
  '請求參數驗證失敗',
  400,
  { field: 'email', issue: '格式不正確' }
);
```

**錯誤處理模式：**
```typescript
// Repository 層：拋出錯誤
async findById(id: number): Promise<User | null> {
  try {
    const result = await db.query(...);
    return result || null;
  } catch (error) {
    throw new AppError('DATABASE_ERROR', '資料庫查詢失敗', 500, error);
  }
}

// Service 層：處理業務邏輯錯誤
async getUser(id: number): Promise<User> {
  const user = await this.userRepository.findById(id);
  if (!user) {
    throw new AppError('USER_NOT_FOUND', '用戶不存在', 404);
  }
  return user;
}

// Route 層：捕獲並格式化錯誤
app.get('/users/:id', async (c) => {
  try {
    const user = await userService.getUser(Number(c.req.param('id')));
    return c.json({ success: true, data: user });
  } catch (error) {
    if (error instanceof AppError) {
      return c.json({ success: false, error: { ... } }, error.statusCode);
    }
    return c.json({ success: false, error: { ... } }, 500);
  }
});
```

---

### 4.4 前端組件規範

**組件檔案結構：**
```vue
<script setup lang="ts">
// 1. Imports
import { ref, computed, onMounted } from 'vue';
import { useClientStore } from '@/stores/client';

// 2. Props 定義
interface Props {
  clientId: string;
  mode?: 'view' | 'edit';
}
const props = withDefaults(defineProps<Props>(), {
  mode: 'view'
});

// 3. Emits 定義
const emit = defineEmits<{
  save: [clientId: string];
  cancel: [];
}>();

// 4. Store
const clientStore = useClientStore();

// 5. State
const isLoading = ref(false);
const form = ref({ ... });

// 6. Computed
const isValid = computed(() => { ... });

// 7. Methods
const handleSave = () => { ... };

// 8. Lifecycle
onMounted(() => { ... });
</script>

<template>
  <!-- Template -->
</template>

<style scoped>
/* Styles（優先使用 Tailwind）*/
</style>
```

**Composables 規範：**
```typescript
// 檔案：composables/useAuth.ts
export function useAuth() {
  const isLoggedIn = ref(false);
  const currentUser = ref<User | null>(null);
  
  const login = async (username: string, password: string) => {
    // ...
  };
  
  const logout = async () => {
    // ...
  };
  
  return {
    isLoggedIn,
    currentUser,
    login,
    logout
  };
}
```

---

## 5. 文檔組織規範

### 5.1 文檔層級結構

```
docs/
├── 功能模塊/           -- 業務功能概述（給產品經理看）
│   └── 01-功能名.md   -- 100-150 行，功能概述、使用場景
│
├── API規格/            -- API 端點規格（給前端開發看）
│   └── 模塊/
│       ├── _概覽.md    -- 該模塊的所有端點索引
│       └── 端點名.md   -- 40-60 行，單一端點詳細規格
│
├── 技術規格/           -- 實作細節（給後端開發看）
│   └── 模塊/
│       ├── UI設計.md   -- 前端介面設計
│       ├── 業務邏輯.md -- 後端邏輯設計
│       └── 測試案例.md -- 測試規格
│
└── 資料庫設計/         -- 資料表結構（給資料庫設計師看）
    └── 分類/
        └── 表名.md     -- 80-100 行，單一表格詳細設計
```

### 5.2 交叉引用規範

**每個文檔必須包含相關文檔連結：**

**功能模塊文檔必須連結：**
```markdown
## 技術規格文檔索引
- [UI設計](../../技術規格/模塊/UI設計.md)
- [業務邏輯](../../技術規格/模塊/業務邏輯.md)

## API 規格索引
- [API 概覽](../../API規格/模塊/_概覽.md)

## 資料表索引
- [TableName](../../資料庫設計/分類/TableName.md)
```

**API 文檔必須連結：**
```markdown
## 相關端點
- [獲取列表](./獲取列表.md)
- [創建資源](./創建資源.md)

## 相關資料表
- [TableName](../../資料庫設計/分類/TableName.md)
```

### 5.3 文檔版本管理

**每個文檔底部必須包含：**
```markdown
---

**最後更新：** 2025年10月27日  
**文檔版本：** 2.0  
**變更記錄：** 新增標籤功能相關說明
```

---

## 6. 安全規範

### 6.1 絕對禁止修改外部網站

**禁止修改的檔案和目錄：**
```
❌ index.html, blog.html, contact.html 等根目錄 HTML
❌ blog/ 目錄下所有檔案
❌ services/ 目錄下所有檔案
❌ assets/ 目錄（css, js, images, fonts, data）
❌ content/ 目錄（posts, resources）
❌ templates/post.html
```

**允許修改：**
```
✅ timesheet-api/ 目錄（內部管理系統後端）
✅ 未來的 admin/ 或 internal/ 目錄（內部管理系統前端）
```

**每次修改前必須檢查：**
- [ ] 修改的檔案是否在 `timesheet-api/` 或 `internal/` 目錄下？
- [ ] 是否會影響外部網站？
- [ ] 如有疑慮，參閱 [🚨外部網站禁止修改清單](../🚨外部網站禁止修改清單.md)

---

### 6.2 密碼安全

**必須使用 Argon2 雜湊：**
```typescript
import argon2 from 'argon2';

// 雜湊密碼
const hashedPassword = await argon2.hash(plainPassword);

// 驗證密碼
const isValid = await argon2.verify(hashedPassword, plainPassword);
```

**禁止：**
```typescript
❌ MD5(password)           -- 不安全
❌ SHA1(password)          -- 不安全
❌ bcrypt(password)        -- 可用但不是最佳選擇
```

---

### 6.3 SQL 注入防護

**必須使用參數化查詢：**
```typescript
✅ 正確：
const result = await db.prepare(
  'SELECT * FROM Users WHERE user_id = ?'
).bind(userId).all();

❌ 錯誤：
const result = await db.prepare(
  `SELECT * FROM Users WHERE user_id = ${userId}`
).all();
```

---

### 6.4 權限驗證

**所有 API 端點（除登入）必須驗證：**

**1. 驗證登入狀態：**
```typescript
// middlewares/auth.middleware.ts
export const requireAuth = async (c, next) => {
  const token = c.req.header('Authorization')?.replace('Bearer ', '');
  if (!token) {
    return c.json({ success: false, error: { ... } }, 401);
  }
  // 驗證 token ...
  await next();
};
```

**2. 驗證模塊權限：**
```typescript
// middlewares/permission.middleware.ts
export const requirePermission = (moduleName: string) => {
  return async (c, next) => {
    const userId = c.get('userId');
    const hasPermission = await checkModulePermission(userId, moduleName);
    if (!hasPermission) {
      return c.json({ success: false, error: { ... } }, 403);
    }
    await next();
  };
};

// 使用
app.get('/api/v1/clients', 
  requireAuth, 
  requirePermission('client_management'), 
  async (c) => { ... }
);
```

---

## 7. AI 開發檢查清單

### 7.1 開始任務前

- [ ] 已閱讀本文檔相關章節
- [ ] 已閱讀 [AI工作原則](./AI工作原則.md)
- [ ] 已閱讀相關的功能模塊文檔
- [ ] 已檢查是否修改外部網站（絕對禁止）
- [ ] 已確定任務類型（新增/修改/修復/優化）

### 7.2 文檔更新

- [ ] 資料庫設計文檔已更新（如需要）
- [ ] API 規格文檔已更新（如需要）
- [ ] 技術規格文檔已更新（如需要）
- [ ] 功能模塊文檔已更新（如需要）
- [ ] 所有文檔的交叉引用已更新
- [ ] 文檔版本號已更新

### 7.3 代碼實作

**命名規範：**
- [ ] 資料表：PascalCase
- [ ] 資料表欄位：snake_case
- [ ] 變數/函數：camelCase
- [ ] 類別/組件：PascalCase
- [ ] 常數：UPPER_SNAKE_CASE

**模塊化：**
- [ ] Repository 只包含 SQL 查詢
- [ ] Service 只包含業務邏輯
- [ ] Route 只負責路由和驗證
- [ ] 前端使用共用組件

**標準化：**
- [ ] API 使用 `/api/v1/` 前綴
- [ ] 使用統一回應格式
- [ ] 使用標準 HTTP 狀態碼
- [ ] 業務規則存在資料表中（沒有硬編碼）

**安全性：**
- [ ] 使用參數化查詢（防 SQL 注入）
- [ ] 密碼使用 Argon2 雜湊
- [ ] 所有 API 有權限驗證
- [ ] 絕對沒有修改外部網站

**資料庫：**
- [ ] 包含審計欄位（created_at, updated_at, created_by, updated_by）
- [ ] 重要表格有軟刪除欄位
- [ ] 外鍵已建立索引
- [ ] 使用 CHECK 約束驗證資料

### 7.4 測試驗證

- [ ] 已自動部署代碼
- [ ] 測試了正常情況（3-5種）
- [ ] 測試了邊界條件
- [ ] 測試了錯誤處理
- [ ] 測試了權限控制
- [ ] 檢查了相關功能是否受影響
- [ ] 確認無造成新問題

### 7.5 完成報告

- [ ] 列出所有更新的文檔
- [ ] 列出所有修改的代碼檔案
- [ ] 包含完整測試結果
- [ ] 說明「已完成並驗證」
- [ ] 禁止說「請您測試」

---

## 8. 常見情境快速參考

### 情境 1：新增一個資料表

**必須完成：**
1. 創建資料表文檔：`docs/資料庫設計/{分類}/{表名}.md`
2. 使用標準欄位：審計欄位、軟刪除欄位
3. 遵循命名規範：表名 PascalCase，欄位 snake_case
4. 建立索引：外鍵、常用查詢欄位
5. 使用 CHECK 約束驗證資料
6. 更新主索引：`docs/資料庫設計/README.md`

---

### 情境 2：新增一個 API 端點

**必須完成：**
1. 創建 API 文檔：`docs/API規格/{模塊}/{端點名}.md`
2. 使用 RESTful 標準：正確的 HTTP 方法和路徑
3. 使用統一回應格式
4. 包含權限驗證：`requireAuth` + `requirePermission`
5. 包含參數驗證
6. 包含錯誤處理
7. 更新模塊概覽：`docs/API規格/{模塊}/_概覽.md`
8. 按層級實作：Repository → Service → Route

---

### 情境 3：新增一個前端頁面

**必須完成：**
1. 使用共用組件（檢查 `components/common/`）
2. 遵循組件結構規範（script setup 順序）
3. 定義 TypeScript 類型
4. 使用 Composables 復用邏輯
5. 創建 API Service：`api/{name}.api.ts`
6. 創建 Store：`stores/{name}.store.ts`
7. 註冊路由：`router/index.ts`
8. 加上路由守衛：權限檢查

---

### 情境 4：修改現有功能

**必須完成：**
1. 先更新所有相關文檔
2. 分析影響範圍（資料庫/API/前端/報表）
3. 最小化修改（不做不必要的改動）
4. 檢查所有受影響的地方
5. 測試相關功能是否受影響
6. 檢查是否有類似問題需一併修復

---

## 9. 相關文檔索引

### AI 開發指南
- [AI工作原則](./AI工作原則.md) - AI 必須遵循的核心原則
- [快速啟動指南](./快速啟動指南.md) - 5分鐘上手
- [AI自檢清單](./AI自檢清單.md) - 任務執行前後檢查
- [任務類型自動識別](./任務類型自動識別.md) - 如何識別任務類型

### 標準工作流程
- [新增功能流程](./標準工作流程/新增功能流程.md)
- [修改功能流程](./標準工作流程/修改功能流程.md)
- [修復問題流程](./標準工作流程/修復問題流程.md)
- [優化代碼流程](./標準工作流程/優化代碼流程.md)

### 專案設計
- [專案設計文件](../../專案.md) - 完整專案設計
- [🚨外部網站禁止修改清單](../🚨外部網站禁止修改清單.md) - 重要安全規範

---

## 10. 快速檢查表（必須全部打勾）

**文檔規範：**
- [ ] 所有相關文檔已更新
- [ ] 文檔與代碼一致
- [ ] 交叉引用已更新
- [ ] 文檔版本已更新

**命名規範：**
- [ ] 資料表：PascalCase
- [ ] 欄位：snake_case
- [ ] 變數/函數：camelCase
- [ ] 類別/組件：PascalCase

**標準化：**
- [ ] API 使用 `/api/v1/` 前綴
- [ ] 使用統一回應格式
- [ ] 業務規則存資料表
- [ ] 沒有硬編碼

**模塊化：**
- [ ] 使用共用組件
- [ ] 分層清楚（Repository/Service/Route）
- [ ] 沒有重複代碼

**安全性：**
- [ ] 絕對沒有修改外部網站 ⚠️
- [ ] 使用參數化查詢
- [ ] 包含權限驗證
- [ ] 密碼使用 Argon2

**資料庫：**
- [ ] 包含審計欄位
- [ ] 索引已建立
- [ ] 使用 CHECK 約束
- [ ] 外鍵約束已加上

**測試：**
- [ ] 已自動測試驗證
- [ ] 測試了多種情況
- [ ] 無影響其他功能
- [ ] 無造成新問題

---

**最後更新：** 2025年10月27日  
**文檔版本：** 1.0  
**文檔用途：** AI 開發必讀 - 確保所有開發成果符合專案規格要求


