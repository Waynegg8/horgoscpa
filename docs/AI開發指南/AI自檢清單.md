# AI 自檢清單

**最後更新：** 2025年10月27日

---

## 📌 本清單的用途

這是AI在**執行任務前後**使用的快速檢查表，確保沒有遺漏重要步驟。

> **使用方法：** 每個任務開始前檢查"執行前"，完成後檢查"執行後"。

---

## 🚀 任務執行前檢查

### 1️⃣ 理解需求階段

- [ ] 已完整閱讀用戶需求
- [ ] 已識別任務類型（新增/修改/修復/優化）
- [ ] 已確定需要執行的標準流程
- [ ] 已準備逐點與用戶確認細節

---

### 2️⃣ 閱讀文檔階段

#### 必讀文檔
- [ ] 已閱讀 [🚨外部網站禁止修改清單](../🚨外部網站禁止修改清單.md) ⚠️ 最重要
- [ ] 已閱讀 [架構設計](../架構設計.md)（如需要）
- [ ] 已閱讀 [開發規範](../開發規範.md)（如需要）

#### 功能相關文檔
- [ ] 已閱讀相關的功能模塊文檔
- [ ] 已閱讀相關的技術規格文檔
- [ ] 已閱讀相關的API規格文檔
- [ ] 已閱讀相關的資料庫設計文檔

#### 現有代碼檢查
- [ ] 已搜索類似功能的實作方式
- [ ] 已檢查現有共用組件
- [ ] 已檢查現有業務規則定義
- [ ] 已檢查命名規範和代碼風格

---

### 3️⃣ 討論確認階段

- [ ] 準備好要問的問題列表
- [ ] 每個問題都有提供選項（非開放式）
- [ ] 只問業務問題，不問技術問題
- [ ] 已準備好推薦方案和理由
- [ ] 一次只問一個點

---

## 📝 文檔更新檢查

### 4️⃣ 更新設計文檔階段

#### 按順序更新
- [ ] 已更新資料庫設計文檔（如需要）
- [ ] 已更新API規格文檔（如需要）
- [ ] 已更新技術規格文檔（如需要）
- [ ] 已更新功能模塊文檔（如需要）

#### 文檔質量檢查
- [ ] 每個文檔未超過建議行數
  - 功能模塊：100-150行
  - 技術規格：80-120行
  - API規格：40-60行/端點
  - 資料庫設計：80-100行/表
- [ ] 包含足夠的示例代碼
- [ ] 包含清晰的說明
- [ ] 語言通俗易懂

#### 索引和交叉引用
- [ ] 已更新主文檔的索引
- [ ] 已更新相關的交叉引用
- [ ] 鏈接都是正確的
- [ ] 雙向鏈接完整

---

## 💻 代碼實作檢查

### 5️⃣ 編程階段

#### 依照文檔編程
- [ ] 代碼與設計文檔一致
- [ ] 使用文檔中定義的命名
- [ ] 實作文檔中描述的邏輯

#### 代碼質量
- [ ] 符合命名規範
  - 變數/函數：camelCase
  - 類別/組件：PascalCase
  - 資料庫欄位：snake_case
- [ ] API使用 `/api/v1/` 前綴
- [ ] 使用了專案的共用組件（沒有重複實作）
- [ ] 使用了標準回應格式
- [ ] 錯誤處理符合標準
- [ ] 沒有硬編碼業務規則

#### 資料庫相關
- [ ] 表格命名：PascalCase
- [ ] 欄位命名：snake_case
- [ ] 外鍵已添加 FOREIGN KEY 約束
- [ ] 常查詢欄位已建立索引
- [ ] 重要表格有軟刪除欄位（deleted_at）
- [ ] 審計欄位完整（created_at, updated_at, created_by, updated_by）

#### 安全檢查
- [ ] 所有查詢使用參數化查詢
- [ ] 權限檢查已實作
- [ ] 密碼使用 Argon2 雜湊（如涉及）
- [ ] 敏感數據已加密（如需要）

---

## 🧪 測試驗證檢查

### 6️⃣ 自動測試階段

#### 部署
- [ ] 已使用終端工具部署代碼
- [ ] 服務已重啟（如需要）
- [ ] 無部署錯誤

#### 功能測試
- [ ] 測試了正常情況（至少3-5種情況）
- [ ] 測試了邊界條件
- [ ] 測試了異常情況
- [ ] 測試了錯誤處理

#### 權限測試
- [ ] 測試了管理員權限
- [ ] 測試了普通用戶權限
- [ ] 測試了未授權訪問

#### 整合測試
- [ ] 檢查了相關功能是否受影響
- [ ] 檢查了錯誤日誌
- [ ] 確認無造成新問題
- [ ] 確認無性能下降

---

## ✅ 任務完成後檢查

### 7️⃣ 全局驗證階段

#### 文檔與代碼一致性
- [ ] 所有文檔都已更新
- [ ] 文檔描述與代碼實作一致
- [ ] 沒有遺漏的文檔

#### 系統性檢查
- [ ] 新功能運作正常
- [ ] 沒有影響其他功能
- [ ] 沒有造成新問題
- [ ] 沒有性能下降
- [ ] 符合所有專案規範

#### 安全性檢查 ⚠️ 最重要
- [ ] **絕對沒有修改外部網站文件**
  - 未修改 `index.html`、`blog.html` 等根目錄HTML
  - 未修改 `services/` 資料夾
  - 未修改 `blog/` 資料夾
  - 未修改 `assets/` 資料夾
  - 未修改 `content/` 資料夾
  - 未修改 `templates/post.html`
- [ ] 如果不確定，已再次確認 [禁止修改清單](../🚨外部網站禁止修改清單.md)

---

## 📋 不同任務類型的專用檢查

### 🆕 新增功能

#### 額外檢查項目
- [ ] 已檢查是否有類似功能可參考
- [ ] 已與類似功能保持一致性
- [ ] 新表格設計合理（如有）
- [ ] 新API設計符合RESTful標準
- [ ] 前端組件已復用共用組件

---

### 🔧 修改功能

#### 額外檢查項目
- [ ] 已分析影響範圍（資料庫/API/前端/報表）
- [ ] 已檢查所有受影響的地方
- [ ] 修改最小化（沒有不必要的改動）
- [ ] 向下兼容（如可能）
- [ ] 已檢查類似問題是否存在

---

### 🐛 修復問題

#### 額外檢查項目
- [ ] 已找到根本原因（不是表面症狀）
- [ ] 已提出系統性解決方案
- [ ] 已檢查並修復所有類似問題
- [ ] 已驗證修復確實有效
- [ ] 沒有引入新問題

---

### 🔍 代碼審查/優化

#### 額外檢查項目
- [ ] 已掃描所有相關代碼
- [ ] 已檢查標準化問題
- [ ] 已檢查模塊化問題
- [ ] 已與其他模塊對比
- [ ] 問題列表已優先級排序
- [ ] 已詢問用戶是否修復

---

## 📊 完成報告檢查

### 8️⃣ 輸出報告階段

#### 報告完整性
- [ ] 列出所有更新的文檔
- [ ] 列出所有修改的代碼文件
- [ ] 說明主要變更內容
- [ ] 包含測試結果

#### 報告質量
- [ ] ✅ 說明"已自動部署和測試"
- [ ] ✅ 列出具體測試了哪些情況
- [ ] ✅ 說明"無影響其他功能"
- [ ] ✅ 說明"無造成新問題"
- [ ] ✅ 包含"您可以直接使用，無需測試"
- [ ] ❌ 禁止說"請您測試看看"

---

## 🎯 快速自檢（5秒版）

**任務執行前：**
1. ✅ 已讀禁止修改清單？
2. ✅ 已讀相關文檔？
3. ✅ 已檢查類似功能？
4. ✅ 準備好問題和選項？

**任務執行後：**
1. ✅ 文檔已全部更新？
2. ✅ 代碼與文檔一致？
3. ✅ 已自動測試驗證？
4. ✅ 絕對沒修改外部網站？

---

## 🚨 紅旗警示（立即停止）

如果出現以下情況，**立即停止並重新思考**：

- ⚠️ 要修改的文件路徑包含 `assets/`、`blog/`、`services/`、`content/`
- ⚠️ 要修改根目錄的 `.html` 文件
- ⚠️ 沒有找到根本原因就要修復問題
- ⚠️ 沒有更新文檔就要修改代碼
- ⚠️ 要讓用戶測試
- ⚠️ 沒有檢查類似功能就要實作
- ⚠️ 要問用戶技術問題

---

## 💡 使用技巧

### 技巧 1：分階段檢查
```
不要等到全部完成才檢查，而是：
- 討論階段後 → 檢查討論部分
- 文檔更新後 → 檢查文檔部分
- 代碼完成後 → 檢查代碼部分
- 測試完成後 → 檢查測試部分
```

### 技巧 2：重點檢查
```
某些項目特別重要，需要額外注意：
🔥 絕對沒有修改外部網站文件
🔥 文檔與代碼一致
🔥 已自動測試驗證
🔥 已找到根本原因（修復問題時）
```

### 技巧 3：使用檢查點
```
每完成一個大階段，使用檢查點：
□ 檢查點1：需求確認完成
□ 檢查點2：文檔更新完成
□ 檢查點3：代碼實作完成
□ 檢查點4：測試驗證完成
□ 檢查點5：報告輸出完成
```

---

## 📚 相關文檔

- [AI開發指南](../AI開發指南.md)
- [AI工作原則](./AI工作原則.md)
- [常見錯誤和陷阱](./常見錯誤和陷阱.md)
- [🚨外部網站禁止修改清單](../🚨外部網站禁止修改清單.md)

---

**最後更新：** 2025年10月27日


