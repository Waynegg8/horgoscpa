# 22 - 資源中心管理

**所屬模塊：** 外部網站 CMS  
**頁面路徑：** `/cms/resources`  
**權限：** 取決於 `module_visibility_cms`  
**最後更新：** 2025年10月27日

---

## 功能概述

管理提供給客戶下載的資源檔案（PDF, DOCX 等）。

---

## UI 設計

```
資源檔案管理
───────────────────────────────────
[+ 上傳檔案]

| 檔案名稱               | 類型 | 大小  | 上傳日期   | 操作        |
|------------------------|------|-------|------------|-------------|
| 公司設立申請表.pdf     | PDF  | 2.3MB | 2025-10-01 | [下載][刪除]|
| 稅務申報檢查表.docx    | DOCX | 1.1MB | 2025-09-15 | [下載][刪除]|
```

---

## 上傳流程

```
選擇檔案
  ↓
驗證（類型：PDF/DOCX/XLSX, 大小：<10MB）
  ↓
上傳至 R2：resources/{uuid}_{filename}
  ↓
INSERT INTO PublicResources
  ↓
返回檔案資訊
```

---

## 資料表

```sql
CREATE TABLE PublicResources (
  resource_id INTEGER PRIMARY KEY,
  file_name TEXT,
  r2_object_key TEXT,
  file_type TEXT,
  uploaded_at TEXT
);
```

---

## API

```
GET    /api/v1/resources
POST   /api/v1/resources/upload (multipart/form-data)
DELETE /api/v1/resources/:id
GET    /api/v1/resources/:id/download
```

---

## 公開訪問

```
GET /api/public/resources        # 給外部網站使用
GET /api/public/resources/:id/download
```

---

**相關：** [外部文章管理](./21-外部文章管理.md)

