# 06 - 儀表板

**所屬模塊：** 個人中心  
**頁面路徑：** `/dashboard`  
**權限：** 所有使用者  
**最後更新：** 2025年10月27日

---

## 功能概述

登入後的首頁，顯示重要資訊概覽。

---

## Widgets

### 我的任務
- 顯示指派給該員工的任務（進行中）
- 限制 5 筆，按到期日排序

### 待辦階段
- 顯示進行中的階段
- 到期提醒（黃色/紅色標示）

### 工時快捷入口
- 本月累計加權工時
- 一鍵跳轉工時表

### 我的假期狀態
- 特休、病假等餘額
- 剩餘天數提示

---

## 資料來源

```sql
-- 我的任務
SELECT * FROM ActiveTasks 
WHERE assigned_user_id = ? 
AND status IN ('進行中', '待開始')
ORDER BY due_date ASC
LIMIT 5

-- 待辦階段
SELECT s.*, t.title
FROM ActiveTaskStages s
JOIN ActiveTasks t ON s.active_task_id = t.active_task_id
WHERE t.assigned_user_id = ?
AND s.status = '進行中'
ORDER BY s.due_date ASC
LIMIT 5
```

---

## 資料視覺化

**使用圖表庫：** Chart.js

### 工時分佈圓餅圖

**顯示位置：** 儀表板右側

```
本月工時分佈
─────────────────
     記帳 60%  ████
     工商 25%  ██
     稅務 15%  █
     
總加權工時：114.74h
```

**實現：**
```vue
<template>
  <Card title="本月工時分佈">
    <PieChart :data="workHoursDistribution" />
    <div class="mt-2 text-sm text-gray-600">
      總加權工時：{{ totalWeightedHours }}h
    </div>
  </Card>
</template>

<script setup>
import { PieChart } from '@/components/charts/PieChart.vue';

const workHoursDistribution = computed(() => ({
  labels: ['記帳', '工商', '稅務'],
  data: [76.74, 22.0, 16.0],  // 各業務類型的加權工時
  colors: ['#3b82f6', '#10b981', '#f59e0b']
}));
</script>
```

---

### 任務完成率進度條

**顯示位置：** 我的任務 Widget 下方

```
我的任務
───────────────────────
• 仟鑽-記帳  50% ██░░
• 宏達-工商  0%  ░░░░

本月任務完成率
70% ███████░░░ (7/10 已完成)
```

**實現：**
```vue
<ProgressChart 
  :percent="70" 
  :label="`本月任務完成率: ${completedTasks}/${totalTasks} 已完成`"
/>
```

---

**相關：** [任務進度追蹤](./16-任務進度追蹤.md), [工時表填寫](./08-工時表填寫.md), [報表中心](./10-報表中心.md)

