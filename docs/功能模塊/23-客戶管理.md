# 23 - 客戶管理

**所屬模塊：** 客戶管理  
**頁面路徑：** `/clients`  
**權限：** 管理員、會計師  
**最後更新：** 2025年10月27日

---

## 功能概述

管理客戶基本資料、稅務資料、公司登記資料、營業項目、收款資訊及客戶標籤等，支援客戶的新增、編輯、查詢和分類管理。

**核心特點：**
- ✓ 完整的稅務資料管理（統一編號、稅籍編號、營業項目）
- ✓ 靈活的標籤系統（可自訂標籤、顏色、排序）
- ✓ 多維度篩選（名稱、狀況、組織類型、標籤）
- ✓ 與服務、任務、工時完整整合
- ✓ 收款資訊獨立管理

---

## 使用場景

### 場景 1：新客戶簽約
會計師簽約新客戶時，錄入完整的公司登記資料（統一編號、稅籍編號、營業項目、組織類型等），設定負責員工和收款資訊，並標記為「新客戶」。

### 場景 2：客戶分類管理
管理員使用標籤將客戶分類為「VIP客戶」、「重點客戶」、「長期合作」等，方便快速篩選和優先處理。

### 場景 3：客戶資料變更
客戶變更負責人、地址或營業項目時，會計師更新客戶資料，系統自動記錄變更歷史。

### 場景 4：客戶服務查詢
查看客戶詳情時，可以看到該客戶訂閱的所有服務、相關任務、工時記錄等完整資訊。

---

## 功能結構

### 核心功能
- **客戶列表** - 多條件搜尋、標籤篩選、快速操作
- **新增客戶** - 基本資料、稅務資料、營業項目、收款資訊、標籤
- **編輯客戶** - 修改所有資料、更新標籤
- **客戶詳情** - 基本資料、訂閱服務、任務記錄、工時記錄
- **標籤管理** - 新增/編輯/刪除標籤、查看使用情況

### 權限控制
| 角色 | 查看 | 新增 | 編輯 | 刪除 | 管理標籤 |
|-----|------|------|------|------|---------|
| 管理員 | 全部 | ✅ | 全部 | ✅ | ✅ |
| 會計師 | 負責的 | ✅ | 負責的 | ❌ | ❌ |
| 助理 | 負責的 | ❌ | 部分 | ❌ | ❌ |

---

## 資料欄位

### 必填欄位
- 營業人統一編號（8位數字）
- 營業人名稱
- 負責員工

### 主要選填欄位
- 稅籍編號、營業登記地址、營業狀況
- 組織種類（股份有限公司、有限公司、獨資、合夥、非營利組織、政府機關、其他）
- 資本額、設立日期、負責人姓名
- 營業項目（可多個，含項目名稱和代碼）
- 收款時間、收款備註
- 聯絡人、電話、Email、發票數量
- 客戶標籤（可多個）

---

## 標籤系統

### 預設標籤
- VIP客戶
- 重點客戶
- 潛在客戶
- 長期合作
- 新客戶
- 需關注

### 標籤功能
- 管理員可新增/編輯/刪除標籤
- 支援標籤顏色和排序設定
- 所有員工可為客戶指派/移除標籤
- 可查詢標籤使用情況

---

## 技術規格文檔索引

詳細的實作規格請參考：
- [客戶列表 UI 設計](../../技術規格/客戶管理/客戶列表UI.md)
- [客戶表單 UI 設計](../../技術規格/客戶管理/客戶表單UI.md)
- [標籤系統設計](../../技術規格/客戶管理/標籤系統.md)
- [資料驗證規則](../../技術規格/客戶管理/驗證規則.md)
- [業務邏輯](../../技術規格/客戶管理/業務邏輯.md)
- [測試案例](../../技術規格/客戶管理/測試案例.md)

---

## API 規格索引

完整 API 設計請參考：
- [客戶管理 API 概覽](../../API規格/客戶管理/_概覽.md)
- [客戶 CRUD API](../../API規格/客戶管理/客戶CRUD.md)
- [標籤管理 API](../../API規格/客戶管理/標籤管理.md)
- [客戶標籤關聯 API](../../API規格/客戶管理/標籤關聯.md)

---

## 資料表索引

### 核心表格
- [Clients](../../資料庫設計/核心業務/Clients.md) - 客戶主表
- [CustomerTags](../../資料庫設計/核心業務/CustomerTags.md) - 客戶標籤主表
- [ClientTagAssignments](../../資料庫設計/核心業務/ClientTagAssignments.md) - 客戶標籤關聯表

### 關聯表格
- [ClientServices](../../資料庫設計/業務服務/ClientServices.md) - 客戶訂閱服務
- [Tasks](../../資料庫設計/任務系統/Tasks.md) - 客戶任務
- [TimeLogs](../../資料庫設計/核心業務/TimeLogs.md) - 客戶工時

---

## 相關文檔

- [客戶服務設定](./15-客戶服務設定.md) - 設定客戶訂閱的服務
- [任務進度追蹤](./16-任務進度追蹤.md) - 客戶相關任務
- [工時表填寫](./08-工時表填寫.md) - 記錄客戶工時
- [CSV導入功能](./05-CSV導入功能.md) - 批次導入客戶資料

---

**最後更新：** 2025年10月27日  
**文檔版本：** 1.0（模塊化重組版）
