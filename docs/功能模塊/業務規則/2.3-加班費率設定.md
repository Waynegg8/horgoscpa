# 2.3 - 加班費率設定

**所屬模塊：** [業務規則管理](../02-業務規則管理.md)  
**權限：** 管理員專屬  
**最後更新：** 2025年10月27日

---

## 功能概述

設定不同工作日類型和時段的加班費率，**完全符合台灣勞基法規定**。系統根據工作日類型（平日/休息日/國定假日/例假日）和加班時數自動計算加班費倍率。

---

## 核心功能

### 費率設定
- 管理平日、休息日、國定假日、例假日的加班費率
- 設定時數範圍和費率倍數
- 標記是否需要補休（例假日）

### 恢復法定預設值
- 一鍵恢復台灣勞基法規定的費率
- 共10條法定費率規則

### 軟刪除機制
- 標記為歷史費率（不刪除）
- 保留歷史計算結果

---

## 法定費率（勞基法）

### 平日加班（正常工作日）
| 時段 | 費率倍數 | 說明 |
|------|---------|------|
| 第9-10小時 | 1.34倍 | 前2小時 |
| 第11-12小時 | 1.67倍 | 後2小時 |

### 休息日加班（如週六）
| 時段 | 費率倍數 | 說明 |
|------|---------|------|
| 第1-2小時 | 1.34倍 | 前2小時 |
| 第3-8小時 | 1.67倍 | 第3-8小時 |
| 第9-12小時 | 2.67倍 | 第9-12小時 |

### 國定假日加班
| 時段 | 費率倍數 | 說明 |
|------|---------|------|
| 第1-8小時 | 1.0倍 | 另加發1日工資 |
| 第9-10小時 | 1.34倍 | - |
| 第11-12小時 | 1.67倍 | - |

### 例假日加班（僅限天災等突發事件）
| 時段 | 費率倍數 | 補休要求 |
|------|---------|---------|
| 第1-8小時 | 1.0倍 | 必須補休 |
| 第9-12小時 | 2.0倍 | 必須補休 |

**詳細對照：** [勞基法對照表](../../技術規格/業務規則/2.3-加班費率-勞基法對照表.md)

---

## 使用場景

### 場景：平日加班計算

員工平日加班2小時（第9-10小時）。

**計算：**
- 時數：2小時
- 費率：1.34倍
- 時薪：200元
- 加班費：200 × 2 × 1.34 = 536元
- 補休：自動累積2小時補休

---

## 補休與加班費的關聯

- 加班時自動累積補休時數（記錄原始費率）
- 月底未使用的補休自動轉為加班費（按原始費率計算）
- 例假日加班必須補休

**詳細機制：** [補休機制](../../技術規格/業務規則/補休機制.md)

---

## UI 設計要點

### 列表介面
- 按工作日類型分組
- 顯示時數範圍和費率倍數
- 啟用/歷史費率標記

### 表單設計
- 工作日類型選擇
- 時數範圍輸入（開始-結束）
- 費率倍數輸入
- 是否需要補休（checkbox）

---

## 技術規格索引

### 詳細設計
- [UI 設計](../../技術規格/業務規則/2.3-加班費率-UI設計.md)
- [勞基法對照表](../../技術規格/業務規則/2.3-加班費率-勞基法對照表.md)

### API 規格
- [加班費率 API](../../API規格/業務規則/加班費率/_概覽.md)
  - [獲取加班費率列表](../../API規格/業務規則/加班費率/獲取加班費率列表.md)
  - [新增加班費率](../../API規格/業務規則/加班費率/新增加班費率.md)
  - [恢復法定預設值](../../API規格/業務規則/加班費率/恢復法定預設值.md)

### 資料庫設計
- [OvertimeRates 資料表](../../資料庫設計/業務規則/OvertimeRates.md)
- [補休系統資料表](../../資料庫設計/補休系統/)

---

## 測試案例

### 測試 1：恢復法定預設值
- 操作：點擊「恢復法定預設值」
- 預期：插入10條法定費率規則

### 測試 2：修改費率影響計算
- 前置：平日費率為 1.34倍
- 操作：修改為 1.40倍
- 預期：新的加班記錄使用新費率，歷史記錄保留舊費率

---

## 相關文檔

- [業務規則管理](../02-業務規則管理.md) - 主模塊
- [補休機制](../../技術規格/業務規則/補休機制.md) - 補休詳細設計
- [工時表填寫](../08-工時表填寫.md) - 使用費率計算加班費

---

**最後更新：** 2025年10月27日



**所屬模塊：** [業務規則管理](../02-業務規則管理.md)  
**權限：** 管理員專屬  
**最後更新：** 2025年10月27日

---

## 功能概述

設定不同工作日類型和時段的加班費率，**完全符合台灣勞基法規定**。系統根據工作日類型（平日/休息日/國定假日/例假日）和加班時數自動計算加班費倍率。

---

## 核心功能

### 費率設定
- 管理平日、休息日、國定假日、例假日的加班費率
- 設定時數範圍和費率倍數
- 標記是否需要補休（例假日）

### 恢復法定預設值
- 一鍵恢復台灣勞基法規定的費率
- 共10條法定費率規則

### 軟刪除機制
- 標記為歷史費率（不刪除）
- 保留歷史計算結果

---

## 法定費率（勞基法）

### 平日加班（正常工作日）
| 時段 | 費率倍數 | 說明 |
|------|---------|------|
| 第9-10小時 | 1.34倍 | 前2小時 |
| 第11-12小時 | 1.67倍 | 後2小時 |

### 休息日加班（如週六）
| 時段 | 費率倍數 | 說明 |
|------|---------|------|
| 第1-2小時 | 1.34倍 | 前2小時 |
| 第3-8小時 | 1.67倍 | 第3-8小時 |
| 第9-12小時 | 2.67倍 | 第9-12小時 |

### 國定假日加班
| 時段 | 費率倍數 | 說明 |
|------|---------|------|
| 第1-8小時 | 1.0倍 | 另加發1日工資 |
| 第9-10小時 | 1.34倍 | - |
| 第11-12小時 | 1.67倍 | - |

### 例假日加班（僅限天災等突發事件）
| 時段 | 費率倍數 | 補休要求 |
|------|---------|---------|
| 第1-8小時 | 1.0倍 | 必須補休 |
| 第9-12小時 | 2.0倍 | 必須補休 |

**詳細對照：** [勞基法對照表](../../技術規格/業務規則/2.3-加班費率-勞基法對照表.md)

---

## 使用場景

### 場景：平日加班計算

員工平日加班2小時（第9-10小時）。

**計算：**
- 時數：2小時
- 費率：1.34倍
- 時薪：200元
- 加班費：200 × 2 × 1.34 = 536元
- 補休：自動累積2小時補休

---

## 補休與加班費的關聯

- 加班時自動累積補休時數（記錄原始費率）
- 月底未使用的補休自動轉為加班費（按原始費率計算）
- 例假日加班必須補休

**詳細機制：** [補休機制](../../技術規格/業務規則/補休機制.md)

---

## UI 設計要點

### 列表介面
- 按工作日類型分組
- 顯示時數範圍和費率倍數
- 啟用/歷史費率標記

### 表單設計
- 工作日類型選擇
- 時數範圍輸入（開始-結束）
- 費率倍數輸入
- 是否需要補休（checkbox）

---

## 技術規格索引

### 詳細設計
- [UI 設計](../../技術規格/業務規則/2.3-加班費率-UI設計.md)
- [勞基法對照表](../../技術規格/業務規則/2.3-加班費率-勞基法對照表.md)

### API 規格
- [加班費率 API](../../API規格/業務規則/加班費率/_概覽.md)
  - [獲取加班費率列表](../../API規格/業務規則/加班費率/獲取加班費率列表.md)
  - [新增加班費率](../../API規格/業務規則/加班費率/新增加班費率.md)
  - [恢復法定預設值](../../API規格/業務規則/加班費率/恢復法定預設值.md)

### 資料庫設計
- [OvertimeRates 資料表](../../資料庫設計/業務規則/OvertimeRates.md)
- [補休系統資料表](../../資料庫設計/補休系統/)

---

## 測試案例

### 測試 1：恢復法定預設值
- 操作：點擊「恢復法定預設值」
- 預期：插入10條法定費率規則

### 測試 2：修改費率影響計算
- 前置：平日費率為 1.34倍
- 操作：修改為 1.40倍
- 預期：新的加班記錄使用新費率，歷史記錄保留舊費率

---

## 相關文檔

- [業務規則管理](../02-業務規則管理.md) - 主模塊
- [補休機制](../../技術規格/業務規則/補休機制.md) - 補休詳細設計
- [工時表填寫](../08-工時表填寫.md) - 使用費率計算加班費

---

**最後更新：** 2025年10月27日



