# 2.1 - 國定假日管理

**所屬模塊：** [業務規則管理](../02-業務規則管理.md)  
**權限：** 管理員專屬  
**最後更新：** 2025年10月27日

---

## 功能概述

管理國定假日與補班日，用於判定加班類型和工時計算。系統根據日期自動判斷工作日類型，影響加班費率的計算。

---

## 核心功能

### 國定假日 CRUD
- 新增/編輯/刪除國定假日
- 支援補班日標記
- 按年份和類型篩選

### 批量操作
- CSV 批量導入
- CSV 匯出

### 安全機制
- 查詢使用情況（防止刪除被使用的資料）
- 禁止刪除已被工時記錄使用的國定假日

---

## 使用場景

### 場景 1：年度國定假日更新

每年政府公告新年度國定假日與補班日，管理員透過批量導入功能快速更新系統。

**操作步驟：**
1. 下載 CSV 範本
2. 填寫新年度國定假日和補班日
3. 批量導入
4. 系統驗證並新增

---

### 場景 2：補班日設定

2024年春節連假，2/17（六）需補班。

**操作步驟：**
1. 新增補班日：2024-02-17
2. 類型：補班日
3. 員工該日上班視為正常工時，不計加班

---

## UI 設計要點

### 列表介面
- 按年份分組顯示
- 支援按類型篩選（國定假日/補班日）
- 顯示使用情況狀態

### 表單設計
- 日期選擇器
- 假日類型選擇
- 備註欄位

---

## 技術規格索引

### 詳細設計
- [UI 設計](../../技術規格/業務規則/2.1-國定假日-UI設計.md)

### API 規格
- [國定假日 API](../../API規格/業務規則/國定假日/_概覽.md)
  - [獲取國定假日列表](../../API規格/業務規則/國定假日/獲取國定假日列表.md)
  - [新增國定假日](../../API規格/業務規則/國定假日/新增國定假日.md)
  - [批量導入](../../API規格/業務規則/國定假日/批量導入.md)
  - [刪除國定假日](../../API規格/業務規則/國定假日/刪除國定假日.md)
  - [查詢使用情況](../../API規格/業務規則/國定假日/查詢使用情況.md)

### 資料庫設計
- [Holidays 資料表](../../資料庫設計/業務規則/Holidays.md)

---

## 測試案例

### 測試 1：新增國定假日
- 輸入：2025-01-01，國定假日，元旦
- 預期：成功新增

### 測試 2：禁止刪除已使用的國定假日
- 前置：該國定假日已有工時記錄
- 操作：刪除
- 預期：顯示錯誤，禁止刪除

### 測試 3：批量導入
- 輸入：包含10筆國定假日的CSV檔案
- 預期：全部成功導入

---

## 相關文檔

- [業務規則管理](../02-業務規則管理.md) - 主模塊
- [工時表填寫](../08-工時表填寫.md) - 使用國定假日判定加班類型
- [加班費率設定](./2.3-加班費率設定.md) - 根據工作日類型計算費率

---

**最後更新：** 2025年10月27日



**所屬模塊：** [業務規則管理](../02-業務規則管理.md)  
**權限：** 管理員專屬  
**最後更新：** 2025年10月27日

---

## 功能概述

管理國定假日與補班日，用於判定加班類型和工時計算。系統根據日期自動判斷工作日類型，影響加班費率的計算。

---

## 核心功能

### 國定假日 CRUD
- 新增/編輯/刪除國定假日
- 支援補班日標記
- 按年份和類型篩選

### 批量操作
- CSV 批量導入
- CSV 匯出

### 安全機制
- 查詢使用情況（防止刪除被使用的資料）
- 禁止刪除已被工時記錄使用的國定假日

---

## 使用場景

### 場景 1：年度國定假日更新

每年政府公告新年度國定假日與補班日，管理員透過批量導入功能快速更新系統。

**操作步驟：**
1. 下載 CSV 範本
2. 填寫新年度國定假日和補班日
3. 批量導入
4. 系統驗證並新增

---

### 場景 2：補班日設定

2024年春節連假，2/17（六）需補班。

**操作步驟：**
1. 新增補班日：2024-02-17
2. 類型：補班日
3. 員工該日上班視為正常工時，不計加班

---

## UI 設計要點

### 列表介面
- 按年份分組顯示
- 支援按類型篩選（國定假日/補班日）
- 顯示使用情況狀態

### 表單設計
- 日期選擇器
- 假日類型選擇
- 備註欄位

---

## 技術規格索引

### 詳細設計
- [UI 設計](../../技術規格/業務規則/2.1-國定假日-UI設計.md)

### API 規格
- [國定假日 API](../../API規格/業務規則/國定假日/_概覽.md)
  - [獲取國定假日列表](../../API規格/業務規則/國定假日/獲取國定假日列表.md)
  - [新增國定假日](../../API規格/業務規則/國定假日/新增國定假日.md)
  - [批量導入](../../API規格/業務規則/國定假日/批量導入.md)
  - [刪除國定假日](../../API規格/業務規則/國定假日/刪除國定假日.md)
  - [查詢使用情況](../../API規格/業務規則/國定假日/查詢使用情況.md)

### 資料庫設計
- [Holidays 資料表](../../資料庫設計/業務規則/Holidays.md)

---

## 測試案例

### 測試 1：新增國定假日
- 輸入：2025-01-01，國定假日，元旦
- 預期：成功新增

### 測試 2：禁止刪除已使用的國定假日
- 前置：該國定假日已有工時記錄
- 操作：刪除
- 預期：顯示錯誤，禁止刪除

### 測試 3：批量導入
- 輸入：包含10筆國定假日的CSV檔案
- 預期：全部成功導入

---

## 相關文檔

- [業務規則管理](../02-業務規則管理.md) - 主模塊
- [工時表填寫](../08-工時表填寫.md) - 使用國定假日判定加班類型
- [加班費率設定](./2.3-加班費率設定.md) - 根據工作日類型計算費率

---

**最後更新：** 2025年10月27日



