# 工時管理

**用途：** 記錄每天的工作時間，自動計算加班費和補休。

---

## 角色與權限

### 員工可以做什麼
- 填寫自己的工時
- 修改自己的工時
- 刪除自己的工時
- 查看自己的工時統計
- 看不到別人的工時
- 不能填別人的工時

### 管理員可以做什麼
- 查看所有人的工時
- 查看工時統計報表
- 通常不幫員工填工時（管理原則）

---

## 填寫工時表需要輸入/選擇
- 工作日期（必填，日期選擇器）
- 客戶（必填，下拉選單，從所有客戶中選擇）
- 服務項目（必填，下拉選單，如：記帳服務、稅務申報）
- 工作類型（必填，下拉選單）⚠️ 員工自行選擇加班類型
- 工時（必填，輸入數字，0.5 的倍數，上限 12 小時）
- 備註（選填，文字輸入）

## 工作類型選項（下拉選單）

**選項 1：正常工時**
- 說明：一般上班時間（每日8小時內）
- 費率：1.0 倍
- 是否產生補休：不產生

**選項 2：平日加班（前2小時）**
- 說明：平日第 9-10 小時的延長工時
- 費率：1.34 倍
- 是否產生補休：產生補休（1:1）
- 適用時段：當天工作的第 9-10 小時

**選項 3：平日加班（後2小時）**
- 說明：平日第 11-12 小時的延長工時
- 費率：1.67 倍
- 是否產生補休：產生補休（1:1）
- 適用時段：當天工作的第 11-12 小時

**選項 4：休息日加班（前2小時）**
- 說明：休息日（通常週六）工作的前2小時
- 費率：1.34 倍
- 是否產生補休：產生補休（1:1）

**選項 5：休息日加班（第3-8小時）**
- 說明：休息日工作的第3-8小時
- 費率：1.67 倍
- 是否產生補休：產生補休（1:1）

**選項 6：休息日加班（第9-12小時）**
- 說明：休息日工作的第9-12小時
- 費率：2.67 倍
- 是否產生補休：產生補休（1:1）

**選項 7：國定假日加班（8小時內）**
- 說明：國定假日（如端午、中秋、國慶）出勤工作
- 費率：加發 1 日工資（雙倍薪，即使只上 1 小時也算 1 日）
- 是否產生補休：產生補休（統一8小時，與加班費對等）
- 適用日期：由系統國定假日設定決定
- 特別說明：不論實際工作幾小時（1小時或7小時），補休統一產生8小時

**選項 8：國定假日加班（第9-10小時）**
- 說明：國定假日工作超過8小時的第9-10小時
- 費率：1.34 倍
- 是否產生補休：產生補休（1:1）

**選項 9：國定假日加班（第11-12小時）**
- 說明：國定假日工作的第11-12小時
- 費率：1.67 倍
- 是否產生補休：產生補休（1:1）

**選項 10：例假日加班（8小時內）**
- 說明：例假日（通常週日）出勤工作
- 費率：加發 1 日工資 + 強制補休 1 天
- 是否產生補休：強制產生補休（統一8小時，與加班費對等）
- 原則上禁止：僅限天災、事變或突發事件，需主管機關核備
- 特別說明：不論實際工作幾小時，補休統一產生8小時

**選項 11：例假日加班（第9-12小時）**
- 說明：例假日工作超過8小時的第9-12小時
- 費率：2.0 倍
- 是否產生補休：產生補休（1:1）
- 原則上禁止

---

## 實際填寫範例

### 範例 1：正常上班
```
員工 A 填寫 2025年11月1日（週五）工時：

步驟 1：選擇日期 → 2025-11-01
步驟 2：選擇客戶 → 測試科技股份有限公司（下拉選單）
步驟 3：選擇服務 → 記帳服務（下拉選單）
步驟 4：選擇工作類型 → 正常工時（下拉選單）
步驟 5：輸入時數 → 8 小時
步驟 6：備註 → 整理10月傳票（選填）

按下「儲存」後：
✓ 記錄 8 小時正常工時
✓ 加權工時 = 8 × 1.0 = 8 小時
✓ 不產生補休（因為是正常工時）
✓ 這 8 小時會列入客戶成本計算
```

### 範例 2：週六加班
```
員工 A 填寫 2025年11月2日（週六）工時：

步驟 1：選擇日期 → 2025-11-02
步驟 2：選擇客戶 → 測試科技股份有限公司（下拉選單）
步驟 3：選擇服務 → 稅務申報（下拉選單）
步驟 4：選擇工作類型 → 休息日加班（下拉選單）
步驟 5：輸入時數 → 4 小時
步驟 6：備註 → 趕進度

按下「儲存」後：
✓ 記錄 4 小時實際工時
✓ 系統自動計算加班費：
  前 2 小時 × 1.34 倍 + 第 3-4 小時 × 1.67 倍
✓ 自動產生補休 = 4 小時（1:1 對應）
✓ 補休有效期：到 11月30日
```

### 範例 3：平日晚上加班 2 小時
```
員工 B 填寫 2025年11月4日（週一）工時：

第 1 筆：正常工時
- 日期：2025-11-04
- 客戶：ABC公司
- 服務：記帳服務
- 工作類型：正常工時
- 時數：8 小時

第 2 筆：晚上加班（需另外填一筆）
- 日期：2025-11-04
- 客戶：ABC公司
- 服務：記帳服務
- 工作類型：平日加班（前2小時）
- 時數：2 小時
- 備註：完成月結

按下「儲存」後：
✓ 當天總共 10 小時工時
✓ 正常 8 小時 + 加班 2 小時（第9-10小時）
✓ 加班費 = 2 × 時薪 × 1.34
✓ 產生補休 2 小時（1:1）
```

### 範例 4：平日晚上加班 4 小時（跨費率）
```
員工 C 填寫 2025年11月5日（週二）工時：

第 1 筆：正常工時
- 工作類型：正常工時
- 時數：8 小時

第 2 筆：加班前 2 小時
- 工作類型：平日加班（前2小時）
- 時數：2 小時
- 備註：第 9-10 小時

第 3 筆：加班後 2 小時
- 工作類型：平日加班（後2小時）
- 時數：2 小時
- 備註：第 11-12 小時

按下「儲存」後：
✓ 當天總共 12 小時工時（已達上限）
✓ 正常 8 小時 + 加班前2小時 + 加班後2小時
✓ 加班費 = (2 × 時薪 × 1.34) + (2 × 時薪 × 1.67)
✓ 產生補休 4 小時（1:1）
```
