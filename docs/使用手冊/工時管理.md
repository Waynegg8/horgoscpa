# 工時管理

**功能說明：** 記錄每天的工作時間  
**誰可以用：** 所有人（員工填自己，管理員看全部）

---

## 🎯 這個功能做什麼

記錄你每天的工作時間，包括：
- 為哪個客戶工作
- 做了什麼服務
- 工作了多久
- 是否加班

系統會自動計算加權工時（加班有加成）。

---

## 📱 如何使用

### 填寫今天的工時
1. 點選左側選單「工時表」
2. 會看到本週的日曆格子（像 Excel）
3. 點擊今天的格子
4. 填寫資料：
   - 選擇客戶（從下拉選單）
   - 選擇服務項目（如：記帳服務）
   - 填入工時（如：3.5小時）
   - 選擇工作類型（正常/加班）
   - 填寫備註（選填）
5. 點擊「儲存」

### 填寫請假
1. 在工時表中點擊請假的日期
2. 選擇「請假」而非「工作」
3. 選擇假別（特休、病假等）
4. 填入請假時數
5. 點擊「儲存」

### 查看本月工時
1. 工時表下方會顯示本月統計
2. 可以看到：
   - 總工時
   - 加權工時（含加班加成）
   - 各客戶工時分布

---

## 💡 什麼是加權工時

**簡單說：** 加班的時間會乘以倍數

**一般加班舉例：**
```
正常上班 8小時 → 加權工時 8小時（× 1.0）
平日加班 2小時 → 加權工時 2.68小時（× 1.34）
休息日加班 4小時 → 加權工時 6.02小時（前2h×1.34 + 後2h×1.67）
```

**⚠️ 國定假日/例假日特殊規則：**
```
國定假日加班 3小時 → 加權工時 8小時（統一計算）⭐
國定假日加班 0.5小時 → 加權工時 8小時（統一計算）⭐
例假日加班 5小時 → 加權工時 8小時（統一計算）⭐

說明：國定假日或例假日加班，不論實際工作幾小時，
      系統統一按「8小時」計算加權工時、加班費和補休。
      這是勞基法規定，確保員工權益。
```

**用途：**
- 計算實際工作價值
- 績效考核參考
- 薪資計算參考（加班費計算基礎）
- 客戶成本分析

---

## ⚠️ 注意事項

### 工時限制
- **每天最多12小時**（勞基法規定）⭐
- **只能填0.5的倍數**（如：0.5、1.0、1.5、2.0...8.5）⭐
- 不可填寫：2.3、8.7等非0.5倍數的數字
- 如果填錯可以修改
- 管理員可以看到並修改所有人的工時

### 國定假日/例假日特殊規則 ⭐ 重要
- **「國定假日8小時內」類型：最多只能填8小時**
- **「例假日8小時內」類型：最多只能填8小時**
- 如果加班超過8小時，需要分開填寫：
  ```
  範例：國慶日加班10小時
  第1筆：選擇「國定假日8小時內」，填 8 小時
  第2筆：選擇「國定假日第9-10小時」，填 2 小時
  ```
- 系統會自動處理：
  - 第1筆：給8小時工資、8小時補休、8小時加權工時
  - 第2筆：正常計算（2 × 1.34）

### 補班日規則 ⭐ 新增
- **補班日 = 正常上班日**（如：春節前的週六補班）
- 可選擇：正常工時、平日加班
- 不可選擇：休息日加班（系統會拒絕）
- 系統會顯示「📅 補班日」標記提醒您
- 範例：
  ```
  2025-02-08（週六，春節補班日）
  ✅ 可填：正常工時 8小時
  ✅ 可填：平日加班（前2小時）2小時
  ❌ 不可填：休息日加班（系統會提示錯誤）
  ```

### 請假規則
- 請假會自動扣除假期餘額
- 需要先有假期額度才能請假
- 同一天不能重複請假

### 客戶選擇
- 員工只能選擇自己負責的客戶
- 如果客戶不在列表，請聯繫管理員

---

## 📊 報表查詢

### 查看自己的工時統計
1. 點選左側選單「報表中心」
2. 選擇日期範圍
3. 系統會顯示：
   - 總工時
   - 加權工時
   - 各客戶工時分布
   - 工時趨勢圖

---

## 🔗 相關功能

- [儀表板](./儀表板.md) - 查看本月工時概況
- [客戶管理](./客戶管理.md) - 查看你負責的客戶
- [假期管理](./假期管理.md) - 工時表中也可以登記請假
- [任務管理](./任務管理.md) - 為任務記錄工時
- [報表中心](./報表中心.md) - 查看工時統計
- [系統設置](./系統設置.md) - 管理員設定加班費率

---

**完整開發規格：** 見 [開發指南/工時管理-完整規格.md](../開發指南/工時管理-完整規格.md)

