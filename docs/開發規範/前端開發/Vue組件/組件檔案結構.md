# Vue 組件檔案結構

**最後更新：** 2025年10月27日

---

## 標準結構順序

```vue
<script setup lang="ts">
// 1. Imports（按類別分組）
import { ref, computed, onMounted, watch } from 'vue';
import { useRouter } from 'vue-router';
import { useClientStore } from '@/stores/client';
import StyledButton from '@/components/common/StyledButton.vue';
import type { Client } from '@/types/client';

// 2. Props 定義
interface Props {
  clientId: string;
  mode?: 'view' | 'edit';
}

const props = withDefaults(defineProps<Props>(), {
  mode: 'view'
});

// 3. Emits 定義
const emit = defineEmits<{
  save: [client: Client];
  cancel: [];
}>();

// 4. Composables & Stores
const router = useRouter();
const clientStore = useClientStore();

// 5. Reactive State
const isLoading = ref(false);
const form = ref<Partial<Client>>({});

// 6. Computed Properties
const isValid = computed(() => {
  return form.value.company_name?.length >= 2;
});

// 7. Watchers
watch(() => props.clientId, async (newId) => {
  await loadClient(newId);
});

// 8. Methods
const loadClient = async (id: string) => {
  // ...
};

// 9. Lifecycle Hooks
onMounted(() => {
  // ...
});
</script>

<template>
  <div class="client-form">
    <!-- Content -->
  </div>
</template>

<style scoped>
/* 優先使用 Tailwind classes */
</style>
```

---

## 導入順序規範

```typescript
// 1. Vue 核心
import { ref, computed, onMounted } from 'vue';
import { useRouter, useRoute } from 'vue-router';

// 2. 第三方套件
import axios from 'axios';

// 3. Stores
import { useAuthStore } from '@/stores/auth';

// 4. Composables
import { useAuth } from '@/composables/useAuth';

// 5. Components
import StyledButton from '@/components/common/StyledButton.vue';

// 6. Types
import type { Client } from '@/types/client';

// 7. Utils
import { formatDate } from '@/utils/date';
```

---

## 檢查清單

- [ ] 按照標準順序組織代碼
- [ ] 導入順序正確
- [ ] Props 和 Emits 有類型定義
- [ ] 使用 TypeScript
- [ ] 優先使用 Tailwind classes

---

**相關：** [Props與Emits](./Props與Emits.md) | [響應式狀態](./響應式狀態.md)

