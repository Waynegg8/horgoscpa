# 共用組件規範

**最後更新：** 2025年10月27日

---

## 組件庫結構

```
frontend/src/components/
├── common/                    -- 共用組件
│   ├── StyledButton.vue
│   ├── StyledInput.vue
│   ├── StyledSelect.vue
│   ├── StyledModal.vue
│   ├── LoadingSpinner.vue
│   └── Pagination.vue
│
└── features/                  -- 功能組件
    ├── clients/
    ├── tasks/
    └── timesheet/
```

---

## 何時創建共用組件

### 創建條件（滿足任一）

1. **使用頻率：** 在 3個或以上的地方使用
2. **複雜度：** 元素有複雜的狀態邏輯
3. **一致性：** 需要保持樣式一致性

### 範例決策

```
✅ 按鈕（Button）
- 使用頻率：所有頁面
- 複雜度：中（variant, size, loading）
→ 創建 StyledButton.vue

❌ 簡單分隔線（Divider）
- 使用頻率：少數頁面
- 複雜度：低
→ 不創建，直接用 <hr class="my-4" />

✅ 資料表格（DataTable）
- 使用頻率：多個頁面
- 複雜度：高（排序、篩選、分頁）
→ 創建 StyledTable.vue
```

---

## 設計原則

### 1. 靈活性 vs 簡單性

```vue
<!-- ✅ 提供合理的變體 -->
<StyledButton variant="primary" size="md" />

<!-- ❌ 過度靈活 -->
<StyledButton :bg-color="color" :font-size="size" />

<!-- ❌ 過度簡單 -->
<StyledButton />
```

### 2. 使用 Slots

```vue
<!-- 基本用法 -->
<StyledButton>儲存</StyledButton>

<!-- 自訂內容 -->
<StyledButton>
  <svg>...</svg>
  <span>儲存</span>
</StyledButton>

<!-- 具名 Slots -->
<StyledModal>
  <template #header>標題</template>
  <template #default>內容</template>
  <template #footer>按鈕</template>
</StyledModal>
```

---

## 文檔要求

每個共用組件應包含：
1. **Props 說明**（類型、預設值、用途）
2. **Events 說明**（參數、觸發時機）
3. **Slots 說明**（可用的 slots）
4. **使用範例**（常見用法）

---

## 檢查清單

- [ ] 檢查是否有現成組件
- [ ] 優先使用 Styled* 組件
- [ ] 重複3次以上才創建
- [ ] 有完整的 Props 定義
- [ ] 提供合理的變體選項

---

**相關：** [StyledButton](./StyledButton.md) | [StyledInput](./StyledInput.md)

