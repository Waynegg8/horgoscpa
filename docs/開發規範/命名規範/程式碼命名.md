# 程式碼命名規範

**最後更新：** 2025年10月27日

---

## 1. 變數命名

### 規則：camelCase（小駝峰）

```typescript
✅ 正確：
const userId = 123;
const companyName = 'ABC Corp';
const isActive = true;
const hasPermission = false;
const totalAmount = 1000;

❌ 錯誤：
const user_id = 123;           // 不使用 snake_case
const UserName = 'John';        // 不使用 PascalCase
const COMPANY_ID = 456;         // 不使用 UPPER_CASE（除非是常數）
```

### 布林值命名

**使用 is/has/can 前綴：**

```typescript
✅ 正確：
const isActive = true;
const isLoading = false;
const hasPermission = checkPermission();
const canEdit = user.role === 'admin';
const shouldUpdate = data.changed;

❌ 錯誤：
const active = true;           // 不清楚是狀態還是動作
const permission = true;       // 不清楚含義
const edit = true;             // 太簡短
```

### 陣列命名

**使用複數形式：**

```typescript
✅ 正確：
const users = [user1, user2];
const clients = await getClients();
const selectedItems = [];

❌ 錯誤：
const userList = [user1, user2];  // 不需要 List 後綴
const clientArr = [];             // 不使用縮寫
```

---

## 2. 函數命名

### 規則：camelCase + 動詞開頭

```typescript
✅ 正確：
function getUser(id: number) { }
function createClient(data: ClientData) { }
function updateTask(id: number, data: any) { }
function deleteRecord(id: number) { }
function calculateTotal(items: Item[]) { }
function isValidEmail(email: string): boolean { }
function hasPermission(userId: number): boolean { }

❌ 錯誤：
function user(id: number) { }           // 缺少動詞
function GetUser(id: number) { }        // 不使用 PascalCase
function get_user(id: number) { }       // 不使用 snake_case
```

### 常用動詞

| 動詞 | 用途 | 範例 |
|------|------|------|
| `get` | 獲取資料 | `getUser()`, `getClients()` |
| `create` | 創建資源 | `createClient()`, `createTask()` |
| `update` | 更新資源 | `updateUser()`, `updateStatus()` |
| `delete` | 刪除資源 | `deleteClient()`, `deleteTask()` |
| `find` | 查找資料 | `findById()`, `findByEmail()` |
| `is` | 判斷真假 | `isValid()`, `isAdmin()` |
| `has` | 是否擁有 | `hasPermission()`, `hasAccess()` |
| `can` | 是否可以 | `canEdit()`, `canDelete()` |
| `calculate` | 計算 | `calculateTotal()`, `calculateTax()` |
| `validate` | 驗證 | `validateEmail()`, `validateInput()` |
| `handle` | 處理事件 | `handleClick()`, `handleSubmit()` |

---

## 3. 類別命名

### 規則：PascalCase（大駝峰）+ 名詞

```typescript
✅ 正確：
class UserService { }
class ClientRepository { }
class AuthMiddleware { }
class AppError extends Error { }
class DateUtils { }

❌ 錯誤：
class userService { }          // 不使用 camelCase
class user_service { }         // 不使用 snake_case
class UserServiceClass { }     // 不加 Class 後綴
```

### 常用後綴

| 後綴 | 用途 | 範例 |
|------|------|------|
| `Service` | 業務邏輯服務 | `UserService`, `ClientService` |
| `Repository` | 資料存取 | `UserRepository`, `ClientRepository` |
| `Controller` | 控制器 | `UserController`, `ApiController` |
| `Middleware` | 中間件 | `AuthMiddleware`, `LoggerMiddleware` |
| `Error` | 錯誤類別 | `AppError`, `ValidationError` |
| `Utils` / `Helper` | 工具類 | `DateUtils`, `StringHelper` |

---

## 4. 介面/類型命名

### 規則：PascalCase

```typescript
✅ 正確：
interface User { }
interface CreateClientRequest { }
interface ApiResponse<T> { }
type UserId = number;
type Status = 'active' | 'inactive';

// 可選：使用 I 前綴
interface IUser { }
interface IClientService { }

❌ 錯誤：
interface user { }             // 不使用小寫
interface userInterface { }    // 不使用 camelCase
interface UserInterface { }    // 不加 Interface 後綴
```

---

## 5. 常數命名

### 規則：UPPER_SNAKE_CASE（全大寫蛇形）

```typescript
✅ 正確：
const MAX_LOGIN_ATTEMPTS = 5;
const API_BASE_URL = 'https://api.example.com';
const DEFAULT_PAGE_SIZE = 50;
const ALLOWED_FILE_TYPES = ['pdf', 'docx', 'xlsx'];
const JWT_EXPIRES_IN = 3600;

❌ 錯誤：
const maxLoginAttempts = 5;    // 常數應使用大寫
const apiBaseUrl = '...';      // 常數應使用大寫
const Max_Login_Attempts = 5;  // 不混用大小寫
```

### 何時使用常數

```typescript
✅ 使用常數：
const MAX_RETRY = 3;           // 配置值
const API_VERSION = 'v1';      // 固定值
const ERROR_CODES = { ... };   // 列舉值

❌ 不需要常數：
const userId = getUserId();    // 變數（會改變）
const tempValue = calculate(); // 暫存值
```

---

## 6. 列舉命名

### 規則：PascalCase（列舉名）+ UPPER_CASE（值）

```typescript
✅ 正確：
enum UserRole {
  ADMIN = 'admin',
  EMPLOYEE = 'employee',
  GUEST = 'guest'
}

enum TaskStatus {
  PENDING = 'pending',
  IN_PROGRESS = 'in_progress',
  COMPLETED = 'completed',
  CANCELLED = 'cancelled'
}

❌ 錯誤：
enum userRole {                // 列舉名應 PascalCase
  admin = 'admin'              // 值應 UPPER_CASE
}
```

---

## 7. 私有成員命名

### 規則：使用 `private` 關鍵字，不使用底線前綴

```typescript
✅ 正確：
class UserService {
  private db: D1Database;
  private config: Config;
  
  private validateInput(data: any): boolean {
    // ...
  }
}

❌ 錯誤：
class UserService {
  private _db: D1Database;     // 不使用底線前綴
  private __config: Config;    // 不使用雙底線
}
```

---

## 8. 事件處理函數命名

### 規則：handle + 事件名稱

```typescript
✅ 正確：
const handleClick = () => { };
const handleSubmit = () => { };
const handleChange = (e) => { };
const handleKeyPress = (e) => { };

❌ 錯誤：
const onClick = () => { };     // Vue 中可以，但 handle 更清楚
const clickHandler = () => { }; // 順序不對
const doClick = () => { };     // 不使用 do 前綴
```

---

## 9. 泛型參數命名

### 規則：使用單字母或描述性名稱

```typescript
✅ 正確：
// 單字母（簡單情況）
function identity<T>(arg: T): T { }
function map<T, U>(items: T[], fn: (item: T) => U): U[] { }

// 描述性名稱（複雜情況）
interface Repository<Entity, ID> {
  findById(id: ID): Entity | null;
}

interface ApiResponse<DataType> {
  success: boolean;
  data: DataType;
}

❌ 錯誤：
function identity<Type>(arg: Type): Type { }  // 太長
function map<t, u>() { }                      // 不使用小寫
```

**常用泛型參數：**
- `T` - Type（類型）
- `U`, `V` - 第二、第三個類型
- `K` - Key（鍵）
- `V` - Value（值）
- `E` - Element（元素）
- `R` - Return（返回值）

---

## 10. 命名長度建議

```typescript
✅ 合適的長度：
const userId = 1;              // 短且清楚
const companyName = 'ABC';     // 適中
const isUserAuthenticated = true;  // 長但清楚

❌ 過短或過長：
const u = 1;                   // 太短（除非在迴圈中）
const thisIsTheUserIdentificationNumber = 1;  // 太長
```

---

## 相關文檔

- [資料庫命名](./資料庫命名.md)
- [檔案命名](./檔案命名.md)
- [API命名](./API命名.md)

---

**最後更新：** 2025年10月27日


