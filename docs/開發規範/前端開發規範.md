# 前端開發規範

**最後更新：** 2025年10月27日

---

## CSS 標準化

### ✅ 使用 Tailwind CSS

```vue
<!-- ✅ 正確：使用 Tailwind utility classes -->
<button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
  儲存
</button>
```

### ❌ 禁止自訂 CSS 檔案

```css
/* ❌ 禁止：編寫獨立的 style.css */
.my-button {
  background-color: blue;
  padding: 8px 16px;
  border-radius: 4px;
}
```

---

## 組件重用規範

### 共用組件使用原則

**識別共用元素：**
- 按鈕、輸入框、下拉選單 → 共用組件
- 彈出視窗、提示訊息 → 共用組件
- 表格、分頁、載入動畫 → 共用組件

### ❌ 禁止的做法

```vue
<!-- ❌ 在每個頁面中自己做一個按鈕 -->
<button class="bg-blue-500...">儲存</button>
```

### ✅ 正確的做法

```vue
<!-- ✅ 使用共用組件 -->
<StyledButton variant="primary" @click="save">儲存</StyledButton>
```

### 共用組件範例

```vue
<!-- components/common/StyledButton.vue -->
<template>
  <button 
    :class="buttonClasses"
    @click="$emit('click')"
  >
    <slot />
  </button>
</template>

<script setup lang="ts">
const props = defineProps<{
  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
}>();

const buttonClasses = computed(() => {
  const base = 'font-semibold rounded transition-colors';
  const variants = {
    primary: 'bg-blue-500 hover:bg-blue-600 text-white',
    secondary: 'bg-gray-200 hover:bg-gray-300 text-gray-800',
    danger: 'bg-red-500 hover:bg-red-600 text-white',
    ghost: 'bg-transparent hover:bg-gray-100 text-gray-700'
  };
  const sizes = {
    sm: 'py-1 px-2 text-sm',
    md: 'py-2 px-4 text-base',
    lg: 'py-3 px-6 text-lg'
  };
  
  return `${base} ${variants[props.variant || 'primary']} ${sizes[props.size || 'md']}`;
});
</script>
```

---

## API 呼叫規範

### 統一 API 服務

```typescript
// api/base.api.ts
const BASE_URL = '/api/v1';

export const api = {
  async get(url: string, options?: RequestInit) {
    const response = await fetch(`${BASE_URL}${url}`, {
      ...options,
      credentials: 'include'  // 自動帶上 Cookie
    });
    
    if (!response.ok) {
      throw new APIError(await response.json());
    }
    
    return await response.json();
  },
  
  async post(url: string, data: any, options?: RequestInit) {
    return this.request('POST', url, data, options);
  }
};
```

### 使用範例

```typescript
// api/task.api.ts
import { api } from './base.api';

export const taskAPI = {
  async getTasks(params?: { status?: string; page?: number }) {
    return await api.get('/tasks', { params });
  },
  
  async updateStage(stageId: number, status: string) {
    return await api.put(`/tasks/stages/${stageId}`, { status });
  }
};
```

---

## 表單驗證規範

```typescript
// utils/validation.ts
export const validators = {
  required: (value: any) => {
    return !!value || '此欄位為必填';
  },
  
  email: (value: string) => {
    const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return pattern.test(value) || '請輸入有效的電子郵件';
  },
  
  minLength: (min: number) => (value: string) => {
    return value.length >= min || `最少需要 ${min} 個字元`;
  }
};
```

---

## HTML 語意化規範

```vue
<!-- ✅ 正確：使用語意化標籤 -->
<template>
  <main class="container mx-auto">
    <header class="mb-6">
      <h1 class="text-2xl font-bold">任務列表</h1>
    </header>
    
    <nav class="mb-4">
      <button>全部</button>
      <button>進行中</button>
    </nav>
    
    <section>
      <table><!-- 表格內容 --></table>
    </section>
  </main>
</template>

<!-- ❌ 錯誤：過度使用 div -->
<template>
  <div>
    <div><div>任務列表</div></div>
    <div><div>全部</div><div>進行中</div></div>
  </div>
</template>
```

---

## 相關文檔

- [開發規範](../開發規範.md)
- [代碼規範](./代碼規範.md)
- [架構設計](../架構設計.md)

---

**最後更新：** 2025年10月27日



**最後更新：** 2025年10月27日

---

## CSS 標準化

### ✅ 使用 Tailwind CSS

```vue
<!-- ✅ 正確：使用 Tailwind utility classes -->
<button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
  儲存
</button>
```

### ❌ 禁止自訂 CSS 檔案

```css
/* ❌ 禁止：編寫獨立的 style.css */
.my-button {
  background-color: blue;
  padding: 8px 16px;
  border-radius: 4px;
}
```

---

## 組件重用規範

### 共用組件使用原則

**識別共用元素：**
- 按鈕、輸入框、下拉選單 → 共用組件
- 彈出視窗、提示訊息 → 共用組件
- 表格、分頁、載入動畫 → 共用組件

### ❌ 禁止的做法

```vue
<!-- ❌ 在每個頁面中自己做一個按鈕 -->
<button class="bg-blue-500...">儲存</button>
```

### ✅ 正確的做法

```vue
<!-- ✅ 使用共用組件 -->
<StyledButton variant="primary" @click="save">儲存</StyledButton>
```

### 共用組件範例

```vue
<!-- components/common/StyledButton.vue -->
<template>
  <button 
    :class="buttonClasses"
    @click="$emit('click')"
  >
    <slot />
  </button>
</template>

<script setup lang="ts">
const props = defineProps<{
  variant?: 'primary' | 'secondary' | 'danger' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
}>();

const buttonClasses = computed(() => {
  const base = 'font-semibold rounded transition-colors';
  const variants = {
    primary: 'bg-blue-500 hover:bg-blue-600 text-white',
    secondary: 'bg-gray-200 hover:bg-gray-300 text-gray-800',
    danger: 'bg-red-500 hover:bg-red-600 text-white',
    ghost: 'bg-transparent hover:bg-gray-100 text-gray-700'
  };
  const sizes = {
    sm: 'py-1 px-2 text-sm',
    md: 'py-2 px-4 text-base',
    lg: 'py-3 px-6 text-lg'
  };
  
  return `${base} ${variants[props.variant || 'primary']} ${sizes[props.size || 'md']}`;
});
</script>
```

---

## API 呼叫規範

### 統一 API 服務

```typescript
// api/base.api.ts
const BASE_URL = '/api/v1';

export const api = {
  async get(url: string, options?: RequestInit) {
    const response = await fetch(`${BASE_URL}${url}`, {
      ...options,
      credentials: 'include'  // 自動帶上 Cookie
    });
    
    if (!response.ok) {
      throw new APIError(await response.json());
    }
    
    return await response.json();
  },
  
  async post(url: string, data: any, options?: RequestInit) {
    return this.request('POST', url, data, options);
  }
};
```

### 使用範例

```typescript
// api/task.api.ts
import { api } from './base.api';

export const taskAPI = {
  async getTasks(params?: { status?: string; page?: number }) {
    return await api.get('/tasks', { params });
  },
  
  async updateStage(stageId: number, status: string) {
    return await api.put(`/tasks/stages/${stageId}`, { status });
  }
};
```

---

## 表單驗證規範

```typescript
// utils/validation.ts
export const validators = {
  required: (value: any) => {
    return !!value || '此欄位為必填';
  },
  
  email: (value: string) => {
    const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return pattern.test(value) || '請輸入有效的電子郵件';
  },
  
  minLength: (min: number) => (value: string) => {
    return value.length >= min || `最少需要 ${min} 個字元`;
  }
};
```

---

## HTML 語意化規範

```vue
<!-- ✅ 正確：使用語意化標籤 -->
<template>
  <main class="container mx-auto">
    <header class="mb-6">
      <h1 class="text-2xl font-bold">任務列表</h1>
    </header>
    
    <nav class="mb-4">
      <button>全部</button>
      <button>進行中</button>
    </nav>
    
    <section>
      <table><!-- 表格內容 --></table>
    </section>
  </main>
</template>

<!-- ❌ 錯誤：過度使用 div -->
<template>
  <div>
    <div><div>任務列表</div></div>
    <div><div>全部</div><div>進行中</div></div>
  </div>
</template>
```

---

## 相關文檔

- [開發規範](../開發規範.md)
- [代碼規範](./代碼規範.md)
- [架構設計](../架構設計.md)

---

**最後更新：** 2025年10月27日



