# 📖 服務項目管理 - 快速開始

> **3分鐘學會使用服務項目和任務模板管理**

---

## 🎯 功能概覽

這個系統可以讓你：
1. ✅ **管理服務項目** - 新增、查看、刪除服務類別
2. ✅ **管理子項目** - 每個服務下可以新增多個子任務
3. ✅ **創建任務模板** - 建立可重複使用的工作流程

---

## 🚀 快速開始

### 步驟1：進入系統設定

```
1. 登入系統（需管理員權限）
2. 訪問：https://www.horgoscpa.com/internal/settings
3. 點擊「服務項目」tab
```

---

## 📋 新增服務項目

### 方式：頁面內直接新增（無需彈窗）

**步驟：**

1. **點擊「+ 新增服務項目」按鈕**
   - 表單會在頁面內展開

2. **填寫服務資訊**
   ```
   服務名稱 *：財務顧問
   服務代碼：FIN_ADVISORY
   說明：提供企業財務規劃與分析服務
   排序：10
   ```

3. **點擊「儲存」**
   - 自動關閉表單
   - 列表自動更新
   - 顯示成功訊息

**取消：**
- 點擊「取消」按鈕
- 或再次點擊「+ 新增服務項目」

---

## 📝 新增服務子項目

### 兩層結構：服務 → 子項目

**步驟：**

1. **點擊任一服務項目**
   - 例如：點擊「記帳服務」這一行
   - 下方會自動展開子項目列表

2. **點擊「+ 新增子項目」**
   - 表單會在子項目區域展開

3. **填寫子項目資訊**
   ```
   子項目名稱 *：財務健檢
   項目代碼：FIN_HEALTH_CHECK
   說明：評估企業財務狀況
   排序：1
   ```

4. **點擊「儲存」**
   - 自動關閉表單
   - 子項目列表自動更新

---

## 🎨 創建任務模板

### 模板類型

1. **統一模板** - 適用於所有客戶
2. **服務專屬模板** - 只用於特定服務

**步驟：**

1. **切換到「任務模板」tab**

2. **點擊「+ 新增任務模板」**
   - 表單會在頁面內展開

3. **填寫模板資訊**
   ```
   模板名稱 *：記帳服務標準流程
   關聯服務：記帳服務（下拉選擇）
   說明：適用於月營業額500萬以下的客戶
   ```

4. **點擊「儲存」**
   - 自動關閉表單
   - 模板列表自動更新

---

## 🔍 查看和管理

### 查看服務及其子項目

```
1. 在「服務項目」列表中點擊任一服務
2. 下方自動顯示該服務的所有子項目
3. 可以新增、刪除子項目
```

**特點：**
- ✅ 點擊整行都可以選中服務
- ✅ 自動載入子項目
- ✅ 視覺化顯示兩層結構

### 篩選任務模板

```
1. 切換到「任務模板」tab
2. 在下拉選單中選擇服務
3. 點擊「篩選」按鈕
4. 只顯示該服務的模板
```

---

## 🗑️ 刪除功能

### 刪除服務項目

```
1. 點擊服務的「刪除」按鈕
2. 確認刪除
3. 服務被標記為停用（軟刪除）
```

**注意：**
- 刪除服務不會刪除其子項目
- 子項目會被隱藏
- 可以重新啟用（需資料庫操作）

### 刪除子項目

```
1. 先點擊服務顯示子項目
2. 點擊子項目的「刪除」按鈕
3. 確認刪除
4. 列表自動更新
```

### 刪除任務模板

```
1. 點擊模板的「刪除」按鈕
2. 確認刪除
3. 會同時刪除所有階段設定
```

---

## 💡 使用場景範例

### 場景1：公司新增服務類別

**需求：** 公司開始提供「財務顧問」服務

**操作：**

```
1. 新增服務項目
   ├─ 名稱：財務顧問
   ├─ 代碼：FIN_ADVISORY
   └─ 說明：企業財務規劃與分析

2. 點擊「財務顧問」

3. 新增子項目
   ├─ 財務健檢
   ├─ 預算編制
   ├─ 成本分析
   └─ 投資評估
```

**結果：**
- ✅ 員工記錄工時時可以選擇這個服務
- ✅ 可以精確追蹤每個子項目的工時

### 場景2：標準化工作流程

**需求：** 為「記帳服務」建立標準流程

**操作：**

```
1. 切換到「任務模板」tab

2. 新增任務模板
   ├─ 名稱：記帳服務標準流程
   ├─ 關聯服務：記帳服務
   └─ 說明：適用於一般客戶

3. 未來可以添加階段：
   ├─ 收集憑證（1小時）
   ├─ 輸入帳務（3小時）
   ├─ 月結對帳（2小時）
   └─ 報表產製（1小時）
```

**用途：**
- ✅ 新客戶進場時選擇這個模板
- ✅ 自動創建所有任務
- ✅ 確保流程一致性

---

## ⚙️ 排序建議

### 服務項目排序

```
核心服務排前面：
10 - 記帳服務
20 - 稅務申報
30 - 顧問諮詢
40 - 工商登記
50 - 審計服務
```

**好處：**
- 預留間隔可以插入新服務
- 例如：可以在15位置插入新服務

### 子項目排序

```
按執行順序排序：
1 - 收集憑證
2 - 輸入帳務
3 - 月結對帳
4 - 報表產製
```

---

## ⚠️ 目前限制

### ❌ 尚未實現的功能

1. **編輯功能**
   - 暫時可用：刪除後重新創建
   - 計劃：實現inline編輯

2. **拖拽排序**
   - 暫時可用：手動輸入排序數字
   - 計劃：實現拖拽功能

3. **任務模板階段管理**
   - 暫時：只能創建模板基本資訊
   - 計劃：實現階段新增/編輯

### ✅ 已可使用的功能

- ✅ 新增服務項目
- ✅ 新增服務子項目
- ✅ 新增任務模板
- ✅ 查看列表
- ✅ 點擊查看子項目
- ✅ 刪除功能
- ✅ 篩選功能

---

## 🎯 最佳實踐

### 1. 命名規範

**服務名稱：**
- ✅ 使用清晰的業務術語
- ✅ 簡短有力（2-4個字）
- ❌ 避免過長或技術化的名稱

**服務代碼：**
- ✅ 大寫英文 + 底線
- ✅ 簡短且有意義
- 例如：`ACCOUNTING`, `TAX_FILING`

### 2. 子項目設計

**原則：**
- 按工作流程順序排列
- 每個子項目是獨立的工作單元
- 可以單獨記錄工時

**範例：**
```
稅務申報
├─ 1. 資料收集
├─ 2. 申報書編制
├─ 3. 內部審核
└─ 4. 送件申報
```

### 3. 模板設計

**按客戶規模：**
- 小型企業模板
- 中型企業模板
- 大型企業模板

**按業務複雜度：**
- 基礎模板
- 標準模板
- 進階模板

---

## 🆘 常見問題

### Q1: 新增按鈕點了沒反應？

**原因：** 表單已經展開了

**解決：**
- 向上滾動查看表單
- 或再點一次按鈕關閉表單

### Q2: 子項目按鈕是灰色的？

**原因：** 還沒選擇服務項目

**解決：**
- 先點擊任一服務項目
- 等子項目區域顯示後再點擊

### Q3: 儲存後沒有反應？

**檢查：**
1. 必填欄位是否已填寫（標記 *）
2. 查看頁面頂部是否有錯誤訊息
3. 打開F12查看Console是否有錯誤

### Q4: 想修改已創建的服務？

**目前方案：**
1. 刪除原服務
2. 重新創建

**未來：** 會提供inline編輯功能

---

## 📊 系統架構

```
服務項目管理
    │
    ├─ 第一層：Services（服務項目）
    │   ├─ 記帳服務
    │   ├─ 稅務申報
    │   ├─ 顧問諮詢
    │   └─ ...
    │
    └─ 第二層：ServiceItems（服務子項目）
        ├─ 收集憑證
        ├─ 輸入帳務
        ├─ 月結對帳
        └─ ...

任務模板管理
    │
    ├─ TaskTemplates（任務模板）
    │   ├─ 統一模板
    │   └─ 服務專屬模板
    │
    └─ TaskTemplateStages（任務階段）
        ├─ 階段1
        ├─ 階段2
        └─ ...
```

---

## 📞 需要幫助？

**參考文檔：**
- [完整系統說明](./✅-服務項目與任務模板管理系統.md)
- [測試指南](./🧪-測試服務項目管理.md)
- [API文檔](./✅-服務項目與任務模板管理系統.md#-api文檔)

**線上測試：**
- 訪問：`https://www.horgoscpa.com/internal/settings`
- 點擊「服務項目」或「任務模板」tab
- 立即開始使用！

---

**最後更新：** 2025-10-31  
**版本：** v1.1  
**狀態：** ✅ 新增功能已完成，可立即使用

