# éƒ¨ç½²èªªæ˜

**Cloudflare Pages è‡ªå‹•éƒ¨ç½²æŒ‡å—**

**çµ¦ AIï¼š** æ¯æ¬¡é–‹ç™¼å®Œæˆå¾Œå¿…é ˆè‡ªå‹•éƒ¨ç½²

---

## âš ï¸ é‡è¦åŸå‰‡

```
çµ•å°ä¸è®“ç”¨æˆ¶éƒ¨ç½²ï¼AIå¿…é ˆè‡ªå‹•éƒ¨ç½²ï¼
ç”¨æˆ¶æ²’æœ‰æŠ€è¡“èƒŒæ™¯ï¼Œä¸æ‡‰æ¥è§¸éƒ¨ç½²æµç¨‹ã€‚
```

---

## ğŸš€ è‡ªå‹•éƒ¨ç½²æµç¨‹ï¼ˆAIå¿…é ˆåŸ·è¡Œï¼‰

### é€™æ˜¯ Cloudflare Pages å°ˆæ¡ˆ

**éƒ¨ç½²æ–¹å¼ï¼š** Git Push â†’ è‡ªå‹•å»ºç½® â†’ è‡ªå‹•éƒ¨ç½²

**ä¸éœ€è¦æ‰‹å‹•åŸ·è¡Œä»»ä½•éƒ¨ç½²å‘½ä»¤ï¼**

### æ¨™æº–éƒ¨ç½²æ­¥é©Ÿ

```powershell
# 1. ä½¿ç”¨è‡ªå‹•éƒ¨ç½²è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
.\scripts\deploy.ps1

# è…³æœ¬æœƒè‡ªå‹•ï¼š
#   - æª¢æŸ¥ä¿®æ”¹çš„æ–‡ä»¶
#   - æ·»åŠ åˆ° Git
#   - æäº¤ä»£ç¢¼
#   - æ¨é€åˆ°é ç«¯
#   - Cloudflare è‡ªå‹•éƒ¨ç½²
```

### æ‰‹å‹•éƒ¨ç½²æ­¥é©Ÿï¼ˆå¦‚æœè…³æœ¬å¤±æ•—ï¼‰

```bash
# 1. æ·»åŠ æ‰€æœ‰ä¿®æ”¹
git add .

# 2. æäº¤ï¼ˆç”¨ç¹é«”ä¸­æ–‡èªªæ˜ï¼‰
git commit -m "æ–°å¢XXåŠŸèƒ½ï¼šåŠŸèƒ½æè¿°"

# 3. æ¨é€åˆ°é ç«¯
git push origin main

# 4. ç­‰å¾… Cloudflare è‡ªå‹•éƒ¨ç½²ï¼ˆ1-3åˆ†é˜ï¼‰
```

---

## ğŸ“‹ éƒ¨ç½²å¾Œé©—è­‰æ¸…å–®

**AIå¿…é ˆç¢ºèªä»¥ä¸‹æ‰€æœ‰é …ç›®ï¼š**

- [ ] Git æ¨é€æˆåŠŸ
- [ ] Cloudflare Pages å»ºç½®æˆåŠŸ
- [ ] ç¶²ç«™èƒ½æ­£å¸¸è¨ªå•
- [ ] æ–°åŠŸèƒ½æ­£å¸¸é‹ä½œ
- [ ] ç¹é«”ä¸­æ–‡é¡¯ç¤ºæ­£ç¢º
- [ ] æ²’æœ‰ Console éŒ¯èª¤
- [ ] API æ­£å¸¸å›æ‡‰
- [ ] è³‡æ–™åº«é€£æ¥æ­£å¸¸

---

## ğŸ”— ç›¸é—œè³‡æº

**Cloudflare Dashboard:**
```
https://dash.cloudflare.com/
â†’ æŸ¥çœ‹å»ºç½®ç‹€æ…‹å’Œéƒ¨ç½²æ—¥èªŒ
```

**ç¶²ç«™ç¶²å€:**
```
https://horgoscpa.pages.dev
â†’ é©—è­‰éƒ¨ç½²çµæœ
```

---

## ğŸ§ª é©—è­‰æ­¥é©Ÿ

**éƒ¨ç½²å®Œæˆå¾Œï¼ŒAIå¿…é ˆæ¸¬è©¦ï¼š**

```javascript
// 1. æ‰“é–‹ç€è¦½å™¨
// è¨ªå•ï¼šhttps://horgoscpa.pages.dev

// 2. æ¸¬è©¦æ–°åŠŸèƒ½
// åŸ·è¡Œæ‰€æœ‰åŠŸèƒ½æ¸¬è©¦

// 3. æª¢æŸ¥ Console
// ç¢ºèªæ²’æœ‰éŒ¯èª¤

// 4. æ¸¬è©¦ç¹é«”ä¸­æ–‡
// ç¢ºèªé¡¯ç¤ºæ­£ç¢º
```

---

## âŒ å¸¸è¦‹å•é¡Œ

### å•é¡Œ1ï¼šGit æ¨é€å¤±æ•—

```bash
# æª¢æŸ¥é ç«¯é€£æ¥
git remote -v

# æ‡‰è©²çœ‹åˆ°ï¼š
# origin  https://github.com/your-username/horgoscpa.git (fetch)
# origin  https://github.com/your-username/horgoscpa.git (push)

# å¦‚æœä¸å°ï¼Œé‡æ–°è¨­å®šï¼š
git remote set-url origin <æ­£ç¢ºçš„URL>
```

### å•é¡Œ2ï¼šCloudflare å»ºç½®å¤±æ•—

```
1. åˆ° Cloudflare Dashboard æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒ
2. æª¢æŸ¥æ˜¯å¦æœ‰èªæ³•éŒ¯èª¤
3. ä¿®å¾©å¾Œé‡æ–°æ¨é€
```

### å•é¡Œ3ï¼šéƒ¨ç½²å¾ŒåŠŸèƒ½ç•°å¸¸

```
1. æ¸…é™¤ç€è¦½å™¨ç·©å­˜
2. æª¢æŸ¥ Console éŒ¯èª¤è¨Šæ¯
3. æª¢æŸ¥ API ç«¯é»æ˜¯å¦æ­£ç¢º
4. æª¢æŸ¥è³‡æ–™åº«é€£æ¥
```

---

## ğŸ“ éƒ¨ç½²å ±å‘Šæ¨¡æ¿

**AIå®Œæˆéƒ¨ç½²å¾Œï¼Œå¿…é ˆå›å ±ï¼š**

```
å·²å®ŒæˆXXåŠŸèƒ½ï¼Œéƒ¨ç½²å ±å‘Šå¦‚ä¸‹ï¼š

âœ… æ¸¬è©¦å ±å‘Šï¼š
   - æ‰€æœ‰æ¸¬è©¦é€šé

âœ… Git æäº¤ï¼š
   - Commit: "æ–°å¢XXåŠŸèƒ½"
   - å·²æ¨é€åˆ° main åˆ†æ”¯

âœ… Cloudflare å»ºç½®ï¼š
   - å»ºç½®æˆåŠŸ
   - éƒ¨ç½²æ™‚é–“ï¼šç´„ 2 åˆ†é˜

âœ… ç·šä¸Šé©—è­‰ï¼š
   - ç¶²ç«™æ­£å¸¸è¨ªå•ï¼šhttps://horgoscpa.pages.dev
   - æ–°åŠŸèƒ½æ­£å¸¸é‹ä½œ
   - ç¹é«”ä¸­æ–‡é¡¯ç¤ºæ­£ç¢º
   - æ²’æœ‰éŒ¯èª¤

åŠŸèƒ½å·²ä¸Šç·šï¼Œå¯ä»¥ç«‹å³ä½¿ç”¨ï¼
```

---

## ğŸ”’ HTTPS å¼·åˆ¶ç­–ç•¥

### 1. Cloudflare è‡ªå‹• HTTPS

```
âœ… Cloudflare Pages è‡ªå‹•æä¾› HTTPS
âœ… è‡ªå‹•ç”³è«‹å’ŒçºŒç´„ SSL è­‰æ›¸
âœ… æ”¯æ´è‡ªè¨‚ç¶²åŸŸçš„ HTTPS
```

### 2. å¼·åˆ¶ HTTPS é‡å®šå‘

```typescript
// åœ¨ Workers ä¸­å¼·åˆ¶ HTTPS
app.use('*', async (c, next) => {
  const url = new URL(c.req.url);
  
  // å¦‚æœæ˜¯ HTTP è«‹æ±‚ï¼Œé‡å®šå‘åˆ° HTTPS
  if (url.protocol === 'http:') {
    url.protocol = 'https:';
    return c.redirect(url.toString(), 301);
  }
  
  await next();
});
```

### 3. HSTS é ­è¨­ç½®

```typescript
// HTTP Strict Transport Security
app.use('*', async (c, next) => {
  await next();
  
  // å¼·åˆ¶ç€è¦½å™¨ä½¿ç”¨ HTTPSï¼ˆ1å¹´ï¼‰
  c.header('Strict-Transport-Security', 'max-age=31536000; includeSubDomains; preload');
});
```

### 4. å®‰å…¨é ­è¨­ç½®

```typescript
app.use('*', async (c, next) => {
  await next();
  
  // å®‰å…¨ç›¸é—œçš„ HTTP é ­
  c.header('X-Content-Type-Options', 'nosniff');
  c.header('X-Frame-Options', 'DENY');
  c.header('X-XSS-Protection', '1; mode=block');
  c.header('Referrer-Policy', 'strict-origin-when-cross-origin');
  
  // Content Security Policy
  c.header('Content-Security-Policy', [
    "default-src 'self'",
    "script-src 'self' 'unsafe-inline'",
    "style-src 'self' 'unsafe-inline'",
    "img-src 'self' data: https:",
    "font-src 'self' data:",
    "connect-src 'self'",
    "frame-ancestors 'none'"
  ].join('; '));
});
```

### 5. Cloudflare è¨­å®šæª¢æŸ¥æ¸…å–®

```
â–¡ SSL/TLS åŠ å¯†æ¨¡å¼ï¼šFull (strict)
â–¡ Always Use HTTPSï¼šå•Ÿç”¨
â–¡ Automatic HTTPS Rewritesï¼šå•Ÿç”¨
â–¡ Minimum TLS Versionï¼šTLS 1.2
â–¡ TLS 1.3ï¼šå•Ÿç”¨
â–¡ HSTSï¼šå•Ÿç”¨ï¼ˆmax-age: 1 å¹´ï¼‰
```

### 6. é©—è­‰ HTTPS é…ç½®

```bash
# æ¸¬è©¦ HTTPS
curl -I https://your-domain.pages.dev

# æ‡‰è©²çœ‹åˆ°ï¼š
HTTP/2 200
strict-transport-security: max-age=31536000; includeSubDomains; preload
x-content-type-options: nosniff
x-frame-options: DENY

# æ¸¬è©¦ HTTP é‡å®šå‘
curl -I http://your-domain.pages.dev

# æ‡‰è©²çœ‹åˆ°ï¼š
HTTP/1.1 301 Moved Permanently
Location: https://your-domain.pages.dev
```

---

## ğŸ¯ é—œéµæé†’

```
1. æ¯æ¬¡é–‹ç™¼å®Œæˆå¾Œéƒ½å¿…é ˆè‡ªå‹•éƒ¨ç½²
2. ä¸éœ€è¦å•ç”¨æˆ¶æ˜¯å¦è¦éƒ¨ç½²
3. ä¸éœ€è¦ç­‰å¾…ç”¨æˆ¶ç¢ºèª
4. AIè‡ªä¸»å®Œæˆæ•´å€‹æµç¨‹
5. éƒ¨ç½²å®Œæˆå¾Œé™„ä¸Šæ¸¬è©¦å ±å‘Šå’Œç¶²å€
6. ç¢ºä¿ HTTPS å¼·åˆ¶å•Ÿç”¨
```

---

**AIé–‹ç™¼æµç¨‹ï¼šé–‹ç™¼ â†’ æ¸¬è©¦ â†’ éƒ¨ç½² â†’ HTTPSé©—è­‰ â†’ å›å ±**

