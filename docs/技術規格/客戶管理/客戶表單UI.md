# 客戶表單 UI 設計

**最後更新：** 2025年10月27日

---

## 表單結構

```
新增客戶
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【基本資料】
  營業人統一編號*： [________] （8位數字）
  稅籍編號：        [________________]
  營業人名稱*：     [_________________________]
  營業狀況：        (•) 營業中  ( ) 停業  ( ) 歇業
  
【公司登記資料】
  組織種類：        [股份有限公司 ▼]
  資本額：          [__________] 元
  設立日期：        [____/__/__] （YYYY/MM/DD）
  負責人姓名：      [_________]
  營業登記地址：    [_________________________]
  
【登記營業項目】
  [+ 新增營業項目]
  
  ┌─────────────────────────────────┐
  │ 項目1                     [刪除] │
  │ 營業項目名稱：[_______________] │
  │ 營業項目代碼：[_______________] │
  └─────────────────────────────────┘
  
【收款資訊】
  收款時間：        [每月5日___________]
  收款備註：        [_________________________]
                    [_________________________]

【內部管理資料】  
  負責員工*：       [紜蓁 ▼]
  聯絡人1：         [_________]
  聯絡人2：         [_________]
  電話：            [_____________]
  Email：           [_____________]
  發票數量：        [___] 張/月
  
【客戶標籤】
  標籤：            [🏷️ VIP客戶] [🏷️ 重點客戶] [+ 新增標籤]
  
【備註】
  [_________________________]
  [_________________________]

[確定] [取消]
```

---

## 必填欄位

必填欄位標記 `*`：
1. 營業人統一編號
2. 營業人名稱
3. 負責員工

---

## 營業項目管理

### 新增項目
- 點擊 [+ 新增營業項目]
- 動態新增一個項目區塊
- 每個區塊包含：名稱、代碼、刪除按鈕

### 刪除項目
- 點擊 [刪除] 移除該項目
- 至少保留 0 個項目（可全部刪除）

### 項目範例
```
營業項目名稱：電腦及電腦周邊設備零售
營業項目代碼：483111
```

---

## 標籤選擇

### 標籤顯示
```html
<div class="tags-container">
  <span class="tag selected" style="background: #FF5733;">
    VIP客戶 <button>×</button>
  </span>
  <span class="tag selected" style="background: #FFC300;">
    重點客戶 <button>×</button>
  </span>
  <button class="add-tag">+ 新增標籤</button>
</div>
```

### 新增標籤
點擊 [+ 新增標籤] 彈出對話框：
```
選擇標籤
━━━━━━━━━━━━━━
 ☐ VIP客戶
 ☑ 重點客戶
 ☐ 潛在客戶
 ☐ 長期合作
 ☐ 新客戶
 ☐ 需關注
━━━━━━━━━━━━━━
管理員可 [+ 新增自訂標籤]

[確定] [取消]
```

---

## 組織種類選項

下拉選單選項：
- 股份有限公司
- 有限公司
- 獨資
- 合夥
- 非營利組織
- 政府機關
- 其他

---

## 驗證規則

### 即時驗證
| 欄位 | 驗證規則 | 錯誤訊息 |
|-----|---------|---------|
| 統一編號 | 8位數字 | 統一編號必須是8位數字 |
| Email | Email格式 | Email 格式不正確 |
| 設立日期 | YYYMMDD（7位數字）| 設立日期格式錯誤 |
| 資本額 | 正數 | 資本額必須大於0 |

### 送出驗證
- 檢查必填欄位
- 檢查統一編號是否重複
- 營業項目至少要有名稱和代碼

---

## 編輯模式差異

### 新增模式
- 標題：新增客戶
- 統一編號可輸入
- 送出按鈕：[確定]

### 編輯模式
- 標題：編輯客戶 - {公司名稱}
- 統一編號不可編輯（顯示為灰色文字）
- 送出按鈕：[儲存變更]
- 額外顯示：
  - 建立時間
  - 最後更新時間

---

## 權限控制

### 管理員
- 可編輯所有欄位
- 可管理標籤（新增自訂標籤）

### 會計師
- 可編輯自己負責的客戶
- 可使用現有標籤，但不能新增自訂標籤

### 助理
- 只能編輯：聯絡人、電話、Email、備註
- 其他欄位為唯讀

---

## 響應式設計

### 手機版（< 768px）
- 單欄佈局
- 區塊可摺疊（預設展開「基本資料」和「內部管理資料」）
- 營業項目每個獨立顯示，佔滿寬度

---

**相關文檔：**
- [客戶列表 UI](./客戶列表UI.md)
- [驗證規則](./驗證規則.md)


