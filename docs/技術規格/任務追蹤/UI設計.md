# ä»»å‹™é€²åº¦è¿½è¹¤ - UI è¨­è¨ˆ

**é é¢è·¯å¾‘ï¼š** `/tasks`  
**æ¬Šé™ï¼š** æ‰€æœ‰å“¡å·¥ï¼ˆä¾æ“š `module_visibility_tasks`ï¼‰  
**æœ€å¾Œæ›´æ–°ï¼š** 2025å¹´10æœˆ27æ—¥

---

## é é¢çµæ§‹

### çœ‹æ¿è¦–åœ–
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æˆ‘çš„ä»»å‹™         [çœ‹æ¿] [åˆ—è¡¨]  [ç¯©é¸â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  â”Œâ”€å¾…é–‹å§‹â”€â”€â”¬â”€é€²è¡Œä¸­â”€â”€â”¬â”€å·²å®Œæˆâ”€â”€â”¬â”€é€¾æœŸâ”€â”€â”â”‚
â”‚  â”‚         â”‚         â”‚         â”‚       â”‚â”‚
â”‚  â”‚ å®é”    â”‚ ä»Ÿé‘½    â”‚ æ–°å‰µ    â”‚ å¤§æˆ  â”‚â”‚
â”‚  â”‚ è¨˜å¸³    â”‚ è¨˜å¸³    â”‚ å·¥å•†    â”‚ è¨˜å¸³  â”‚â”‚
â”‚  â”‚ 0% â–‘â–‘â–‘  â”‚ 50% â–ˆâ–ˆâ–ˆ â”‚ 100% â–ˆâ–ˆâ–ˆâ”‚ 75% â–ˆâ–ˆâ”‚â”‚
â”‚  â”‚ å‰©15å¤©  â”‚ å‰©8å¤©   â”‚ å·²å®Œæˆ  â”‚é€¾5å¤©  â”‚â”‚
â”‚  â”‚         â”‚         â”‚         â”‚ğŸ”´    â”‚â”‚
â”‚  â”‚         â”‚         â”‚         â”‚       â”‚â”‚
â”‚  â”‚ å°æ™¶    â”‚         â”‚         â”‚       â”‚â”‚
â”‚  â”‚ ç¨…å‹™    â”‚         â”‚         â”‚       â”‚â”‚
â”‚  â”‚ 0% â–‘â–‘â–‘  â”‚         â”‚         â”‚       â”‚â”‚
â”‚  â”‚ å‰©20å¤©  â”‚         â”‚         â”‚       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ—è¡¨è¦–åœ–
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æˆ‘çš„ä»»å‹™         [çœ‹æ¿] [åˆ—è¡¨]  [ç¯©é¸â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  â˜‘ ä»Ÿé‘½ - è¨˜å¸³ - 9-10æœˆ     ğŸŸ¡ é€²è¡Œä¸­  â”‚
â”‚     é€²åº¦ï¼š50% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘       â”‚
â”‚     é–‹å§‹ï¼š11-01 | åˆ°æœŸï¼š11-15 (å‰©8å¤©)  â”‚
â”‚     [æŸ¥çœ‹è©³æƒ…]                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                        â”‚
â”‚  â˜ å®é” - è¨˜å¸³ - 11æœˆ       âšª å¾…é–‹å§‹  â”‚
â”‚     é€²åº¦ï¼š0% â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘       â”‚
â”‚     é–‹å§‹ï¼šæœªé–‹å§‹ | åˆ°æœŸï¼š11-20 (å‰©15å¤©) â”‚
â”‚     [é–‹å§‹ä»»å‹™]                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                        â”‚
â”‚  â˜‘ å¤§æˆ - è¨˜å¸³ - 9-10æœˆ     ğŸ”´ é€¾æœŸ    â”‚
â”‚     é€²åº¦ï¼š75% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘   â”‚
â”‚     é–‹å§‹ï¼š10-25 | åˆ°æœŸï¼š11-05 (é€¾5å¤©)  â”‚
â”‚     [æŸ¥çœ‹è©³æƒ…]                         â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## çµ„ä»¶è¨­è¨ˆ

### 1. ä»»å‹™å¡ç‰‡ï¼ˆçœ‹æ¿è¦–åœ–ï¼‰
```vue
<template>
  <div 
    class="task-card" 
    :class="statusClass"
    @click="viewTask(task)"
  >
    <h4>{{ task.client_name }}</h4>
    <p class="task-name">{{ task.task_name }}</p>
    
    <div class="progress-bar">
      <div 
        class="progress-fill" 
        :style="{ width: task.progress + '%' }"
      ></div>
      <span class="progress-text">{{ task.progress }}%</span>
    </div>
    
    <div class="task-info">
      <span v-if="task.status === 'overdue'" class="overdue-badge">
        é€¾{{ task.overdue_days }}å¤©
      </span>
      <span v-else-if="task.days_remaining !== null">
        å‰©{{ task.days_remaining }}å¤©
      </span>
      <span v-else>
        å·²å®Œæˆ
      </span>
    </div>
  </div>
</template>

<style>
.task-card {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 12px;
  cursor: pointer;
  transition: all 0.2s;
}

.task-card:hover {
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.task-card.overdue {
  border-left: 4px solid #ff4444;
}

.progress-bar {
  height: 8px;
  background: #eee;
  border-radius: 4px;
  position: relative;
  margin: 8px 0;
}

.progress-fill {
  height: 100%;
  background: #4CAF50;
  border-radius: 4px;
  transition: width 0.3s;
}
</style>
```

### 2. ä»»å‹™åˆ—è¡¨é …ï¼ˆåˆ—è¡¨è¦–åœ–ï¼‰
```vue
<template>
  <div class="task-list-item" :class="{ overdue: task.status === 'overdue' }">
    <div class="task-header">
      <input 
        type="checkbox" 
        v-model="selected"
        @click.stop
      />
      <h4>{{ task.client_name }} - {{ task.task_name }}</h4>
      <span :class="`status-badge ${task.status}`">
        {{ statusIcon }} {{ statusText }}
      </span>
    </div>
    
    <div class="task-body">
      <div class="progress-section">
        <span>é€²åº¦ï¼š{{ task.progress }}%</span>
        <div class="progress-bar">
          <div :style="{ width: task.progress + '%' }"></div>
        </div>
      </div>
      
      <div class="task-dates">
        <span>é–‹å§‹ï¼š{{ task.actual_start_date || 'æœªé–‹å§‹' }}</span>
        <span class="divider">|</span>
        <span>åˆ°æœŸï¼š{{ task.expected_due_date }}</span>
        <span v-if="task.status === 'overdue'" class="overdue-text">
          (é€¾{{ task.overdue_days }}å¤©)
        </span>
        <span v-else-if="task.days_remaining !== null" class="remaining-text">
          (å‰©{{ task.days_remaining }}å¤©)
        </span>
      </div>
    </div>
    
    <div class="task-actions">
      <button @click.stop="viewTask(task)">æŸ¥çœ‹è©³æƒ…</button>
      <button 
        v-if="task.status === 'pending'"
        @click.stop="startTask(task)"
      >
        é–‹å§‹ä»»å‹™
      </button>
    </div>
  </div>
</template>
```

---

## ç¯©é¸åŠŸèƒ½

### ç¯©é¸å™¨çµ„ä»¶
```vue
<template>
  <div class="filter-panel">
    <div class="filter-group">
      <label>ç‹€æ…‹</label>
      <select v-model="filters.status">
        <option value="">å…¨éƒ¨</option>
        <option value="pending">å¾…é–‹å§‹</option>
        <option value="in_progress">é€²è¡Œä¸­</option>
        <option value="completed">å·²å®Œæˆ</option>
        <option value="overdue">é€¾æœŸ</option>
      </select>
    </div>
    
    <div class="filter-group">
      <label>å®¢æˆ¶</label>
      <select v-model="filters.client_id">
        <option value="">å…¨éƒ¨å®¢æˆ¶</option>
        <option 
          v-for="client in clients"
          :key="client.client_id"
          :value="client.client_id"
        >
          {{ client.company_name }}
        </option>
      </select>
    </div>
    
    <div class="filter-group">
      <label>æœˆä»½</label>
      <input 
        type="month" 
        v-model="filters.month"
      />
    </div>
    
    <button @click="applyFilters">å¥—ç”¨</button>
    <button @click="resetFilters">é‡ç½®</button>
  </div>
</template>
```

---

## æ‰¹é‡æ“ä½œ

### æ‰¹é‡æ“ä½œå·¥å…·åˆ—
```vue
<template>
  <div v-if="selectedTasks.length > 0" class="bulk-actions-bar">
    <span>å·²é¸æ“‡ {{ selectedTasks.length }} å€‹ä»»å‹™</span>
    
    <div class="bulk-buttons">
      <button @click="bulkUpdateStatus('completed')">
        æ‰¹é‡æ¨™è¨˜ç‚ºå®Œæˆ
      </button>
      <button @click="bulkAssign">
        æ‰¹é‡åˆ†é…
      </button>
      <button @click="clearSelection">
        å–æ¶ˆé¸æ“‡
      </button>
    </div>
  </div>
</template>
```

---

## ç‹€æ…‹ç®¡ç†

### Pinia Store
```typescript
export const useTasksStore = defineStore('tasks', {
  state: () => ({
    tasks: [] as Task[],
    filters: {
      status: '',
      client_id: '',
      month: ''
    },
    viewMode: 'board' as 'board' | 'list',
    selectedTasks: [] as number[],
    loading: false
  }),
  
  getters: {
    filteredTasks(state) {
      let tasks = state.tasks;
      
      if (state.filters.status) {
        tasks = tasks.filter(t => t.status === state.filters.status);
      }
      
      if (state.filters.client_id) {
        tasks = tasks.filter(t => t.client_id === state.filters.client_id);
      }
      
      if (state.filters.month) {
        tasks = tasks.filter(t => 
          t.expected_due_date?.startsWith(state.filters.month)
        );
      }
      
      return tasks;
    },
    
    tasksByStatus(state) {
      return {
        pending: state.tasks.filter(t => t.status === 'pending'),
        in_progress: state.tasks.filter(t => t.status === 'in_progress'),
        completed: state.tasks.filter(t => t.status === 'completed'),
        overdue: state.tasks.filter(t => t.status === 'overdue')
      };
    }
  },
  
  actions: {
    async fetchTasks() {
      this.loading = true;
      const response = await fetch('/api/v1/tasks');
      const { data } = await response.json();
      this.tasks = data;
      this.loading = false;
    },
    
    async startTask(taskId: number) {
      await fetch(`/api/v1/tasks/${taskId}/start`, { method: 'POST' });
      await this.fetchTasks();
    }
  }
});
```

---

## ç›¸é—œæ–‡æª”

- [åŠŸèƒ½æ¨¡å¡Š - ä»»å‹™é€²åº¦è¿½è¹¤](../../åŠŸèƒ½æ¨¡å¡Š/16-ä»»å‹™é€²åº¦è¿½è¹¤.md)
- [æ¥­å‹™é‚è¼¯](./æ¥­å‹™é‚è¼¯.md)
- [æ¸¬è©¦æ¡ˆä¾‹](./æ¸¬è©¦æ¡ˆä¾‹.md)





