# 任務進度追蹤 - 測試案例

**最後更新：** 2025年10月27日

---

## 查詢任務列表

### 測試 1：查詢我的所有任務
**前置條件：** 員工A登入，有3個任務

**操作：**
1. 進入任務頁面

**預期結果：**
- ✅ 顯示3個任務
- ✅ 只顯示分配給員工A的任務
- ✅ 按到期日排序

---

### 測試 2：狀態篩選
**操作：**
1. 選擇篩選器「進行中」

**預期結果：**
- ✅ 只顯示狀態為「進行中」的任務
- ✅ 其他狀態任務不顯示

---

### 測試 3：客戶篩選
**操作：**
1. 選擇篩選器「客戶A」

**預期結果：**
- ✅ 只顯示客戶A的任務
- ✅ 其他客戶任務不顯示

---

## 開始任務

### 測試 4：成功開始任務
**前置條件：** 任務狀態為「待開始」

**操作：**
1. 點擊「開始任務」

**預期結果：**
- ✅ 任務狀態更新為「進行中」
- ✅ 設定 `actual_start_date` 為今天
- ✅ 自動計算 `expected_due_date`

---

### 測試 5：重複開始任務
**前置條件：** 任務已開始

**操作：**
1. 嘗試再次點擊「開始任務」

**預期結果：**
- ❌ 顯示錯誤：「任務已開始」
- ❌ 不更新資料庫

---

## 進度計算

### 測試 6：自動計算進度
**前置條件：** 任務有4個階段，2個已完成

**操作：**
1. 查看任務詳情

**預期結果：**
- ✅ 進度顯示：50%
- ✅ 進度條正確顯示

---

### 測試 7：完成所有階段自動完成任務
**前置條件：** 任務有3個階段，2個已完成

**操作：**
1. 完成最後1個階段

**預期結果：**
- ✅ 任務進度更新為 100%
- ✅ 任務狀態更新為「已完成」
- ✅ 設定 `actual_completion_date`

---

## 批量操作

### 測試 8：批量標記階段為完成
**操作：**
1. 勾選3個相同階段的任務
2. 點擊「批量標記為完成」

**預期結果：**
- ✅ 3個階段狀態都更新為「已完成」
- ✅ 對應任務的進度自動更新

---

### 測試 9：批量操作不同階段
**操作：**
1. 勾選2個不同階段的任務
2. 點擊「批量操作」

**預期結果：**
- ⚠️ 顯示警告：「所選任務階段不一致」
- ❌ 不執行批量操作

---

## 逾期檢測

### 測試 10：自動標記逾期任務
**前置條件：** 任務到期日為昨天，狀態為「進行中」

**操作：**
1. 查詢任務列表

**預期結果：**
- ✅ 任務狀態顯示為「逾期」
- ✅ 顯示逾期天數
- ✅ 卡片標記為紅色

---

### 測試 11：完成後不再顯示逾期
**前置條件：** 任務逾期5天

**操作：**
1. 完成所有階段

**預期結果：**
- ✅ 任務狀態更新為「已完成」
- ✅ 不再顯示逾期標記

---

## 視圖切換

### 測試 12：看板視圖
**操作：**
1. 點擊「看板」按鈕

**預期結果：**
- ✅ 顯示4列（待開始/進行中/已完成/逾期）
- ✅ 任務卡片顯示在對應列
- ✅ 可拖曳卡片（未來功能）

---

### 測試 13：列表視圖
**操作：**
1. 點擊「列表」按鈕

**預期結果：**
- ✅ 顯示任務列表
- ✅ 包含詳細資訊（進度、到期日）
- ✅ 可勾選多個任務

---

## 相關文檔

- [功能模塊 - 任務進度追蹤](../../功能模塊/16-任務進度追蹤.md)
- [UI 設計](./UI設計.md)
- [業務邏輯](./業務邏輯.md)





