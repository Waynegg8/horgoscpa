# 📋 專案偏好設置

**最後更新**: 2025-10-25  
**用途**: 記錄專案開發與部署的偏好設置

---

## 🚀 部署偏好

### 自動部署

**設定**: ✅ 啟用

**說明**: 
- 需要部署時**直接執行部署**，不需要詢問確認
- AI 應該直接使用部署腳本或命令執行
- 不需要等待用戶確認

**適用範圍**:
- 資料庫 migration 部署
- Worker 部署
- 前端更新部署
- 任何系統更新

**執行方式**:
```powershell
# 直接執行，不詢問
cd timesheet-api
.\deploy-report-optimization.ps1
```

或使用 wrangler 命令：
```bash
npx wrangler deploy
npx wrangler d1 execute timesheet-db --remote --file=migrations/XXX.sql
```

**安全措施**:
- 部署腳本會自動備份
- 所有部署都有回滾機制
- 保留完整的變更記錄

---

## 📝 代碼風格偏好

### Git Commit

**格式**: 傳統 commit 格式

```bash
git commit -m "feat: 新增報表快取功能"
git commit -m "fix: 修正報表計算錯誤"
git commit -m "docs: 更新系統文檔"
```

### 文檔語言

**偏好**: 繁體中文

- 所有文檔使用繁體中文
- 程式碼註解使用中文
- 變數名稱使用英文

---

## 🛠️ 開發偏好

### 自動化程度

**設定**: 高度自動化

- 優先使用自動化腳本
- 減少手動操作步驟
- 提供一鍵執行方案

### 測試策略

**設定**: 部署後測試

- 先部署到生產環境
- 然後進行測試驗證
- 發現問題立即修復

---

## 📂 檔案組織偏好

### 文檔位置

**所有說明文檔**: `docs/` 資料夾

**命名規則**:
- 使用大寫字母和底線: `EXAMPLE_GUIDE.md`
- 使用英文命名（內容可用中文）

### 腳本位置

**部署腳本**: 各模組的根目錄
```
timesheet-api/deploy-*.ps1
timesheet-api/restore-database.ps1
```

---

## 🔔 通知偏好

### 進度更新

**頻率**: 重要里程碑時

- 完成階段時通知
- 遇到問題時通知
- 不需要每個小任務都通知

### 效能資訊

**顯示**: Console 輸出

- 在瀏覽器 Console 顯示效能資訊
- 不需要在 UI 顯示
- 開發時有助於監控

---

## 💾 備份偏好

### 自動備份

**設定**: ✅ 啟用

- 所有部署腳本自動備份
- 保留時間戳記
- 儲存在 `backups/` 資料夾

### 備份頻率

- 每次部署前: 自動備份
- 每日定時: GitHub Actions（已設置）
- 手動備份: 隨時可用

---

## 🎨 UI/UX 偏好

### 設計風格

**偏好**: 簡潔專業

- 使用現有的設計系統
- 保持一致性
- 專業的商務風格

### 互動方式

**偏好**: 直觀高效

- 最少點擊次數
- 清楚的狀態反饋
- 快速的響應速度

---

## 📊 資料管理偏好

### 資料遷移

**策略**: 保留歷史資料

- 不刪除舊資料
- 使用標記（status, is_active）而非刪除
- 保留完整的變更記錄

### 資料驗證

**時機**: 部署後

- 先部署再驗證
- 發現問題立即處理
- 使用備份快速回復

---

## 🔐 安全性偏好

### 權限控制

**策略**: 嚴格但靈活

- admin: 完全權限
- employee: 只能存取自己的資料
- 可在設定頁面調整

### Session 管理

**期限**: 7 天

- Session 有效期 7 天
- 自動清理過期 session
- 支援多裝置登入

---

## 📝 如何使用此文檔

### 給 AI 助手

當協助開發時：
- 查看此文檔了解偏好
- **部署時直接執行，不詢問**
- 遵循既定的風格和慣例

### 給開發者

當加入專案時：
- 閱讀此文檔了解專案習慣
- 遵循相同的偏好設置
- 有不同意見可提出討論

---

## 🔄 更新記錄

| 日期 | 變更內容 |
|------|----------|
| 2025-10-25 | 初版創建 - 記錄部署偏好 |

---

## 💡 重要提醒

### 給 AI 助手

**核心原則**: 
- ✅ 需要部署時，直接執行部署
- ✅ 不要詢問「需要我幫您部署嗎？」
- ✅ 使用 run_terminal_cmd 直接執行
- ✅ 部署腳本會自動備份，安全無虞

**範例**:
```
❌ 不要說: "需要我幫您部署嗎？"
✅ 應該說: "正在部署..."（然後直接執行）
```

---

**此文檔為專案重要設置，請勿刪除**

