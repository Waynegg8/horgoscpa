# 批量更新階段狀態

**端點：** `POST /api/v1/tasks/stages/batch-update`  
**權限：** 負責人

---

## 請求

### Body
```json
{
  "stage_ids": [1, 5, 9],
  "status": "completed",
  "notes": "批量完成資料收集階段"
}
```

### 欄位說明
| 欄位 | 類型 | 必填 | 說明 |
|-----|------|------|------|
| `stage_ids` | array | ✅ | 階段ID列表 |
| `status` | string | ✅ | 新狀態（completed）|
| `notes` | string | ❌ | 備註（套用到所有階段）|

---

## 成功回應

**HTTP 狀態碼：** 200

```json
{
  "success": true,
  "data": {
    "message": "批量更新成功",
    "updated_count": 3
  }
}
```

---

## 業務邏輯

### 批量操作規則
- 只能批量更新為「completed」
- 自動更新所有相關任務的進度
- 記錄相同的備註到所有階段





