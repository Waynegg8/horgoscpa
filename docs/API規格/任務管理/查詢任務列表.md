# 查詢任務列表

**端點：** `GET /api/v1/tasks`  
**權限：** 所有員工

---

## 請求

### 查詢參數
| 參數 | 類型 | 必填 | 說明 |
|-----|------|------|------|
| `status` | string | ❌ | 任務狀態（pending/in_progress/completed/overdue）|
| `client_id` | string | ❌ | 客戶統編 |
| `month` | string | ❌ | 月份（YYYY-MM）|
| `page` | integer | ❌ | 頁碼（預設：1）|
| `per_page` | integer | ❌ | 每頁數量（預設：20）|

---

## 成功回應

**HTTP 狀態碼：** 200

```json
{
  "success": true,
  "data": [
    {
      "task_id": 1,
      "client_id": "12345678",
      "client_name": "冠群資訊股份有限公司",
      "task_name": "記帳 - 114年9-10月",
      "task_template_id": 1,
      "template_name": "記帳標準流程（雙月）",
      "estimated_days": 8,
      "actual_start_date": "2024-11-01",
      "expected_due_date": "2024-11-09",
      "actual_completion_date": null,
      "status": "in_progress",
      "progress": 50,
      "days_remaining": 5,
      "overdue_days": null,
      "assigned_to": 2,
      "assigned_to_name": "紜蓁",
      "created_at": "2024-10-31T00:00:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "per_page": 20,
    "total": 15,
    "total_pages": 1
  }
}
```

---

## 業務邏輯

### 權限過濾
- 一般員工只能查看分配給自己的任務
- 管理員可查看所有任務

### 排序規則
1. 逾期任務在最前
2. 按到期日升序（近的在前）
3. 按狀態降序（進行中 > 待開始 > 已完成）


