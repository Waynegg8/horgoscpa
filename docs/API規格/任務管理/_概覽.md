# 任務管理 API 概覽

**API 前綴：** `/api/v1`  
**最後更新：** 2025年10月27日

---

## 端點總覽

### 任務模板管理
| 端點 | 方法 | 權限 | 說明 |
|------|------|------|------|
| `/task-templates` | GET | 管理員 | 查詢模板列表 |
| `/task-templates/:id` | GET | 管理員 | 查詢模板詳情 |
| `/task-templates` | POST | 管理員 | 新增模板 |
| `/task-templates/:id` | PUT | 管理員 | 更新模板 |
| `/task-templates/:id` | DELETE | 管理員 | 刪除模板 |
| `/task-templates/:id/stages` | POST | 管理員 | 為模板新增階段 |
| `/task-templates/:id/copy` | POST | 管理員 | 複製模板 |

### 任務追蹤
| 端點 | 方法 | 權限 | 說明 |
|------|------|------|------|
| `/tasks` | GET | 所有員工 | 查詢任務列表 |
| `/tasks/:id` | GET | 所有員工 | 查詢任務詳情 |
| `/tasks` | POST | 管理員 | 新增任務 |
| `/tasks/:id` | PUT | 管理員 | 更新任務 |
| `/tasks/:id/start` | POST | 負責人 | 開始任務 |
| `/tasks/stages/batch-update` | POST | 負責人 | 批量更新階段 |

### 階段進度更新
| 端點 | 方法 | 權限 | 說明 |
|------|------|------|------|
| `/tasks/:taskId/stages` | GET | 所有員工 | 查詢任務階段列表 |
| `/task-stages/:id/start` | POST | 負責人 | 開始階段 |
| `/task-stages/:id/complete` | POST | 負責人 | 完成階段 |
| `/task-stages/:id/notes` | PUT | 負責人 | 更新階段備註 |

---

## 認證

所有 API 需要 JWT 認證：
```
Cookie: auth_token=<JWT_TOKEN>
```

---

## 相關文檔

- [功能模塊 - 任務模板管理](../../功能模塊/14-任務模板管理.md)
- [功能模塊 - 任務進度追蹤](../../功能模塊/16-任務進度追蹤.md)
- [功能模塊 - 階段進度更新](../../功能模塊/17-階段進度更新.md)

