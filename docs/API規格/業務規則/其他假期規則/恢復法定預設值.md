# 恢復法定預設值

**端點：** `POST /api/v1/settings/other-leave-rules/reset-defaults`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

將所有事件型假期規則恢復為台灣勞基法規定的法定預設值（10條規則）。

---

## 請求

無需參數。

---

## 回應

### 成功回應（HTTP 200）

```json
{
  "success": true,
  "message": "已恢復為法定預設值",
  "data": {
    "deleted_count": 3,
    "created_count": 10,
    "rules_summary": [
      { "category": "marriage_leave", "subcategory": "本人結婚", "days": 8 },
      { "category": "bereavement_leave", "subcategory": "父母、配偶喪", "days": 8 },
      { "category": "bereavement_leave", "subcategory": "祖父母、子女喪", "days": 6 },
      { "category": "bereavement_leave", "subcategory": "曾祖父母、兄弟姊妹喪", "days": 3 },
      { "category": "maternity_leave", "subcategory": "一般產假", "days": 56 },
      { "category": "maternity_leave", "subcategory": "妊娠3個月以上流產", "days": 42 },
      { "category": "maternity_leave", "subcategory": "妊娠2-3個月流產", "days": 14 },
      { "category": "maternity_leave", "subcategory": "妊娠未滿2個月流產", "days": 5 },
      { "category": "paternity_leave", "subcategory": "配偶分娩", "days": 7 },
      { "category": "prenatal_checkup_leave", "subcategory": "產檢", "days": 7 }
    ]
  }
}
```

---

## 法定預設值（10條完整規則）

### 婚假（1條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 本人結婚 | 8 | 全薪 | 無 |

### 喪假（3條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 父母、養父母、繼父母、配偶喪 | 8 | 全薪 | 無 |
| 祖父母、子女、配偶父母喪 | 6 | 全薪 | 無 |
| 曾祖父母、兄弟姊妹、配偶祖父母喪 | 3 | 全薪 | 無 |

### 產假（4條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 一般產假 | 56 | 全薪 | 女性 |
| 妊娠3個月以上流產 | 42 | 全薪 | 女性 |
| 妊娠2-3個月流產 | 14 | 全薪 | 女性 |
| 妊娠未滿2個月流產 | 5 | 全薪 | 女性 |

### 陪產假（1條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 配偶分娩 | 7 | 全薪 | 男性 |

### 產檢假（1條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 產檢 | 7 | 全薪 | 女性 |

完整規則見：[資料庫設計 - OtherLeaveRules](../../../../資料庫設計/業務規則/OtherLeaveRules.md)

---

## 操作邏輯

```typescript
async function resetToDefaults() {
  // 1. 刪除所有現有規則
  await db.run(`DELETE FROM OtherLeaveRules`);
  
  // 2. 插入10條法定規則
  const defaultRules = [
    { category: 'marriage_leave', subcategory: '本人結婚', days: 8, pay_rate: 1.0 },
    // ... 共10條
  ];
  
  for (const rule of defaultRules) {
    await db.run(`INSERT INTO OtherLeaveRules (...) VALUES (...)`, rule);
  }
}
```

---

## 相關端點

- [獲取規則列表](./獲取規則列表.md)
- [新增規則](./新增規則.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



**端點：** `POST /api/v1/settings/other-leave-rules/reset-defaults`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

將所有事件型假期規則恢復為台灣勞基法規定的法定預設值（10條規則）。

---

## 請求

無需參數。

---

## 回應

### 成功回應（HTTP 200）

```json
{
  "success": true,
  "message": "已恢復為法定預設值",
  "data": {
    "deleted_count": 3,
    "created_count": 10,
    "rules_summary": [
      { "category": "marriage_leave", "subcategory": "本人結婚", "days": 8 },
      { "category": "bereavement_leave", "subcategory": "父母、配偶喪", "days": 8 },
      { "category": "bereavement_leave", "subcategory": "祖父母、子女喪", "days": 6 },
      { "category": "bereavement_leave", "subcategory": "曾祖父母、兄弟姊妹喪", "days": 3 },
      { "category": "maternity_leave", "subcategory": "一般產假", "days": 56 },
      { "category": "maternity_leave", "subcategory": "妊娠3個月以上流產", "days": 42 },
      { "category": "maternity_leave", "subcategory": "妊娠2-3個月流產", "days": 14 },
      { "category": "maternity_leave", "subcategory": "妊娠未滿2個月流產", "days": 5 },
      { "category": "paternity_leave", "subcategory": "配偶分娩", "days": 7 },
      { "category": "prenatal_checkup_leave", "subcategory": "產檢", "days": 7 }
    ]
  }
}
```

---

## 法定預設值（10條完整規則）

### 婚假（1條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 本人結婚 | 8 | 全薪 | 無 |

### 喪假（3條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 父母、養父母、繼父母、配偶喪 | 8 | 全薪 | 無 |
| 祖父母、子女、配偶父母喪 | 6 | 全薪 | 無 |
| 曾祖父母、兄弟姊妹、配偶祖父母喪 | 3 | 全薪 | 無 |

### 產假（4條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 一般產假 | 56 | 全薪 | 女性 |
| 妊娠3個月以上流產 | 42 | 全薪 | 女性 |
| 妊娠2-3個月流產 | 14 | 全薪 | 女性 |
| 妊娠未滿2個月流產 | 5 | 全薪 | 女性 |

### 陪產假（1條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 配偶分娩 | 7 | 全薪 | 男性 |

### 產檢假（1條）
| 子項目 | 天數 | 薪資 | 性別限制 |
|--------|------|------|---------|
| 產檢 | 7 | 全薪 | 女性 |

完整規則見：[資料庫設計 - OtherLeaveRules](../../../../資料庫設計/業務規則/OtherLeaveRules.md)

---

## 操作邏輯

```typescript
async function resetToDefaults() {
  // 1. 刪除所有現有規則
  await db.run(`DELETE FROM OtherLeaveRules`);
  
  // 2. 插入10條法定規則
  const defaultRules = [
    { category: 'marriage_leave', subcategory: '本人結婚', days: 8, pay_rate: 1.0 },
    // ... 共10條
  ];
  
  for (const rule of defaultRules) {
    await db.run(`INSERT INTO OtherLeaveRules (...) VALUES (...)`, rule);
  }
}
```

---

## 相關端點

- [獲取規則列表](./獲取規則列表.md)
- [新增規則](./新增規則.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



