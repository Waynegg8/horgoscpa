# 其他假期規則 API 概覽

**API 前綴：** `/api/v1/settings/other-leave-rules`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

設定事件觸發型假期的規則，包含婚假、喪假、產假、陪產假、產檢假等。這些假期需要員工先登記生活事件，系統依規則自動核發天數。

**主要功能：**
- 事件型假期規則的 CRUD 操作
- 按假期類別管理子項目
- 恢復法定預設值
- 支援延長產假、流產假等複雜規則

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/other-leave-rules` | 獲取規則列表 | 管理員 |
| GET | `/other-leave-rules/:id` | 獲取特定規則 | 管理員 |
| POST | `/other-leave-rules` | 新增規則 | 管理員 |
| PUT | `/other-leave-rules/:id` | 編輯規則 | 管理員 |
| DELETE | `/other-leave-rules/:id` | 刪除規則 | 管理員 |
| POST | `/other-leave-rules/reset-defaults` | 恢復法定預設值 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取規則列表](./獲取規則列表.md)
- [獲取特定規則](./獲取特定規則.md)
- [新增規則](./新增規則.md)
- [編輯規則](./編輯規則.md)
- [刪除規則](./刪除規則.md)

### 特殊操作
- [恢復法定預設值](./恢復法定預設值.md)

---

## 假期類別

| 類別代碼 | 類別名稱 | 子項目範例 |
|---------|---------|----------|
| `marriage_leave` | 婚假 | 本人結婚 |
| `bereavement_leave` | 喪假 | 父母喪、祖父母喪、配偶喪等 |
| `maternity_leave` | 產假 | 一般產假、流產假（依週數）、延長產假 |
| `paternity_leave` | 陪產假 | 配偶分娩 |
| `prenatal_checkup_leave` | 產檢假 | 產檢 |

---

## 法定預設值（9條規則）

| 類別 | 子項目 | 天數 | 薪資 | 性別限制 |
|------|--------|------|------|---------|
| 婚假 | 本人結婚 | 8 | 全薪 | 無 |
| 喪假 | 父母、養父母、繼父母、配偶喪 | 8 | 全薪 | 無 |
| 喪假 | 祖父母、子女、配偶父母喪 | 6 | 全薪 | 無 |
| 喪假 | 曾祖父母、兄弟姊妹、配偶祖父母喪 | 3 | 全薪 | 無 |
| 產假 | 一般產假 | 56 | 全薪 | 女性 |
| 產假 | 妊娠3個月以上流產 | 42 | 全薪 | 女性 |
| 產假 | 妊娠2-3個月流產 | 14 | 全薪 | 女性 |
| 產假 | 妊娠未滿2個月流產 | 5 | 全薪 | 女性 |
| 陪產假 | 配偶分娩 | 7 | 全薪 | 男性 |
| 產檢假 | 產檢 | 7 | 全薪 | 女性 |

完整規則見：[資料庫設計 - OtherLeaveRules](../../../資料庫設計/業務規則/OtherLeaveRules.md)

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `OTHER_LEAVE_RULE_NOT_FOUND` | 404 | 找不到指定的假期規則 |
| `INVALID_LEAVE_DAYS` | 400 | 無效的假期天數 |
| `INVALID_GENDER_RESTRICTION` | 400 | 無效的性別限制 |

---

## 與生活事件登記的關聯

員工登記生活事件 → 選擇事件類型和子項目 → 系統依規則自動核發假期天數

**流程：**
1. 員工登記「婚假 - 本人結婚」
2. 系統查詢規則：8天全薪
3. 自動新增 8天 婚假額度
4. 員工可在工時表請假

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [功能模塊 - 生活事件登記](../../../功能模塊/12-生活事件登記.md)
- [資料庫設計 - OtherLeaveRules](../../../資料庫設計/業務規則/OtherLeaveRules.md)

---

**最後更新：** 2025年10月27日



**API 前綴：** `/api/v1/settings/other-leave-rules`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

設定事件觸發型假期的規則，包含婚假、喪假、產假、陪產假、產檢假等。這些假期需要員工先登記生活事件，系統依規則自動核發天數。

**主要功能：**
- 事件型假期規則的 CRUD 操作
- 按假期類別管理子項目
- 恢復法定預設值
- 支援延長產假、流產假等複雜規則

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/other-leave-rules` | 獲取規則列表 | 管理員 |
| GET | `/other-leave-rules/:id` | 獲取特定規則 | 管理員 |
| POST | `/other-leave-rules` | 新增規則 | 管理員 |
| PUT | `/other-leave-rules/:id` | 編輯規則 | 管理員 |
| DELETE | `/other-leave-rules/:id` | 刪除規則 | 管理員 |
| POST | `/other-leave-rules/reset-defaults` | 恢復法定預設值 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取規則列表](./獲取規則列表.md)
- [獲取特定規則](./獲取特定規則.md)
- [新增規則](./新增規則.md)
- [編輯規則](./編輯規則.md)
- [刪除規則](./刪除規則.md)

### 特殊操作
- [恢復法定預設值](./恢復法定預設值.md)

---

## 假期類別

| 類別代碼 | 類別名稱 | 子項目範例 |
|---------|---------|----------|
| `marriage_leave` | 婚假 | 本人結婚 |
| `bereavement_leave` | 喪假 | 父母喪、祖父母喪、配偶喪等 |
| `maternity_leave` | 產假 | 一般產假、流產假（依週數）、延長產假 |
| `paternity_leave` | 陪產假 | 配偶分娩 |
| `prenatal_checkup_leave` | 產檢假 | 產檢 |

---

## 法定預設值（9條規則）

| 類別 | 子項目 | 天數 | 薪資 | 性別限制 |
|------|--------|------|------|---------|
| 婚假 | 本人結婚 | 8 | 全薪 | 無 |
| 喪假 | 父母、養父母、繼父母、配偶喪 | 8 | 全薪 | 無 |
| 喪假 | 祖父母、子女、配偶父母喪 | 6 | 全薪 | 無 |
| 喪假 | 曾祖父母、兄弟姊妹、配偶祖父母喪 | 3 | 全薪 | 無 |
| 產假 | 一般產假 | 56 | 全薪 | 女性 |
| 產假 | 妊娠3個月以上流產 | 42 | 全薪 | 女性 |
| 產假 | 妊娠2-3個月流產 | 14 | 全薪 | 女性 |
| 產假 | 妊娠未滿2個月流產 | 5 | 全薪 | 女性 |
| 陪產假 | 配偶分娩 | 7 | 全薪 | 男性 |
| 產檢假 | 產檢 | 7 | 全薪 | 女性 |

完整規則見：[資料庫設計 - OtherLeaveRules](../../../資料庫設計/業務規則/OtherLeaveRules.md)

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `OTHER_LEAVE_RULE_NOT_FOUND` | 404 | 找不到指定的假期規則 |
| `INVALID_LEAVE_DAYS` | 400 | 無效的假期天數 |
| `INVALID_GENDER_RESTRICTION` | 400 | 無效的性別限制 |

---

## 與生活事件登記的關聯

員工登記生活事件 → 選擇事件類型和子項目 → 系統依規則自動核發假期天數

**流程：**
1. 員工登記「婚假 - 本人結婚」
2. 系統查詢規則：8天全薪
3. 自動新增 8天 婚假額度
4. 員工可在工時表請假

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [功能模塊 - 生活事件登記](../../../功能模塊/12-生活事件登記.md)
- [資料庫設計 - OtherLeaveRules](../../../資料庫設計/業務規則/OtherLeaveRules.md)

---

**最後更新：** 2025年10月27日



