# 國定假日 API 概覽

**API 前綴：** `/api/v1/settings/holidays`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

管理國定假日與補班日，用於判定加班類型和工時計算。

**主要功能：**
- 國定假日與補班日的 CRUD 操作
- 按年份和類型篩選
- 批量導入 CSV
- 匯出 CSV
- 查詢使用情況（防止刪除被使用的資料）

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/holidays` | 獲取國定假日列表 | 管理員 |
| GET | `/holidays/:date` | 獲取特定國定假日 | 管理員 |
| POST | `/holidays` | 新增國定假日 | 管理員 |
| PUT | `/holidays/:date` | 編輯國定假日 | 管理員 |
| DELETE | `/holidays/:date` | 刪除國定假日 | 管理員 |
| POST | `/holidays/batch` | 批量導入 | 管理員 |
| GET | `/holidays/export` | 匯出 CSV | 管理員 |
| GET | `/holidays/:date/usage` | 查詢使用情況 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取國定假日列表](./獲取國定假日列表.md)
- [獲取特定國定假日](./獲取特定國定假日.md)
- [新增國定假日](./新增國定假日.md)
- [編輯國定假日](./編輯國定假日.md)
- [刪除國定假日](./刪除國定假日.md)

### 批量操作
- [批量導入](./批量導入.md)
- [匯出CSV](./匯出CSV.md)

### 查詢功能
- [查詢使用情況](./查詢使用情況.md)

---

## 假日類型

| 類型 | 代碼 | 說明 |
|------|------|------|
| 國定假日 | `national_holiday` | 政府公告的國定假日 |
| 補班日 | `makeup_workday` | 因連假調整的補班日 |

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `HOLIDAY_NOT_FOUND` | 404 | 找不到指定的國定假日 |
| `HOLIDAY_ALREADY_EXISTS` | 409 | 該日期已存在國定假日記錄 |
| `HOLIDAY_IN_USE` | 409 | 該國定假日已被工時記錄使用，無法刪除 |
| `INVALID_DATE_FORMAT` | 400 | 日期格式錯誤 |
| `INVALID_HOLIDAY_TYPE` | 400 | 無效的假日類型 |

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [資料庫設計 - Holidays](../../../資料庫設計/業務規則/Holidays.md)
- [API 標準規範](../../00-API標準規範.md)

---

**最後更新：** 2025年10月27日



**API 前綴：** `/api/v1/settings/holidays`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

管理國定假日與補班日，用於判定加班類型和工時計算。

**主要功能：**
- 國定假日與補班日的 CRUD 操作
- 按年份和類型篩選
- 批量導入 CSV
- 匯出 CSV
- 查詢使用情況（防止刪除被使用的資料）

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/holidays` | 獲取國定假日列表 | 管理員 |
| GET | `/holidays/:date` | 獲取特定國定假日 | 管理員 |
| POST | `/holidays` | 新增國定假日 | 管理員 |
| PUT | `/holidays/:date` | 編輯國定假日 | 管理員 |
| DELETE | `/holidays/:date` | 刪除國定假日 | 管理員 |
| POST | `/holidays/batch` | 批量導入 | 管理員 |
| GET | `/holidays/export` | 匯出 CSV | 管理員 |
| GET | `/holidays/:date/usage` | 查詢使用情況 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取國定假日列表](./獲取國定假日列表.md)
- [獲取特定國定假日](./獲取特定國定假日.md)
- [新增國定假日](./新增國定假日.md)
- [編輯國定假日](./編輯國定假日.md)
- [刪除國定假日](./刪除國定假日.md)

### 批量操作
- [批量導入](./批量導入.md)
- [匯出CSV](./匯出CSV.md)

### 查詢功能
- [查詢使用情況](./查詢使用情況.md)

---

## 假日類型

| 類型 | 代碼 | 說明 |
|------|------|------|
| 國定假日 | `national_holiday` | 政府公告的國定假日 |
| 補班日 | `makeup_workday` | 因連假調整的補班日 |

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `HOLIDAY_NOT_FOUND` | 404 | 找不到指定的國定假日 |
| `HOLIDAY_ALREADY_EXISTS` | 409 | 該日期已存在國定假日記錄 |
| `HOLIDAY_IN_USE` | 409 | 該國定假日已被工時記錄使用，無法刪除 |
| `INVALID_DATE_FORMAT` | 400 | 日期格式錯誤 |
| `INVALID_HOLIDAY_TYPE` | 400 | 無效的假日類型 |

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [資料庫設計 - Holidays](../../../資料庫設計/業務規則/Holidays.md)
- [API 標準規範](../../00-API標準規範.md)

---

**最後更新：** 2025年10月27日



