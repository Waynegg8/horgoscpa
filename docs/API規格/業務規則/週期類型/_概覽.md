# 週期類型 API 概覽

**API 前綴：** `/api/v1/settings/service-frequency-types`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

管理服務項目的週期類型（如月結、雙月結、季結等），供[客戶服務設定](../../../功能模塊/15-客戶服務設定.md)使用。這些週期類型定義服務執行的頻率，但具體執行日期由客戶服務設定管理。

**主要功能：**
- 週期類型的 CRUD 操作
- 停用/啟用週期類型
- 排序調整
- 查詢使用情況

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/service-frequency-types` | 獲取週期類型列表 | 管理員 |
| GET | `/service-frequency-types/:id` | 獲取特定週期類型 | 管理員 |
| POST | `/service-frequency-types` | 新增週期類型 | 管理員 |
| PUT | `/service-frequency-types/:id` | 編輯週期類型 | 管理員 |
| DELETE | `/service-frequency-types/:id` | 停用週期類型 | 管理員 |
| PUT | `/service-frequency-types/reorder` | 調整排序 | 管理員 |
| GET | `/service-frequency-types/:id/usage` | 查詢使用情況 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取週期類型列表](./獲取週期類型列表.md)
- [獲取特定週期類型](./獲取特定週期類型.md)
- [新增週期類型](./新增週期類型.md)
- [編輯週期類型](./編輯週期類型.md)
- [停用週期類型](./停用週期類型.md)

### 特殊操作
- [調整排序](./調整排序.md)
- [查詢使用情況](./查詢使用情況.md)

---

## 預設週期類型

| 代碼 | 名稱 | 說明 |
|------|------|------|
| `monthly` | 月結 | 每月執行一次 |
| `bimonthly` | 雙月結 | 每兩個月執行一次 |
| `quarterly` | 季結 | 每季執行一次 |
| `annually` | 年結 | 每年執行一次 |
| `one_time` | 一次性 | 僅執行一次 |

**注意：** 這裡只定義週期類型，具體執行日期（如每月5日、每季第10日）由客戶服務設定管理。

---

## 與客戶服務設定的關聯

```
服務項目管理：定義「記帳服務」
      ↓
業務規則 - 週期類型：定義「月結」「季結」等選項
      ↓
客戶服務設定：客戶A的記帳服務 = 月結，每月5日執行
             客戶B的記帳服務 = 季結，每季10日執行
```

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `FREQUENCY_TYPE_NOT_FOUND` | 404 | 找不到指定的週期類型 |
| `FREQUENCY_TYPE_CODE_EXISTS` | 409 | 週期類型代碼已存在 |
| `FREQUENCY_TYPE_IN_USE` | 409 | 該週期類型已被客戶服務使用 |

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [功能模塊 - 客戶服務設定](../../../功能模塊/15-客戶服務設定.md)
- [資料庫設計 - ServiceFrequencyTypes](../../../資料庫設計/業務規則/ServiceFrequencyTypes.md)

---

**最後更新：** 2025年10月27日



**API 前綴：** `/api/v1/settings/service-frequency-types`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

管理服務項目的週期類型（如月結、雙月結、季結等），供[客戶服務設定](../../../功能模塊/15-客戶服務設定.md)使用。這些週期類型定義服務執行的頻率，但具體執行日期由客戶服務設定管理。

**主要功能：**
- 週期類型的 CRUD 操作
- 停用/啟用週期類型
- 排序調整
- 查詢使用情況

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/service-frequency-types` | 獲取週期類型列表 | 管理員 |
| GET | `/service-frequency-types/:id` | 獲取特定週期類型 | 管理員 |
| POST | `/service-frequency-types` | 新增週期類型 | 管理員 |
| PUT | `/service-frequency-types/:id` | 編輯週期類型 | 管理員 |
| DELETE | `/service-frequency-types/:id` | 停用週期類型 | 管理員 |
| PUT | `/service-frequency-types/reorder` | 調整排序 | 管理員 |
| GET | `/service-frequency-types/:id/usage` | 查詢使用情況 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取週期類型列表](./獲取週期類型列表.md)
- [獲取特定週期類型](./獲取特定週期類型.md)
- [新增週期類型](./新增週期類型.md)
- [編輯週期類型](./編輯週期類型.md)
- [停用週期類型](./停用週期類型.md)

### 特殊操作
- [調整排序](./調整排序.md)
- [查詢使用情況](./查詢使用情況.md)

---

## 預設週期類型

| 代碼 | 名稱 | 說明 |
|------|------|------|
| `monthly` | 月結 | 每月執行一次 |
| `bimonthly` | 雙月結 | 每兩個月執行一次 |
| `quarterly` | 季結 | 每季執行一次 |
| `annually` | 年結 | 每年執行一次 |
| `one_time` | 一次性 | 僅執行一次 |

**注意：** 這裡只定義週期類型，具體執行日期（如每月5日、每季第10日）由客戶服務設定管理。

---

## 與客戶服務設定的關聯

```
服務項目管理：定義「記帳服務」
      ↓
業務規則 - 週期類型：定義「月結」「季結」等選項
      ↓
客戶服務設定：客戶A的記帳服務 = 月結，每月5日執行
             客戶B的記帳服務 = 季結，每季10日執行
```

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `FREQUENCY_TYPE_NOT_FOUND` | 404 | 找不到指定的週期類型 |
| `FREQUENCY_TYPE_CODE_EXISTS` | 409 | 週期類型代碼已存在 |
| `FREQUENCY_TYPE_IN_USE` | 409 | 該週期類型已被客戶服務使用 |

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [功能模塊 - 客戶服務設定](../../../功能模塊/15-客戶服務設定.md)
- [資料庫設計 - ServiceFrequencyTypes](../../../資料庫設計/業務規則/ServiceFrequencyTypes.md)

---

**最後更新：** 2025年10月27日



