# 獲取假別類型列表

**端點：** `GET /api/v1/settings/leave-types`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

獲取所有假別類型列表，支援按啟用狀態篩選。

---

## 請求

### 查詢參數

- `is_active` (可選, boolean): 篩選啟用狀態
  - `true` - 只顯示啟用的假別
  - `false` - 只顯示停用的假別
  - 不提供 - 顯示全部

---

## 回應

### 成功回應（HTTP 200）

```json
{
  "success": true,
  "data": [
    {
      "leave_type_id": 1,
      "code": "sick_leave",
      "name": "病假",
      "gender_restriction": null,
      "annual_quota_days": 30,
      "pay_rate": 0.5,
      "requires_proof": true,
      "description": "全年30天，薪資半薪，超過30天扣全薪",
      "is_active": true,
      "sort_order": 1,
      "created_at": "2024-12-01T00:00:00Z",
      "updated_at": "2024-12-01T00:00:00Z"
    },
    {
      "leave_type_id": 2,
      "code": "personal_leave",
      "name": "事假",
      "gender_restriction": null,
      "annual_quota_days": 14,
      "pay_rate": 0.0,
      "requires_proof": false,
      "description": "全年14天，無薪",
      "is_active": true,
      "sort_order": 2,
      "created_at": "2024-12-01T00:00:00Z",
      "updated_at": "2024-12-01T00:00:00Z"
    },
    {
      "leave_type_id": 3,
      "code": "menstrual_leave",
      "name": "生理假",
      "gender_restriction": "female",
      "annual_quota_days": 12,
      "pay_rate": 0.5,
      "requires_proof": false,
      "description": "每月1天，併入病假計算，薪資半薪",
      "is_active": true,
      "sort_order": 3,
      "created_at": "2024-12-01T00:00:00Z",
      "updated_at": "2024-12-01T00:00:00Z"
    }
  ]
}
```

---

### 錯誤回應

**403 Forbidden - 無權限：**
```json
{
  "success": false,
  "error": {
    "code": "ADMIN_PERMISSION_REQUIRED",
    "message": "需要管理員權限"
  }
}
```

---

## 使用範例

### 範例 1：獲取所有假別類型

```bash
GET /api/v1/settings/leave-types
```

---

### 範例 2：只獲取啟用的假別類型

```bash
GET /api/v1/settings/leave-types?is_active=true
```

**使用場景：** 員工請假時，只顯示啟用的假別選項

---

### 範例 3：只獲取停用的假別類型

```bash
GET /api/v1/settings/leave-types?is_active=false
```

**使用場景：** 管理員檢視歷史停用的假別

---

## 前端使用範例

```typescript
// 獲取啟用的假別類型供員工選擇
async function getActiveLeaveTypes() {
  const response = await api.get('/api/v1/settings/leave-types?is_active=true');
  
  // 根據員工性別過濾
  const userGender = currentUser.gender;
  const filteredLeaveTypes = response.data.filter(lt => 
    lt.gender_restriction === null || lt.gender_restriction === userGender
  );
  
  return filteredLeaveTypes;
}
```

---

## 相關端點

- [獲取特定假別類型](./獲取特定假別類型.md)
- [新增假別類型](./新增假別類型.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



**端點：** `GET /api/v1/settings/leave-types`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

獲取所有假別類型列表，支援按啟用狀態篩選。

---

## 請求

### 查詢參數

- `is_active` (可選, boolean): 篩選啟用狀態
  - `true` - 只顯示啟用的假別
  - `false` - 只顯示停用的假別
  - 不提供 - 顯示全部

---

## 回應

### 成功回應（HTTP 200）

```json
{
  "success": true,
  "data": [
    {
      "leave_type_id": 1,
      "code": "sick_leave",
      "name": "病假",
      "gender_restriction": null,
      "annual_quota_days": 30,
      "pay_rate": 0.5,
      "requires_proof": true,
      "description": "全年30天，薪資半薪，超過30天扣全薪",
      "is_active": true,
      "sort_order": 1,
      "created_at": "2024-12-01T00:00:00Z",
      "updated_at": "2024-12-01T00:00:00Z"
    },
    {
      "leave_type_id": 2,
      "code": "personal_leave",
      "name": "事假",
      "gender_restriction": null,
      "annual_quota_days": 14,
      "pay_rate": 0.0,
      "requires_proof": false,
      "description": "全年14天，無薪",
      "is_active": true,
      "sort_order": 2,
      "created_at": "2024-12-01T00:00:00Z",
      "updated_at": "2024-12-01T00:00:00Z"
    },
    {
      "leave_type_id": 3,
      "code": "menstrual_leave",
      "name": "生理假",
      "gender_restriction": "female",
      "annual_quota_days": 12,
      "pay_rate": 0.5,
      "requires_proof": false,
      "description": "每月1天，併入病假計算，薪資半薪",
      "is_active": true,
      "sort_order": 3,
      "created_at": "2024-12-01T00:00:00Z",
      "updated_at": "2024-12-01T00:00:00Z"
    }
  ]
}
```

---

### 錯誤回應

**403 Forbidden - 無權限：**
```json
{
  "success": false,
  "error": {
    "code": "ADMIN_PERMISSION_REQUIRED",
    "message": "需要管理員權限"
  }
}
```

---

## 使用範例

### 範例 1：獲取所有假別類型

```bash
GET /api/v1/settings/leave-types
```

---

### 範例 2：只獲取啟用的假別類型

```bash
GET /api/v1/settings/leave-types?is_active=true
```

**使用場景：** 員工請假時，只顯示啟用的假別選項

---

### 範例 3：只獲取停用的假別類型

```bash
GET /api/v1/settings/leave-types?is_active=false
```

**使用場景：** 管理員檢視歷史停用的假別

---

## 前端使用範例

```typescript
// 獲取啟用的假別類型供員工選擇
async function getActiveLeaveTypes() {
  const response = await api.get('/api/v1/settings/leave-types?is_active=true');
  
  // 根據員工性別過濾
  const userGender = currentUser.gender;
  const filteredLeaveTypes = response.data.filter(lt => 
    lt.gender_restriction === null || lt.gender_restriction === userGender
  );
  
  return filteredLeaveTypes;
}
```

---

## 相關端點

- [獲取特定假別類型](./獲取特定假別類型.md)
- [新增假別類型](./新增假別類型.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



