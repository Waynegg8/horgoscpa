# 新增加班費率

**端點：** `POST /api/v1/settings/overtime-rates`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

新增一筆加班費率。需確保時數範圍不與同工作日類型的現有費率重疊。

---

## 請求

### 請求 Body

```json
{
  "work_day_type": "weekday",
  "hour_range_start": 9,
  "hour_range_end": 10,
  "rate_multiplier": 1.34,
  "requires_compensatory_leave": false,
  "description": "平日第1-2小時（第9-10H）",
  "sort_order": 1
}
```

---

## 驗證規則

- `work_day_type`: 必填，只能是 `weekday/rest_day/national_holiday/holiday`
- `hour_range_start`: 必填，1-12 之間的整數
- `hour_range_end`: 必填，1-12 之間的整數，必須 >= `hour_range_start`
- `rate_multiplier`: 必填，>= 1.0 的浮點數
- `requires_compensatory_leave`: 可選，布林值，預設 `false`
- `description`: 可選，最長 200 字元
- `sort_order`: 可選，整數，預設 0

---

## 回應

### 成功回應（HTTP 201）

```json
{
  "success": true,
  "message": "加班費率已新增",
  "data": {
    "rate_id": 10,
    "work_day_type": "weekday",
    "hour_range_start": 9,
    "hour_range_end": 10,
    "rate_multiplier": 1.34,
    "requires_compensatory_leave": false,
    "is_active": true
  }
}
```

---

### 錯誤回應

**409 Conflict - 時數範圍重疊：**
```json
{
  "success": false,
  "error": {
    "code": "HOUR_RANGE_OVERLAPPING",
    "message": "時數範圍與現有費率重疊",
    "data": {
      "existing_rate_id": 1,
      "existing_range": "9-10"
    }
  }
}
```

**400 Bad Request - 無效的費率倍數：**
```json
{
  "success": false,
  "error": {
    "code": "INVALID_RATE_MULTIPLIER",
    "message": "費率倍數必須 >= 1.0"
  }
}
```

---

## 相關端點

- [獲取加班費率列表](./獲取加班費率列表.md)
- [編輯加班費率](./編輯加班費率.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



**端點：** `POST /api/v1/settings/overtime-rates`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

新增一筆加班費率。需確保時數範圍不與同工作日類型的現有費率重疊。

---

## 請求

### 請求 Body

```json
{
  "work_day_type": "weekday",
  "hour_range_start": 9,
  "hour_range_end": 10,
  "rate_multiplier": 1.34,
  "requires_compensatory_leave": false,
  "description": "平日第1-2小時（第9-10H）",
  "sort_order": 1
}
```

---

## 驗證規則

- `work_day_type`: 必填，只能是 `weekday/rest_day/national_holiday/holiday`
- `hour_range_start`: 必填，1-12 之間的整數
- `hour_range_end`: 必填，1-12 之間的整數，必須 >= `hour_range_start`
- `rate_multiplier`: 必填，>= 1.0 的浮點數
- `requires_compensatory_leave`: 可選，布林值，預設 `false`
- `description`: 可選，最長 200 字元
- `sort_order`: 可選，整數，預設 0

---

## 回應

### 成功回應（HTTP 201）

```json
{
  "success": true,
  "message": "加班費率已新增",
  "data": {
    "rate_id": 10,
    "work_day_type": "weekday",
    "hour_range_start": 9,
    "hour_range_end": 10,
    "rate_multiplier": 1.34,
    "requires_compensatory_leave": false,
    "is_active": true
  }
}
```

---

### 錯誤回應

**409 Conflict - 時數範圍重疊：**
```json
{
  "success": false,
  "error": {
    "code": "HOUR_RANGE_OVERLAPPING",
    "message": "時數範圍與現有費率重疊",
    "data": {
      "existing_rate_id": 1,
      "existing_range": "9-10"
    }
  }
}
```

**400 Bad Request - 無效的費率倍數：**
```json
{
  "success": false,
  "error": {
    "code": "INVALID_RATE_MULTIPLIER",
    "message": "費率倍數必須 >= 1.0"
  }
}
```

---

## 相關端點

- [獲取加班費率列表](./獲取加班費率列表.md)
- [編輯加班費率](./編輯加班費率.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



