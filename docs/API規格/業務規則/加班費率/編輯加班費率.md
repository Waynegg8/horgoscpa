# 編輯加班費率

**端點：** `PUT /api/v1/settings/overtime-rates/:id`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

編輯特定加班費率的資訊。修改時數範圍時需確保不與其他費率重疊。

---

## 請求

### 路徑參數

- `id` (必填, integer): 費率 ID

### 請求 Body

```json
{
  "rate_multiplier": 1.40,
  "description": "更新後的費率說明"
}
```

**說明：** 只需包含要更新的欄位

---

## 驗證規則

- `work_day_type`: 不可修改（需刪除後重建）
- `hour_range_start`: 可選，1-12 之間
- `hour_range_end`: 可選，1-12 之間
- `rate_multiplier`: 可選，>= 1.0
- `requires_compensatory_leave`: 可選，布林值
- `description`: 可選，最長 200 字元
- `sort_order`: 可選，整數

---

## 回應

### 成功回應（HTTP 200）

```json
{
  "success": true,
  "message": "加班費率已更新",
  "data": {
    "rate_id": 1,
    "rate_multiplier": 1.40,
    "description": "更新後的費率說明",
    "updated_at": "2025-10-27T10:00:00Z"
  }
}
```

---

### 錯誤回應

**404 Not Found：**
```json
{
  "success": false,
  "error": {
    "code": "OVERTIME_RATE_NOT_FOUND",
    "message": "找不到指定的加班費率"
  }
}
```

**409 Conflict - 時數範圍重疊：**
```json
{
  "success": false,
  "error": {
    "code": "HOUR_RANGE_OVERLAPPING",
    "message": "修改後的時數範圍與其他費率重疊"
  }
}
```

---

## 注意事項

### 修改已使用的費率

當修改已被工時記錄使用的費率時：
- ✅ 可以修改：說明、排序
- ⚠️ 謹慎修改：費率倍數（影響歷史計算結果）
- ❌ 不建議修改：時數範圍、工作日類型

**建議：** 重大變更應使用軟刪除並創建新費率

---

## 相關端點

- [獲取特定費率](./獲取特定費率.md)
- [標記為歷史費率](./標記為歷史費率.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



**端點：** `PUT /api/v1/settings/overtime-rates/:id`  
**權限：** 管理員  
**最後更新：** 2025年10月27日

---

## 概述

編輯特定加班費率的資訊。修改時數範圍時需確保不與其他費率重疊。

---

## 請求

### 路徑參數

- `id` (必填, integer): 費率 ID

### 請求 Body

```json
{
  "rate_multiplier": 1.40,
  "description": "更新後的費率說明"
}
```

**說明：** 只需包含要更新的欄位

---

## 驗證規則

- `work_day_type`: 不可修改（需刪除後重建）
- `hour_range_start`: 可選，1-12 之間
- `hour_range_end`: 可選，1-12 之間
- `rate_multiplier`: 可選，>= 1.0
- `requires_compensatory_leave`: 可選，布林值
- `description`: 可選，最長 200 字元
- `sort_order`: 可選，整數

---

## 回應

### 成功回應（HTTP 200）

```json
{
  "success": true,
  "message": "加班費率已更新",
  "data": {
    "rate_id": 1,
    "rate_multiplier": 1.40,
    "description": "更新後的費率說明",
    "updated_at": "2025-10-27T10:00:00Z"
  }
}
```

---

### 錯誤回應

**404 Not Found：**
```json
{
  "success": false,
  "error": {
    "code": "OVERTIME_RATE_NOT_FOUND",
    "message": "找不到指定的加班費率"
  }
}
```

**409 Conflict - 時數範圍重疊：**
```json
{
  "success": false,
  "error": {
    "code": "HOUR_RANGE_OVERLAPPING",
    "message": "修改後的時數範圍與其他費率重疊"
  }
}
```

---

## 注意事項

### 修改已使用的費率

當修改已被工時記錄使用的費率時：
- ✅ 可以修改：說明、排序
- ⚠️ 謹慎修改：費率倍數（影響歷史計算結果）
- ❌ 不建議修改：時數範圍、工作日類型

**建議：** 重大變更應使用軟刪除並創建新費率

---

## 相關端點

- [獲取特定費率](./獲取特定費率.md)
- [標記為歷史費率](./標記為歷史費率.md)
- [API 概覽](./_概覽.md)

---

**最後更新：** 2025年10月27日



