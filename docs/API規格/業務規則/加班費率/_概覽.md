# 加班費率 API 概覽

**API 前綴：** `/api/v1/settings/overtime-rates`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

設定不同工作日類型和時段的加班費率，**完全符合台灣勞基法規定**，用於自動計算加權工時和加班費。

**主要功能：**
- 加班費率的 CRUD 操作
- 軟刪除（標記為歷史費率）機制
- 按工作日類型篩選
- 恢復法定預設值
- 查詢使用情況

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/overtime-rates` | 獲取加班費率列表 | 管理員 |
| GET | `/overtime-rates/:id` | 獲取特定費率 | 管理員 |
| POST | `/overtime-rates` | 新增加班費率 | 管理員 |
| PUT | `/overtime-rates/:id` | 編輯加班費率 | 管理員 |
| DELETE | `/overtime-rates/:id` | 標記為歷史費率 | 管理員 |
| POST | `/overtime-rates/reset-defaults` | 恢復法定預設值 | 管理員 |
| GET | `/overtime-rates/:id/usage` | 查詢使用情況 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取加班費率列表](./獲取加班費率列表.md)
- [獲取特定費率](./獲取特定費率.md)
- [新增加班費率](./新增加班費率.md)
- [編輯加班費率](./編輯加班費率.md)
- [標記為歷史費率](./標記為歷史費率.md)

### 特殊操作
- [恢復法定預設值](./恢復法定預設值.md)
- [查詢使用情況](./查詢使用情況.md)

---

## 工作日類型

| 類型 | 代碼 | 說明 |
|------|------|------|
| 平日 | `weekday` | 正常工作日，超過8H算加班 |
| 休息日 | `rest_day` | 例如週六（非例假日） |
| 國定假日 | `national_holiday` | 政府公告的國定假日 |
| 例假日 | `holiday` | 例如週日，僅限天災等突發事件 |

---

## 勞基法對照

詳見：[2.3 加班費率 - 勞基法對照表](../../../技術規格/業務規則/2.3-加班費率-勞基法對照表.md)

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `OVERTIME_RATE_NOT_FOUND` | 404 | 找不到指定的加班費率 |
| `HOUR_RANGE_OVERLAPPING` | 409 | 時數範圍與現有費率重疊 |
| `OVERTIME_RATE_IN_USE` | 409 | 該費率已被工時記錄使用 |
| `INVALID_RATE_MULTIPLIER` | 400 | 無效的費率倍數 |

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [資料庫設計 - OvertimeRates](../../../資料庫設計/業務規則/OvertimeRates.md)
- [補休機制](../../../技術規格/業務規則/補休機制.md)

---

**最後更新：** 2025年10月27日



**API 前綴：** `/api/v1/settings/overtime-rates`  
**所屬功能：** [業務規則管理](../../../功能模塊/02-業務規則管理.md)  
**最後更新：** 2025年10月27日

---

## 概述

設定不同工作日類型和時段的加班費率，**完全符合台灣勞基法規定**，用於自動計算加權工時和加班費。

**主要功能：**
- 加班費率的 CRUD 操作
- 軟刪除（標記為歷史費率）機制
- 按工作日類型篩選
- 恢復法定預設值
- 查詢使用情況

---

## 端點列表

| 方法 | 端點 | 說明 | 權限 |
|------|------|------|------|
| GET | `/overtime-rates` | 獲取加班費率列表 | 管理員 |
| GET | `/overtime-rates/:id` | 獲取特定費率 | 管理員 |
| POST | `/overtime-rates` | 新增加班費率 | 管理員 |
| PUT | `/overtime-rates/:id` | 編輯加班費率 | 管理員 |
| DELETE | `/overtime-rates/:id` | 標記為歷史費率 | 管理員 |
| POST | `/overtime-rates/reset-defaults` | 恢復法定預設值 | 管理員 |
| GET | `/overtime-rates/:id/usage` | 查詢使用情況 | 管理員 |

---

## 詳細文檔

### CRUD 操作
- [獲取加班費率列表](./獲取加班費率列表.md)
- [獲取特定費率](./獲取特定費率.md)
- [新增加班費率](./新增加班費率.md)
- [編輯加班費率](./編輯加班費率.md)
- [標記為歷史費率](./標記為歷史費率.md)

### 特殊操作
- [恢復法定預設值](./恢復法定預設值.md)
- [查詢使用情況](./查詢使用情況.md)

---

## 工作日類型

| 類型 | 代碼 | 說明 |
|------|------|------|
| 平日 | `weekday` | 正常工作日，超過8H算加班 |
| 休息日 | `rest_day` | 例如週六（非例假日） |
| 國定假日 | `national_holiday` | 政府公告的國定假日 |
| 例假日 | `holiday` | 例如週日，僅限天災等突發事件 |

---

## 勞基法對照

詳見：[2.3 加班費率 - 勞基法對照表](../../../技術規格/業務規則/2.3-加班費率-勞基法對照表.md)

---

## 錯誤代碼

| 錯誤代碼 | HTTP 狀態碼 | 說明 |
|---------|------------|------|
| `OVERTIME_RATE_NOT_FOUND` | 404 | 找不到指定的加班費率 |
| `HOUR_RANGE_OVERLAPPING` | 409 | 時數範圍與現有費率重疊 |
| `OVERTIME_RATE_IN_USE` | 409 | 該費率已被工時記錄使用 |
| `INVALID_RATE_MULTIPLIER` | 400 | 無效的費率倍數 |

---

## 相關文檔

- [功能模塊 - 業務規則管理](../../../功能模塊/02-業務規則管理.md)
- [資料庫設計 - OvertimeRates](../../../資料庫設計/業務規則/OvertimeRates.md)
- [補休機制](../../../技術規格/業務規則/補休機制.md)

---

**最後更新：** 2025年10月27日



