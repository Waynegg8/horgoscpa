# 霍爾果斯會計師事務所 - 系統文檔

**版本**: 2.0  
**最後更新**: 2025-10-26

---

## ⚠️ 開發者必讀

### 修改功能的正確流程

```
1. 閱讀總體架構 → 2. 找到功能設計文檔 → 3. 更新設計文檔 
   → 4. 實施開發 → 5. 測試 → 6. 清理中間檔案
```

**❌ 禁止直接改代碼！**  
**✅ 必須先改設計文檔！**

---

## 📚 文檔導航

### 🏗️ 系統總體架構（新人必讀）

#### ⭐ [系統架構設計.md](./系統架構設計.md)
**整個系統的總覽與架構**
- 系統定位與技術架構
- 所有功能模組總覽
- 完整資料庫結構與遷移檔案列表
- 資料流程圖
- 開發流程原則
- 專案目錄結構

**適用對象**: 所有開發人員（第一份必讀文檔）

---

### 📋 詳細功能設計（7個核心功能）

修改任何功能前，必須先閱讀並更新對應的設計文檔。

#### 1. [任務管理系統設計.md](./任務管理系統設計.md)
**統一任務管理（tasks.html）**
- 7個標籤統一管理所有任務
- 多階段任務系統
- 周期任務自動生成
- 客戶服務自動化任務
- 任務範本系統
- 工商/財稅任務分類

#### 2. [客戶服務自動化系統設計.md](./客戶服務自動化系統設計.md)
**客戶服務任務自動化邏輯**
- 自動任務生成演算法
- 服務配置與排程
- 檢查清單範本系統
- 工作量管理與分配
- GitHub Actions 定時執行

#### 3. [工時管理系統設計.md](./工時管理系統設計.md)
**工時記錄與統計（timesheet.html）**
- 每日工時記錄
- 加班時數管理
- 請假申請流程
- 年假自動試算與結轉
- 工時報表統計

#### 4. [客戶管理系統設計.md](./客戶管理系統設計.md)
**客戶資料管理（settings.html 客戶標籤）**
- 客戶基本資料 CRUD
- 客戶服務配置
- 服務排程管理
- 客戶互動記錄
- 客戶統計報表

#### 5. [知識庫系統設計.md](./知識庫系統設計.md)
**知識管理平台（knowledge.html）**
- SOP 標準作業程序
- 內部文檔管理
- 常見問答 (FAQ)
- 階層式分類系統
- 版本控制與搜尋

#### 6. [專案管理系統設計.md](./專案管理系統設計.md)
**專案追蹤（projects.html）**
- 專案建立與追蹤
- 專案任務管理
- 專案檢查清單
- 專案進度視覺化
- 專案分類與報表

#### 7. [報表系統設計.md](./報表系統設計.md)
**報表統計（reports.html）**
- 年假報表
- 工時分析報表
- 樞紐分析報表
- 報表快取機制
- 圖表視覺化

#### 8. [內容管理系統設計.md](./內容管理系統設計.md)
**對外網站內容（content-editor.html, blog.html）**
- 部落格文章管理
- 資源文件管理
- 媒體庫管理
- Markdown 編輯器
- SEO 設定

#### 9. [系統設定與工作台設計.md](./系統設定與工作台設計.md)
**系統設定與儀表板（settings.html, dashboard.html）**
- 員工管理
- 系統參數設定
- 任務範本管理
- 工作台儀表板
- 通知系統

---

### 💻 開發規範與部署

#### [開發與部署指南.md](./開發與部署指南.md)
**開發規範、代碼風格、部署流程**
- ⚠️ **核心原則：先改設計再改代碼**
- 代碼規範（Git、JavaScript、SQL）
- 資料庫操作規範
- 部署流程與環境配置
- 測試方法與清理原則

---

### 🔌 技術參考

#### [API端點文檔.md](./API端點文檔.md)
**完整 API 參考手冊**
- 所有 API 端點列表
- 請求與回應格式
- 認證與授權方式
- 錯誤處理規範

---

### ⚙️ 系統配置與維運

#### [GitHub Actions設定.md](./GitHub Actions設定.md)
自動化配置與 CI/CD 設定

#### [SEO部署指南.md](./SEO部署指南.md)
SEO 優化與網站部署

#### [timesheet-api/資料庫還原指南.md](./timesheet-api/資料庫還原指南.md)
資料庫備份與還原操作

---

## 🔍 快速查找表

| 頁面/功能 | 設計文檔 |
|-----------|----------|
| **tasks.html** | [任務管理系統設計.md](./任務管理系統設計.md) |
| **knowledge.html** | [知識庫系統設計.md](./知識庫系統設計.md) |
| **timesheet.html** | [工時管理系統設計.md](./工時管理系統設計.md) |
| **settings.html** (客戶) | [客戶管理系統設計.md](./客戶管理系統設計.md) |
| **settings.html** (其他) | [系統設定與工作台設計.md](./系統設定與工作台設計.md) |
| **dashboard.html** | [系統設定與工作台設計.md](./系統設定與工作台設計.md) |
| **projects.html** | [專案管理系統設計.md](./專案管理系統設計.md) |
| **reports.html** | [報表系統設計.md](./報表系統設計.md) |
| **content-editor.html** | [內容管理系統設計.md](./內容管理系統設計.md) |
| **blog.html** | [內容管理系統設計.md](./內容管理系統設計.md) |
| **自動任務生成** | [客戶服務自動化系統設計.md](./客戶服務自動化系統設計.md) |
| **API 查詢** | [API端點文檔.md](./API端點文檔.md) |
| **部署** | [開發與部署指南.md](./開發與部署指南.md) |

---

## 📂 完整文檔結構

```
docs/
├── README.md                         # 本文件（文檔導航）
│
├── 系統架構設計.md                   # ⭐ 總體架構（必讀）
│
├── 核心功能設計（9個）
│   ├── 任務管理系統設計.md           # tasks.html（統一任務管理）
│   ├── 客戶服務自動化系統設計.md     # 自動任務生成邏輯
│   ├── 工時管理系統設計.md           # timesheet.html
│   ├── 客戶管理系統設計.md           # settings.html 客戶標籤
│   ├── 知識庫系統設計.md             # knowledge.html（SOP+文檔+FAQ）
│   ├── 專案管理系統設計.md           # projects.html
│   ├── 報表系統設計.md               # reports.html
│   ├── 內容管理系統設計.md           # CMS（content-editor.html）
│   └── 系統設定與工作台設計.md       # settings.html + dashboard.html
│
├── 開發與部署指南.md                 # 開發規範與流程
├── API端點文檔.md                    # API 參考手冊
│
├── GitHub Actions設定.md             # CI/CD 自動化
├── SEO部署指南.md                    # SEO 優化
│
└── timesheet-api/
    ├── README.md                     # API 專案說明
    └── 資料庫還原指南.md             # 資料庫維運
```

---

## 📌 開發流程（最重要）

### ✅ 正確的開發流程

```
步驟 1: 閱讀設計文檔
├─ 先看 [系統架構設計.md] 瞭解整體
└─ 找到要修改的功能設計文檔

步驟 2: 更新設計文檔
├─ 描述新功能或修改內容
├─ 更新資料表結構（如需要）
├─ 更新 API 設計（如需要）
└─ 更新前端設計（如需要）

步驟 3: 實施開發
├─ 資料庫遷移（建立 migration 檔案）
├─ 後端 API 實作
└─ 前端介面開發

步驟 4: 測試驗證
├─ 測試功能是否符合設計
└─ 測試 API 是否正常

步驟 5: 清理與同步
├─ 刪除測試腳本和中間檔案
└─ 確認設計文檔與代碼同步
```

### ❌ 禁止的做法

- ❌ 直接修改代碼不更新設計
- ❌ 完成後才補設計文檔
- ❌ 保留測試腳本和臨時檔案
- ❌ 生成完成報告、總結文件
- ❌ 設計文檔與代碼不同步

---

## 📝 文檔維護原則

1. ✅ **設計優先** - 任何修改先更新設計文檔
2. ✅ **保持同步** - 設計文檔與代碼必須 100% 同步
3. ✅ **及時清理** - 刪除過時、臨時、測試文檔
4. ✅ **結構清晰** - 每個功能都有獨立設計文檔
5. ❌ **不生成報告** - 不需要完成報告、總結、快速啟動

---

## 🆘 使用指南

### 我是新人，從哪開始？
1. 閱讀 [系統架構設計.md](./系統架構設計.md)
2. 瀏覽各功能設計文檔，瞭解系統全貌
3. 閱讀 [開發與部署指南.md](./開發與部署指南.md)
4. 查看 [API端點文檔.md](./API端點文檔.md)

### 我要修改某個頁面/功能？
1. 從上方表格找到頁面對應的設計文檔
2. 閱讀並理解現有設計
3. **先更新設計文檔**（描述你要改什麼）
4. 按照更新後的設計進行開發
5. 測試完成後刪除中間檔案

### 我要查 API 怎麼用？
直接看 [API端點文檔.md](./API端點文檔.md)

### 我要部署系統？
看 [開發與部署指南.md](./開發與部署指南.md)

### 資料庫出問題了？
看 [timesheet-api/資料庫還原指南.md](./timesheet-api/資料庫還原指南.md)

---

## 🎯 頁面與文檔對應

### 內部管理系統頁面

| HTML 頁面 | 功能 | 設計文檔 |
|-----------|------|----------|
| **tasks.html** | 統一任務管理（7個標籤） | [任務管理系統設計.md](./任務管理系統設計.md) |
| **knowledge.html** | 知識庫（SOP+文檔+FAQ） | [知識庫系統設計.md](./知識庫系統設計.md) |
| **timesheet.html** | 工時記錄 | [工時管理系統設計.md](./工時管理系統設計.md) |
| **dashboard.html** | 工作台儀表板 | [系統設定與工作台設計.md](./系統設定與工作台設計.md) |
| **settings.html** | 系統設定（5個標籤） | [系統設定與工作台設計.md](./系統設定與工作台設計.md) + [客戶管理系統設計.md](./客戶管理系統設計.md) |
| **projects.html** | 專案管理 | [專案管理系統設計.md](./專案管理系統設計.md) |
| **reports.html** | 報表中心 | [報表系統設計.md](./報表系統設計.md) |
| **content-editor.html** | 內容編輯器 | [內容管理系統設計.md](./內容管理系統設計.md) |

### 廢棄/整合的頁面

| 頁面 | 狀態 | 說明 |
|------|------|------|
| ~~multi-stage-tasks.html~~ | ❌ 應廢棄 | 多階段任務已整合到 tasks.html |
| ~~recurring-tasks.html~~ | ❌ 應廢棄 | 周期任務已整合到 tasks.html |
| ~~service-config.html~~ | ❌ 應廢棄 | 服務配置已整合到 tasks.html |
| ~~sop.html~~ | ⚠️ 檢查 | 如與 knowledge.html 重複則廢棄 |

---

## 📖 推薦閱讀順序

### 新人入職（第1週）
```
Day 1: 系統架構設計.md（瞭解全貌）
Day 2: 任務管理系統設計.md（核心功能）
Day 3: 開發與部署指南.md + API端點文檔.md
Day 4-5: 瀏覽其他功能設計文檔
```

### 接手維護（第1天）
```
1. 系統架構設計.md（瞭解全貌）
2. 你負責功能的設計文檔（深入理解）
3. 開發與部署指南.md（掌握流程）
```

### 開發新功能（每次）
```
1. 找到對應功能設計文檔
2. 更新設計文檔（加入新功能描述）
3. 實施開發
4. 測試與清理
```

---

## 📌 重要提醒

### 🔴 修改代碼前必做
1. ✅ 找到對應的設計文檔
2. ✅ 更新設計文檔
3. ✅ 確認設計可行
4. ✅ 再開始寫代碼

### 🔴 完成開發後必做
1. ✅ 測試功能
2. ✅ 刪除測試腳本
3. ✅ 刪除臨時檔案
4. ✅ 確認設計與代碼同步

### 🔴 絕對禁止
- ❌ 不改設計直接改代碼
- ❌ 保留測試腳本
- ❌ 生成完成報告/總結文件
- ❌ 設計與代碼不一致

---

**記住：文檔是專案的基石，保持清晰、完整、同步！**
