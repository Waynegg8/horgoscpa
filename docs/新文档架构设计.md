# 新文档架构设计

**目标：** 让非技术人员能轻松理解

---

## 🔍 当前问题

### 问题1：技术术语太多
```
❌ "架构设计"  - 什么是架构？
❌ "技术规格"  - 什么是规格？
❌ "API规格"   - 什么是API？
❌ "资料库设计" - 为什么要设计？
```

### 问题2：分层太复杂
```
功能模块 → 技术规格 → API规格 → 资料库设计
（需要跳转4次才能理解一个功能）
```

### 问题3：文档分类不直观
```
❌ 按"技术层次"分类（架构、API、数据库）
✅ 应该按"业务功能"分类（客户、工时、假期）
```

---

## 💡 新架构设计（扁平化）

### 核心理念
> "用户想知道的是：这个功能做什么、怎么用、存什么数据"
> "而不是：架构、API、技术规格"

### 新的文档结构

```
docs/
│
├── 📖 使用手册/           ← 给用户（非技术）
│   ├── 快速开始.md
│   ├── 客户管理.md
│   ├── 工时管理.md
│   ├── 假期管理.md
│   ├── 任务管理.md
│   └── 系统设置.md
│
├── 💻 开发指南/           ← 给AI（技术）
│   ├── 如何开发.md
│   ├── 客户管理-完整规格.md
│   ├── 工时管理-完整规格.md
│   ├── 假期管理-完整规格.md
│   ├── 任务管理-完整规格.md
│   └── 共用规范.md
│
└── 🔧 系统资料/           ← 参考
    ├── 数据表清单.md
    ├── API清单.md
    └── 部署说明.md
```

---

## 📄 文档内容重组

### 旧结构（分散）
```
客户管理功能：

1. 功能模块/23-客户管理.md
   → 只有业务需求，没有技术细节

2. 技术规格/客户管理技术规格.md
   → 只有UI和验证，没有API

3. API规格/客户管理API.md
   → 只有API端点，没有业务逻辑

4. 资料库设计/核心业务表.md
   → 只有表结构，没有使用说明

需要跳转4个文档才能完全理解！
```

### 新结构（集中）
```
客户管理：

1. 使用手册/客户管理.md（给用户）
   - 这是什么功能
   - 怎么使用
   - 有哪些操作
   - 看到什么界面

2. 开发指南/客户管理-完整规格.md（给AI）
   - 数据表结构
   - API端点
   - 业务逻辑
   - 实现代码
   - 全在一个文档！

一个功能最多2个文档（用户版 + 开发版）
```

---

## 📝 具体改造

### 使用手册/客户管理.md（给用户）

```markdown
# 客户管理

## 这是什么
管理客户的基本资料，包括公司名称、统一编号、联系方式等。

## 能做什么
1. 新增客户
2. 查看客户列表
3. 编辑客户资料
4. 为客户添加标签
5. 查看客户的服务记录

## 界面说明
（截图 + 说明）

## 常见问题
Q: 如何新增客户？
A: 点击右上角"新增客户"按钮...

Q: 为什么看不到某个客户？
A: 员工只能看自己负责的客户...
```

### 开发指南/客户管理-完整规格.md（给AI）

```markdown
# 客户管理 - 完整开发规格

## 数据表
CREATE TABLE Clients (...);

## API端点
POST /api/v1/clients
GET /api/v1/clients
PUT /api/v1/clients/:id
DELETE /api/v1/clients/:id

## 前端组件
ClientListPage.vue
ClientFormPage.vue

## 业务逻辑
- 统一编号验证
- 权限控制
- 标签关联

## 实现代码
（完整的Service、Repository、Route代码）

全部在一个文档！
```

---

## 🗂️ 新分类方式

### 按功能分类（而非技术层次）

```
客户管理/
├── 用户手册.md     （给用户）
└── 开发规格.md     （给AI，包含所有技术细节）

工时管理/
├── 用户手册.md
└── 开发规格.md

假期管理/
├── 用户手册.md
└── 开发规格.md

任务管理/
├── 用户手册.md
└── 开发规格.md

系统设置/
├── 业务规则管理.md
├── 服务项目管理.md
└── 员工管理.md
```

---

## 📊 优化对比

| 项目 | 旧结构 | 新结构 |
|------|--------|--------|
| 文档层次 | 4层（功能→技术→API→数据库）| 2层（用户手册→开发规格）|
| 技术术语 | 多（架构、API、Schema等）| 少（用通俗语言）|
| 查找次数 | 跳转4次 | 最多2次 |
| 理解难度 | 困难（需要技术背景）| 简单（业务语言）|
| 文档总数 | 62个 | 约30-40个 |

---

## 🚀 重构计划

### 第一步：创建新结构
1. 创建"使用手册"目录（10个文档）
2. 创建"开发指南"目录（10个文档）
3. 创建"系统资料"目录（5个文档）

### 第二步：迁移内容
1. 将功能模块内容改写为使用手册
2. 将技术规格+API规格+资料库设计合并为开发规格
3. 将架构设计、快速参考等移到系统资料

### 第三步：删除旧结构
1. 删除"架构设计"目录
2. 删除"技术规格"目录
3. 删除"API规格"目录
4. 删除"资料库设计"目录

**最终：约 30-40 个文档，2层结构，易于理解**

---

**是否立即开始全面重构？**

