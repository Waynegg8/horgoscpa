# Timesheet API æ–‡æª”

**ç‰ˆæœ¬**: 2.0  
**æœ€å¾Œæ›´æ–°**: 2025-10-26

---

## ğŸ“š æ–‡æª”åˆ—è¡¨

### [è³‡æ–™åº«é‚„åŸæŒ‡å—.md](./è³‡æ–™åº«é‚„åŸæŒ‡å—.md)
**è³‡æ–™åº«å‚™ä»½èˆ‡é‚„åŸæ“ä½œæ‰‹å†Š**
- å‚™ä»½è³‡æ–™åº«æ­¥é©Ÿ
- é‚„åŸè³‡æ–™åº«æ­¥é©Ÿ
- å¸¸è¦‹å•é¡Œæ’é™¤
- è³‡æ–™åº«é·ç§»æ³¨æ„äº‹é …

**é©ç”¨å°è±¡**: é‹ç¶­äººå“¡ã€é–‹ç™¼äººå“¡

---

## ğŸ”— ç›¸é—œæ–‡æª”

ä¸»è¦æŠ€è¡“æ–‡æª”è«‹åƒè€ƒï¼š
- [../APIç«¯é»æ–‡æª”.md](../APIç«¯é»æ–‡æª”.md) - å®Œæ•´ API åƒè€ƒ
- [../å®¢æˆ¶æœå‹™è‡ªå‹•åŒ–ç³»çµ±è¨­è¨ˆ.md](../å®¢æˆ¶æœå‹™è‡ªå‹•åŒ–ç³»çµ±è¨­è¨ˆ.md) - ç³»çµ±æ¶æ§‹è¨­è¨ˆ
- [../é–‹ç™¼æŒ‡å—.md](../é–‹ç™¼æŒ‡å—.md) - é–‹ç™¼è¦ç¯„

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
timesheet-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js          # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ auth.js           # èªè­‰æ¨¡çµ„
â”‚   â”œâ”€â”€ automated-tasks.js # è‡ªå‹•ä»»å‹™ç”Ÿæˆ
â”‚   â”œâ”€â”€ clients.js        # å®¢æˆ¶ç®¡ç†
â”‚   â”œâ”€â”€ multi-stage-tasks.js # å¤šéšæ®µä»»å‹™
â”‚   â””â”€â”€ ...
â”œâ”€â”€ migrations/           # è³‡æ–™åº«é·ç§»è…³æœ¬
â”œâ”€â”€ scripts/             # å·¥å…·è…³æœ¬
â”œâ”€â”€ test/                # æ¸¬è©¦æ–‡ä»¶
â”œâ”€â”€ wrangler.jsonc       # Cloudflare Workers é…ç½®
â””â”€â”€ package.json         # å°ˆæ¡ˆä¾è³´
```

---

## ğŸš€ æœ¬åœ°é–‹ç™¼

```bash
# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd timesheet-api

# å®‰è£ä¾è³´
npm install

# å•Ÿå‹•æœ¬åœ°é–‹ç™¼æœå‹™å™¨
npx wrangler dev --local --persist-to .wrangler/state

# åŸ·è¡Œæ¸¬è©¦
npm test
```

---

## ğŸ“¦ éƒ¨ç½²

```bash
# éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
npx wrangler deploy

# éƒ¨ç½²åˆ°é è¦½ç’°å¢ƒ
npx wrangler deploy --env preview
```

---

## ğŸ—„ï¸ è³‡æ–™åº«æ“ä½œ

### åŸ·è¡Œé·ç§»

```bash
# æœ¬åœ°ç’°å¢ƒ
npx wrangler d1 execute timesheet-db --local --file=migrations/XXX.sql

# ç”Ÿç”¢ç’°å¢ƒ
npx wrangler d1 execute timesheet-db --remote --file=migrations/XXX.sql
```

### æŸ¥è©¢è³‡æ–™

```bash
# æœ¬åœ°ç’°å¢ƒ
npx wrangler d1 execute timesheet-db --local --command="SELECT * FROM users;"

# ç”Ÿç”¢ç’°å¢ƒ
npx wrangler d1 execute timesheet-db --remote --command="SELECT * FROM users;"
```

è©³ç´°çš„è³‡æ–™åº«é‚„åŸæŒ‡å—è«‹åƒé–± [è³‡æ–™åº«é‚„åŸæŒ‡å—.md](./è³‡æ–™åº«é‚„åŸæŒ‡å—.md)

---

## ğŸ†˜ éœ€è¦å¹«åŠ©ï¼Ÿ

- **API ä½¿ç”¨**: åƒè€ƒ [../APIç«¯é»æ–‡æª”.md](../APIç«¯é»æ–‡æª”.md)
- **è³‡æ–™åº«å•é¡Œ**: æŸ¥çœ‹ [è³‡æ–™åº«é‚„åŸæŒ‡å—.md](./è³‡æ–™åº«é‚„åŸæŒ‡å—.md)
- **é–‹ç™¼å•é¡Œ**: æŸ¥é–± [../é–‹ç™¼æŒ‡å—.md](../é–‹ç™¼æŒ‡å—.md)

---

[è¿”å›ä¸»æ–‡æª”ç›®éŒ„](../README.md)
