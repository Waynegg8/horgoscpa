# å„€è¡¨æ¿ - å®Œæ•´é–‹ç™¼è¦æ ¼

**æ¨¡çµ„åç¨±ï¼š** å„€è¡¨æ¿ï¼ˆDashboardï¼‰ç³»çµ±  
**ç‰ˆæœ¬ï¼š** 3.2  
**æ›´æ–°æ—¥æœŸï¼š** 2025-10-29  
**é‡è¦æ€§ï¼š** â­â­â­ ä½¿ç”¨è€…ç™»å…¥å¾Œç¬¬ä¸€å€‹çœ‹åˆ°çš„é é¢

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½

**å„€è¡¨æ¿æ˜¯ç³»çµ±çš„å…¥å£é é¢ï¼Œæ‰€æœ‰ç”¨æˆ¶ç™»å…¥å¾Œéƒ½æœƒçœ‹åˆ°ã€‚**

#### å“¡å·¥å„€è¡¨æ¿
- æˆ‘çš„å·¥æ™‚çµ±è¨ˆï¼ˆæœ¬æœˆï¼‰
- æˆ‘çš„ä»»å‹™åˆ—è¡¨ï¼ˆå¾…è¾¦/é€²è¡Œä¸­ï¼‰
- æˆ‘çš„å‡æœŸé¤˜é¡
- å¿«é€Ÿæ“ä½œæŒ‰éˆ•
- æœ€è¿‘å‹•æ…‹

#### ç®¡ç†å“¡å„€è¡¨æ¿
- å…¬å¸ç¸½è¦½
- è²¡å‹™ç‹€æ³
- å¾…è™•ç†äº‹é …
- å¿«é€Ÿæ“ä½œæŒ‰éˆ•

---

## ğŸ’¾ è³‡æ–™è¡¨

### DashboardWidgetsï¼ˆå„€è¡¨æ¿å°éƒ¨ä»¶é…ç½®ï¼‰
```sql
CREATE TABLE DashboardWidgets (
  widget_id INTEGER PRIMARY KEY AUTOINCREMENT,
  widget_code TEXT UNIQUE NOT NULL,      -- å°éƒ¨ä»¶ä»£ç¢¼
  widget_name TEXT NOT NULL,             -- å°éƒ¨ä»¶åç¨±
  widget_type TEXT NOT NULL,             -- 'stat', 'chart', 'list', 'calendar'
  default_position INTEGER,              -- é è¨­ä½ç½®
  is_admin_only BOOLEAN DEFAULT 0,       -- æ˜¯å¦åƒ…ç®¡ç†å“¡å¯è¦‹
  is_enabled BOOLEAN DEFAULT 1,
  created_at TEXT DEFAULT (datetime('now'))
);

-- é è¨­å°éƒ¨ä»¶
INSERT INTO DashboardWidgets (widget_code, widget_name, widget_type, default_position, is_admin_only) VALUES
('my_hours', 'æˆ‘çš„å·¥æ™‚çµ±è¨ˆ', 'stat', 1, 0),
('my_tasks', 'æˆ‘çš„ä»»å‹™åˆ—è¡¨', 'list', 2, 0),
('my_leaves', 'æˆ‘çš„å‡æœŸé¤˜é¡', 'stat', 3, 0),
('recent_activities', 'æœ€è¿‘å‹•æ…‹', 'list', 4, 0),
('company_overview', 'å…¬å¸ç¸½è¦½', 'stat', 1, 1),
('financial_status', 'è²¡å‹™ç‹€æ³', 'stat', 2, 1),
('pending_items', 'å¾…è™•ç†äº‹é …', 'list', 3, 1),
('revenue_chart', 'ç‡Ÿæ”¶è¶¨å‹¢', 'chart', 4, 1);
```

### UserDashboardSettingsï¼ˆç”¨æˆ¶å„€è¡¨æ¿è¨­å®šï¼‰
```sql
CREATE TABLE UserDashboardSettings (
  setting_id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  widget_code TEXT NOT NULL,
  is_visible BOOLEAN DEFAULT 1,
  position INTEGER,                      -- è‡ªè¨‚ä½ç½®
  created_at TEXT DEFAULT (datetime('now')),
  updated_at TEXT DEFAULT (datetime('now')),
  
  FOREIGN KEY (user_id) REFERENCES Users(user_id),
  FOREIGN KEY (widget_code) REFERENCES DashboardWidgets(widget_code),
  UNIQUE(user_id, widget_code)
);

CREATE INDEX idx_user_dashboard_user ON UserDashboardSettings(user_id);
```

---

## ğŸ”Œ API ç«¯é»

### å„€è¡¨æ¿æ•¸æ“š

```
GET    /api/v1/dashboard                    ç²å–å„€è¡¨æ¿æ•¸æ“šï¼ˆä¾è§’è‰²è‡ªå‹•åˆ‡æ›ï¼‰
GET    /api/v1/dashboard/my-hours           æˆ‘çš„å·¥æ™‚çµ±è¨ˆ
GET    /api/v1/dashboard/my-tasks           æˆ‘çš„ä»»å‹™åˆ—è¡¨
GET    /api/v1/dashboard/my-leaves          æˆ‘çš„å‡æœŸé¤˜é¡
GET    /api/v1/dashboard/recent-activities  æœ€è¿‘å‹•æ…‹
GET    /api/v1/dashboard/company-overview   å…¬å¸ç¸½è¦½ï¼ˆç®¡ç†å“¡ï¼‰
GET    /api/v1/dashboard/financial-status   è²¡å‹™ç‹€æ³ï¼ˆç®¡ç†å“¡ï¼‰
GET    /api/v1/dashboard/pending-items      å¾…è™•ç†äº‹é …ï¼ˆç®¡ç†å“¡ï¼‰
```

### å„€è¡¨æ¿è¨­å®š

```
GET    /api/v1/dashboard/settings           ç²å–ç”¨æˆ¶å„€è¡¨æ¿è¨­å®š
PUT    /api/v1/dashboard/settings           æ›´æ–°å„€è¡¨æ¿è¨­å®š
```

---

## ğŸ“ API ç¯„ä¾‹

### å“¡å·¥å„€è¡¨æ¿æ•¸æ“š

**è«‹æ±‚ï¼š**
```
GET /api/v1/dashboard
Authorization: Bearer {token}
```

**å›æ‡‰ï¼ˆå“¡å·¥ï¼‰ï¼š**
```json
{
  "success": true,
  "data": {
    "user_type": "employee",
    "user_name": "ç‹å°æ˜",
    
    "my_hours": {
      "month": "2025-11",
      "total_hours": 128.0,
      "target_hours": 160.0,
      "normal_hours": 120.0,
      "overtime_hours": 8.0,
      "completion_rate": 80.0,
      "trend": {
        "week_1": 32,
        "week_2": 40,
        "week_3": 36,
        "week_4": 20
      }
    },
    
    "my_tasks": {
      "total": 5,
      "pending": 2,
      "in_progress": 2,
      "overdue": 1,
      "urgent": 1,      // â­ æ–°å¢ï¼š3å¤©å…§åˆ°æœŸçš„ä»»å‹™æ•¸
      "tasks": [
        {
          "task_id": 123,
          "task_name": "æ¸¬è©¦ç§‘æŠ€ - è¨˜å¸³æœå‹™",
          "client_name": "æ¸¬è©¦ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸",
          "due_date": "2025-11-30",
          "status": "in_progress",
          "progress": "2/3",
          "is_overdue": false,
          "days_until_due": 12,        // â­ å¾Œç«¯è¨ˆç®—ï¼ˆé‚„æœ‰12å¤©ï¼‰
          "urgency_level": "normal",   // â­ urgent/normal/low
          "has_sop": true
        },
        {
          "task_id": 124,
          "task_name": "ABCå…¬å¸ - å·¥å•†ç™»è¨˜",
          "client_name": "ABCå…¬å¸",
          "due_date": "2025-11-25",
          "status": "pending",
          "progress": "0/2",
          "is_overdue": true,
          "days_overdue": 2,
          "days_until_due": -2,        // â­ è² æ•¸è¡¨ç¤ºå·²é€¾æœŸ
          "urgency_level": "overdue"   // â­ å·²é€¾æœŸ
        }
      ]
    },
    
    "my_leaves": {
      "annual_leave": {
        "entitled": 7,
        "used": 2,
        "remaining": 5
      },
      "sick_leave": {
        "entitled": 30,
        "used": 2,
        "remaining": 28
      },
      "compensatory_leave": {
        "hours": 8.0,
        "expiry_date": "2025-11-30"
      },
      "recent_applications": [
        {
          "leave_type": "ç‰¹ä¼‘",
          "start_date": "2025-11-20",
          "days": 1,
          "status": "approved"
        }
      ]
    },
    
    "quick_actions": [
      {
        "action": "fill_timesheet",
        "label": "å¡«å¯«ä»Šæ—¥å·¥æ™‚",
        "icon": "clock",
        "url": "/timesheets/new"
      },
      {
        "action": "apply_leave",
        "label": "ç”³è«‹å‡æœŸ",
        "icon": "calendar",
        "url": "/leaves/apply"
      },
      {
        "action": "view_reports",
        "label": "æŸ¥çœ‹æˆ‘çš„å ±è¡¨",
        "icon": "chart",
        "url": "/reports/my"
      }
    ],
    
    "recent_activities": [
      {
        "type": "task_completed",
        "message": "å®Œæˆä»»å‹™ï¼šXYZå…¬å¸ - ç¨…å‹™ç”³å ±",
        "timestamp": "2025-11-28 15:30:00"
      },
      {
        "type": "leave_approved",
        "message": "å‡æœŸç”³è«‹å·²æ ¸å‡†ï¼š11/25 ç‰¹ä¼‘ 1å¤©",
        "timestamp": "2025-11-27 10:20:00"
      },
      {
        "type": "timesheet_reminder",
        "message": "æé†’ï¼š11/26 å·¥æ™‚å°šæœªå¡«å¯«",
        "timestamp": "2025-11-27 08:30:00"
      }
    ],
    
    "notifications": [
      {
        "type": "warning",
        "message": "æ‚¨æœ‰1å€‹ä»»å‹™å·²é€¾æœŸ",
        "action_url": "/tasks?filter=overdue"
      },
    ]
  }
}
```

### ç®¡ç†å“¡å„€è¡¨æ¿æ•¸æ“š

**å›æ‡‰ï¼ˆç®¡ç†å“¡ï¼‰ï¼š**
```json
{
  "success": true,
  "data": {
    "user_type": "admin",
    "user_name": "ç®¡ç†å“¡",
    
    "company_overview": {
      "month": "2025-11",
      "total_hours": 1200.0,
      "employee_count": 5,
      "attendance_rate": 95.0,
      "active_services": 15,
      "active_clients": 50,
      "employee_status": {
        "working": 4,
        "on_leave": 1,
        "absent": 0
      }
    },
    
    "financial_status": {
      "month": "2025-11",
      "total_ar": 85500,           // æ‡‰æ”¶å¸³æ¬¾
      "collected": 45000,          // æœ¬æœˆæ”¶æ¬¾
      "overdue": 25000,            // é€¾æœŸé‡‘é¡
      "collection_rate": 87.5,     // æ”¶æ¬¾ç‡%
      "revenue": 120000,           // æœ¬æœˆé–‹ç«‹æ”¶æ“šç¸½é¡
      "cost": 95000,               // æœ¬æœˆç¸½æˆæœ¬
      "profit": 25000,             // æœ¬æœˆæ¯›åˆ©
      "profit_margin": 20.8        // æ¯›åˆ©ç‡%
    },
    
    "pending_items": {
      "total": 5,
      "items": [
        {
          "type": "leave_application",
          "message": "ç‹å°æ˜ - äº‹å‡ç”³è«‹ï¼ˆå¾…å¯©æ ¸ï¼‰",
          "date": "2025-11-28",
          "action_url": "/admin/leaves/approve/123"
        },
        {
          "type": "overdue_task",
          "message": "ABCå…¬å¸ - è¨˜å¸³ä»»å‹™é€¾æœŸ2å¤©",
          "assignee": "æç¾ç²",
          "action_url": "/tasks/124"
        },
        {
          "type": "overdue_payment",
          "message": "XYZä¼æ¥­ - æ”¶æ“šé€¾æœŸ30å¤©ï¼ˆ15,000å…ƒï¼‰",
          "action_url": "/receipts/202510-003"
        }
      ]
    },
    
    "revenue_chart": {
      "period": "last_6_months",
      "data": [
        { "month": "2025-06", "revenue": 110000, "cost": 85000, "profit": 25000 },
        { "month": "2025-07", "revenue": 125000, "cost": 90000, "profit": 35000 },
        { "month": "2025-08", "revenue": 115000, "cost": 88000, "profit": 27000 },
        { "month": "2025-09", "revenue": 130000, "cost": 95000, "profit": 35000 },
        { "month": "2025-10", "revenue": 118000, "cost": 92000, "profit": 26000 },
        { "month": "2025-11", "revenue": 120000, "cost": 95000, "profit": 25000 }
      ]
    },
    
    "quick_actions": [
      {
        "action": "add_client",
        "label": "æ–°å¢å®¢æˆ¶",
        "icon": "user-plus",
        "url": "/clients/new"
      },
      {
        "action": "create_receipt",
        "label": "é–‹ç«‹æ”¶æ“š",
        "icon": "file-text",
        "url": "/receipts/new"
      },
      {
        "action": "view_reports",
        "label": "æŸ¥çœ‹æ‰€æœ‰å ±è¡¨",
        "icon": "chart-bar",
        "url": "/reports"
      },
      {
        "action": "system_settings",
        "label": "ç³»çµ±è¨­å®š",
        "icon": "settings",
        "url": "/admin/settings"
      }
    ],
    
    "notifications": [
      {
        "type": "warning",
        "message": "æœ‰3å€‹æ”¶æ“šé€¾æœŸè¶…é30å¤©",
        "count": 3,
        "action_url": "/reports/ar-aging"
      },
      {
        "type": "info",
        "message": "æœ¬æœˆè–ªè³‡å°šæœªè¨ˆç®—",
        "action_url": "/admin/payroll/calculate"
      }
    ]
  }
}
```

---

## ğŸ¨ å‰ç«¯çµ„ä»¶

### DashboardPage.vueï¼ˆä¸»é é¢ï¼‰

```vue
<template>
  <div class="dashboard-page">
    <!-- æ­¡è¿æ¨™é¡Œ -->
    <div class="dashboard-header">
      <h1>æ­¡è¿å›ä¾†ï¼Œ{{ userName }}ï¼</h1>
      <p class="date">{{ currentDate }}</p>
    </div>

    <!-- é€šçŸ¥å€åŸŸ -->
    <div v-if="notifications.length > 0" class="notifications">
      <div 
        v-for="(notif, index) in notifications" 
        :key="index"
        :class="['notification', `notification-${notif.type}`]"
      >
        <Icon :name="notif.type === 'warning' ? 'alert-triangle' : 'info'" />
        <span>{{ notif.message }}</span>
        <a v-if="notif.action_url" :href="notif.action_url" class="action-link">
          æŸ¥çœ‹ â†’
        </a>
      </div>
    </div>

    <!-- å“¡å·¥å„€è¡¨æ¿ -->
    <div v-if="!isAdmin" class="employee-dashboard">
      <!-- å·¥æ™‚çµ±è¨ˆå¡ç‰‡ -->
      <StatsCard
        title="ğŸ“Š æœ¬æœˆå·¥æ™‚çµ±è¨ˆ"
        :stats="myHours"
      >
        <div class="hours-summary">
          <div class="stat-item">
            <span class="label">ç¸½å·¥æ™‚</span>
            <span class="value">{{ myHours.total_hours }} / {{ myHours.target_hours }} å°æ™‚</span>
            <ProgressBar :value="myHours.completion_rate" />
          </div>
          <div class="stat-row">
            <div class="stat-mini">
              <span class="label">æ­£å¸¸å·¥æ™‚</span>
              <span class="value">{{ myHours.normal_hours }} å°æ™‚</span>
            </div>
            <div class="stat-mini">
              <span class="label">åŠ ç­å·¥æ™‚</span>
              <span class="value">{{ myHours.overtime_hours }} å°æ™‚</span>
            </div>
          </div>
        </div>
      </StatsCard>

      <!-- æˆ‘çš„ä»»å‹™å¡ç‰‡ -->
      <StatsCard
        :title="`ğŸ“‹ æˆ‘çš„ä»»å‹™ï¼ˆ${myTasks.total}å€‹ï¼‰`"
      >
        <div class="task-list">
          <div 
            v-for="task in myTasks.tasks" 
            :key="task.task_id"
            :class="['task-item', { 'overdue': task.is_overdue }]"
            @click="navigateTo(`/tasks/${task.task_id}`)"
          >
            <div class="task-header">
              <h4>{{ task.task_name }}</h4>
              <span v-if="task.has_sop" class="sop-badge">ğŸ“„ SOP</span>
            </div>
            <div class="task-meta">
              <span class="progress">é€²åº¦ï¼š{{ task.progress }}</span>
              <span 
                class="due-date" 
                :class="{
                  'urgent': task.urgency_level === 'urgent',
                  'overdue': task.urgency_level === 'overdue'
                }"
              >
                åˆ°æœŸï¼š{{ formatDate(task.due_date) }}
                <span v-if="task.is_overdue" class="overdue-badge">
                  âš ï¸ é€¾æœŸ{{ task.days_overdue }}å¤©
                </span>
                <span v-else-if="task.urgency_level === 'urgent'" class="urgent-badge">
                  ğŸ”¥ é‚„æœ‰{{ task.days_until_due }}å¤©
                </span>
                <span v-else class="normal-badge">
                  é‚„æœ‰{{ task.days_until_due }}å¤©
                </span>
              </span>
            </div>
          </div>
        </div>
      </StatsCard>

      <!-- æˆ‘çš„å‡æœŸå¡ç‰‡ -->
      <StatsCard title="ğŸ–ï¸ æˆ‘çš„å‡æœŸ">
        <div class="leave-balance">
          <div class="leave-item">
            <span class="label">ç‰¹ä¼‘</span>
            <span class="value">å‰©é¤˜ {{ myLeaves.annual_leave.remaining }} å¤©</span>
          </div>
          <div class="leave-item">
            <span class="label">ç—…å‡</span>
            <span class="value">å‰©é¤˜ {{ myLeaves.sick_leave.remaining }} å¤©</span>
          </div>
          <div v-if="myLeaves.compensatory_leave.hours > 0" class="leave-item highlight">
            <span class="label">è£œä¼‘</span>
            <span class="value">{{ myLeaves.compensatory_leave.hours }} å°æ™‚</span>
            <span class="expiry">{{ myLeaves.compensatory_leave.expiry_date }}åˆ°æœŸ</span>
          </div>
        </div>
        
        <div v-if="myLeaves.recent_applications.length > 0" class="recent-leaves">
          <h5>æœ€è¿‘ç”³è«‹</h5>
          <div 
            v-for="app in myLeaves.recent_applications"
            :key="app.leave_id"
            class="leave-record"
          >
            <span>{{ app.start_date }} {{ app.leave_type }} {{ app.days }}å¤©</span>
            <span :class="['status', app.status]">{{ statusText[app.status] }}</span>
          </div>
        </div>
      </StatsCard>

      <!-- å¿«é€Ÿæ“ä½œ -->
      <div class="quick-actions">
        <StyledButton 
          v-for="action in quickActions" 
          :key="action.action"
          @click="navigateTo(action.url)"
          variant="primary"
        >
          <Icon :name="action.icon" />
          {{ action.label }}
        </StyledButton>
      </div>
    </div>

    <!-- ç®¡ç†å“¡å„€è¡¨æ¿ -->
    <div v-else class="admin-dashboard">
      <!-- å…¬å¸ç¸½è¦½ -->
      <div class="overview-grid">
        <StatCard
          title="æœ¬æœˆç¸½å·¥æ™‚"
          :value="companyOverview.total_hours"
          unit="å°æ™‚"
          icon="clock"
          trend="+5%"
        />
        <StatCard
          title="å‡ºå‹¤ç‡"
          :value="companyOverview.attendance_rate"
          unit="%"
          icon="users"
          :is-good="companyOverview.attendance_rate >= 95"
        />
        <StatCard
          title="å®¢æˆ¶æœå‹™"
          :value="companyOverview.active_services"
          unit="å€‹é€²è¡Œä¸­"
          icon="briefcase"
        />
        <StatCard
          title="å“¡å·¥äººæ•¸"
          :value="companyOverview.employee_count"
          unit="äºº"
          icon="user"
        />
      </div>

      <!-- è²¡å‹™ç‹€æ³ -->
      <StatsCard title="ğŸ’° è²¡å‹™ç‹€æ³">
        <div class="financial-grid">
          <div class="financial-item">
            <span class="label">æ‡‰æ”¶å¸³æ¬¾</span>
            <span class="value amount">{{ formatCurrency(financialStatus.total_ar) }}</span>
          </div>
          <div class="financial-item">
            <span class="label">æœ¬æœˆæ”¶æ¬¾</span>
            <span class="value amount positive">{{ formatCurrency(financialStatus.collected) }}</span>
          </div>
          <div class="financial-item warning">
            <span class="label">é€¾æœŸé‡‘é¡</span>
            <span class="value amount negative">{{ formatCurrency(financialStatus.overdue) }}</span>
          </div>
          <div class="financial-item">
            <span class="label">æ”¶æ¬¾ç‡</span>
            <span class="value">{{ financialStatus.collection_rate }}%</span>
          </div>
        </div>
        
        <!-- ç‡Ÿæ”¶è¶¨å‹¢åœ– -->
        <div class="revenue-chart">
          <h5>ç‡Ÿæ”¶è¶¨å‹¢ï¼ˆè¿‘6å€‹æœˆï¼‰</h5>
          <LineChart :data="revenueChart.data" />
        </div>
      </StatsCard>

      <!-- å¾…è™•ç†äº‹é … -->
      <StatsCard :title="`âš ï¸ å¾…è™•ç†äº‹é …ï¼ˆ${pendingItems.total}é …ï¼‰`">
        <div class="pending-list">
          <div 
            v-for="item in pendingItems.items"
            :key="item.id"
            :class="['pending-item', `pending-${item.type}`]"
            @click="navigateTo(item.action_url)"
          >
            <Icon :name="getItemIcon(item.type)" />
            <div class="item-content">
              <p class="message">{{ item.message }}</p>
              <span class="date">{{ formatDate(item.date) }}</span>
            </div>
            <Icon name="chevron-right" class="arrow" />
          </div>
        </div>
      </StatsCard>

      <!-- å¿«é€Ÿæ“ä½œ -->
      <div class="quick-actions">
        <StyledButton 
          v-for="action in quickActions" 
          :key="action.action"
          @click="navigateTo(action.url)"
        >
          <Icon :name="action.icon" />
          {{ action.label }}
        </StyledButton>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue';
import { getDashboardData } from '@/api/dashboard';
import { useAuth } from '@/composables/useAuth';

const { user } = useAuth();
const dashboardData = ref(null);

const isAdmin = computed(() => user.value?.is_admin);
const userName = computed(() => user.value?.name);
const currentDate = computed(() => 
  new Date().toLocaleDateString('zh-TW', { 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric',
    weekday: 'long'
  })
);

const myHours = computed(() => dashboardData.value?.my_hours || {});
const myTasks = computed(() => dashboardData.value?.my_tasks || {});
const myLeaves = computed(() => dashboardData.value?.my_leaves || {});
const quickActions = computed(() => dashboardData.value?.quick_actions || []);
const recentActivities = computed(() => dashboardData.value?.recent_activities || []);
const notifications = computed(() => dashboardData.value?.notifications || []);

const companyOverview = computed(() => dashboardData.value?.company_overview || {});
const financialStatus = computed(() => dashboardData.value?.financial_status || {});
const pendingItems = computed(() => dashboardData.value?.pending_items || {});
const revenueChart = computed(() => dashboardData.value?.revenue_chart || {});

onMounted(async () => {
  const response = await getDashboardData();
  dashboardData.value = response.data;
});

const navigateTo = (url) => {
  window.location.href = url;
};

const formatCurrency = (amount) => {
  return new Intl.NumberFormat('zh-TW', {
    style: 'currency',
    currency: 'TWD',
    minimumFractionDigits: 0
  }).format(amount);
};
</script>

<style scoped>
.dashboard-page {
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
}

.dashboard-header {
  margin-bottom: 2rem;
}

.dashboard-header h1 {
  font-size: 2rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.dashboard-header .date {
  color: #6b7280;
  font-size: 0.875rem;
}

.notifications {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 2rem;
}

.notification {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  border-radius: 0.5rem;
  background: white;
  border-left: 4px solid;
}

.notification-warning {
  border-left-color: #f59e0b;
  background: #fffbeb;
}

.notification-info {
  border-left-color: #3b82f6;
  background: #eff6ff;
}

.employee-dashboard,
.admin-dashboard {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.5rem;
}

.task-item {
  padding: 1rem;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  cursor: pointer;
  transition: all 0.2s;
}

.task-item:hover {
  border-color: #3b82f6;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.task-item.overdue {
  border-left: 4px solid #ef4444;
}

.overdue-badge {
  color: #ef4444;
  font-weight: 600;
}

.quick-actions {
  grid-column: 1 / -1;
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.overview-grid {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}
</style>
```

---

## ğŸ”§ å¾Œç«¯å¯¦ç¾

### DashboardService

```typescript
class DashboardService {
  /**
   * ç²å–å„€è¡¨æ¿æ•¸æ“šï¼ˆä¾è§’è‰²è‡ªå‹•åˆ‡æ›ï¼‰
   */
  async getDashboardData(user: User) {
    if (user.is_admin) {
      return await this.getAdminDashboard(user);
    } else {
      return await this.getEmployeeDashboard(user);
    }
  }
  
  /**
   * å“¡å·¥å„€è¡¨æ¿æ•¸æ“š
   */
  async getEmployeeDashboard(user: User) {
    const currentMonth = new Date().toISOString().substring(0, 7); // YYYY-MM
    
    // 1. æˆ‘çš„å·¥æ™‚çµ±è¨ˆ
    const myHours = await this.getMyHoursStats(user.user_id, currentMonth);
    
    // 2. æˆ‘çš„ä»»å‹™åˆ—è¡¨
    const myTasks = await this.getMyTasks(user.user_id);
    
    // 3. æˆ‘çš„å‡æœŸé¤˜é¡
    const myLeaves = await this.getMyLeaveBalance(user.user_id);
    
    // 4. å¿«é€Ÿæ“ä½œ
    const quickActions = this.getEmployeeQuickActions();
    
    // 5. æœ€è¿‘å‹•æ…‹ï¼ˆæœ€è¿‘7å¤©çš„æ´»å‹•ï¼‰
    const recentActivities = await this.getRecentActivities(user.user_id);
    
    // 6. é€šçŸ¥ï¼ˆæœªè®€é€šçŸ¥ï¼‰
    const notifications = await this.getEmployeeNotifications(user.user_id);
    
    return {
      user_type: 'employee',
      user_name: user.name,
      my_hours: myHours,
      my_tasks: myTasks,
      my_leaves: myLeaves,
      quick_actions: quickActions,
      recent_activities: recentActivities,
      notifications
    };
  }
  
  /**
   * å“¡å·¥é€šçŸ¥ï¼ˆæœªè®€ï¼‰â­ æ–°å¢
   */
  async getEmployeeNotifications(userId: number) {
    const notifications = await this.db.prepare(`
      SELECT 
        type,
        message,
        action_url,
        created_at
      FROM Notifications
      WHERE user_id = ?
        AND is_read = 0
        AND is_deleted = 0
      ORDER BY created_at DESC
      LIMIT 10
    `).bind(userId).all();
    
    return notifications.results.map(n => ({
      type: n.type === 'missing_timesheet' ? 'warning' : 'info',
      message: n.message,
      action_url: n.action_url
    }));
  }
  
  /**
   * è²¡å‹™ç‹€æ³çµ±è¨ˆï¼ˆç®¡ç†å“¡ï¼‰â­ æ–°å¢å®Œæ•´å¯¦ä½œ
   */
  async getFinancialStatus(currentMonth: string) {
    const today = new Date().toISOString().split('T')[0];
    
    // 1. æ‡‰æ”¶å¸³æ¬¾ç¸½é¡ï¼ˆæ‰€æœ‰æœªæ”¶æ¬¾+éƒ¨åˆ†æ”¶æ¬¾çš„æ”¶æ“šï¼‰
    const arResult = await this.db.prepare(`
      SELECT 
        SUM(r.total_amount - COALESCE(p.paid_amount, 0)) as total_ar
      FROM Receipts r
      LEFT JOIN (
        SELECT receipt_id, SUM(amount) as paid_amount
        FROM Payments
        GROUP BY receipt_id
      ) p ON r.receipt_id = p.receipt_id
      WHERE r.status IN ('unpaid', 'partial')
        AND r.is_deleted = 0
    `).first();
    
    // 2. æœ¬æœˆæ”¶æ¬¾é‡‘é¡ï¼ˆæœ¬æœˆçš„æ‰€æœ‰æ”¶æ¬¾è¨˜éŒ„ï¼‰
    const collectedResult = await this.db.prepare(`
      SELECT COALESCE(SUM(amount), 0) as collected
      FROM Payments
      WHERE strftime('%Y-%m', payment_date) = ?
    `).bind(currentMonth).first();
    
    // 3. é€¾æœŸé‡‘é¡ï¼ˆæ‰€æœ‰å·²é€¾æœŸçš„æœªæ”¶æ¬¾+éƒ¨åˆ†æ”¶æ¬¾æ”¶æ“šï¼‰
    const overdueResult = await this.db.prepare(`
      SELECT 
        SUM(r.total_amount - COALESCE(p.paid_amount, 0)) as overdue
      FROM Receipts r
      LEFT JOIN (
        SELECT receipt_id, SUM(amount) as paid_amount
        FROM Payments
        GROUP BY receipt_id
      ) p ON r.receipt_id = p.receipt_id
      WHERE r.status IN ('unpaid', 'partial')
        AND r.due_date < ?
        AND r.is_deleted = 0
    `).bind(today).first();
    
    // 4. æœ¬æœˆé–‹ç«‹æ”¶æ“šç¸½é¡ï¼ˆç‡Ÿæ”¶ï¼‰
    const revenueResult = await this.db.prepare(`
      SELECT COALESCE(SUM(total_amount), 0) as revenue
      FROM Receipts
      WHERE strftime('%Y-%m', receipt_date) = ?
        AND status != 'cancelled'
        AND is_deleted = 0
    `).bind(currentMonth).first();
    
    // 5. æœ¬æœˆç¸½æˆæœ¬ï¼ˆäººåŠ›æˆæœ¬+ç®¡ç†æˆæœ¬ï¼Œç°¡åŒ–ç‰ˆï¼‰
    const costResult = await this.db.prepare(`
      SELECT COALESCE(SUM(gross_salary), 0) as cost
      FROM MonthlyPayroll
      WHERE year = ? AND month = ?
    `).bind(
      parseInt(currentMonth.substring(0, 4)), 
      parseInt(currentMonth.substring(5, 7))
    ).first();
    
    const totalAr = arResult?.total_ar || 0;
    const collected = collectedResult?.collected || 0;
    const overdue = overdueResult?.overdue || 0;
    const revenue = revenueResult?.revenue || 0;
    const cost = costResult?.cost || 0;
    const profit = revenue - cost;
    const profitMargin = revenue > 0 ? (profit / revenue) * 100 : 0;
    
    // 6. æ”¶æ¬¾ç‡ï¼ˆæœ¬æœˆï¼‰
    const collectionRate = revenue > 0 ? (collected / revenue) * 100 : 0;
    
    return {
      month: currentMonth,
      total_ar: Math.round(totalAr),           // æ‡‰æ”¶å¸³æ¬¾ï¼ˆæ‰€æœ‰æœªæ”¶ï¼Œä¸é™æœˆä»½ï¼‰
      collected: Math.round(collected),        // æœ¬æœˆæ”¶æ¬¾
      overdue: Math.round(overdue),            // é€¾æœŸé‡‘é¡ï¼ˆæ‰€æœ‰é€¾æœŸï¼Œä¸é™æœˆä»½ï¼‰
      collection_rate: Math.round(collectionRate * 10) / 10,  // æ”¶æ¬¾ç‡%
      revenue: Math.round(revenue),            // æœ¬æœˆç‡Ÿæ”¶ï¼ˆé–‹ç«‹æ”¶æ“šç¸½é¡ï¼‰
      cost: Math.round(cost),                  // æœ¬æœˆæˆæœ¬
      profit: Math.round(profit),              // æœ¬æœˆæ¯›åˆ©
      profit_margin: Math.round(profitMargin * 10) / 10  // æ¯›åˆ©ç‡%
    };
  }
  
  /**
   * ç®¡ç†å“¡å„€è¡¨æ¿æ•¸æ“š
   */
  async getAdminDashboard(user: User) {
    const currentMonth = new Date().toISOString().substring(0, 7);
    
    // 1. å…¬å¸ç¸½è¦½
    const companyOverview = await this.getCompanyOverview(currentMonth);
    
    // 2. è²¡å‹™ç‹€æ³
    const financialStatus = await this.getFinancialStatus(currentMonth);
    
    // 3. å¾…è™•ç†äº‹é …
    const pendingItems = await this.getPendingItems();
    
    // 4. ç‡Ÿæ”¶è¶¨å‹¢
    const revenueChart = await this.getRevenueChart(6); // æœ€è¿‘6å€‹æœˆ
    
    // 5. å¿«é€Ÿæ“ä½œ
    const quickActions = this.getAdminQuickActions();
    
    // 6. é€šçŸ¥
    const notifications = await this.getAdminNotifications();
    
    return {
      user_type: 'admin',
      user_name: user.name,
      company_overview: companyOverview,
      financial_status: financialStatus,
      pending_items: pendingItems,
      revenue_chart: revenueChart,
      quick_actions: quickActions,
      notifications
    };
  }
  
  /**
   * æˆ‘çš„å·¥æ™‚çµ±è¨ˆ
   */
  async getMyHoursStats(userId: number, month: string) {
    const stats = await this.db.prepare(`
      SELECT 
        SUM(hours) as total_hours,
        SUM(CASE WHEN work_type_id = 1 THEN hours ELSE 0 END) as normal_hours,
        SUM(CASE WHEN work_type_id > 1 THEN hours ELSE 0 END) as overtime_hours
      FROM TimeLogs
      WHERE user_id = ?
        AND strftime('%Y-%m', work_date) = ?
        AND is_deleted = 0
    `).bind(userId, month).first();
    
    const target_hours = 160; // æ¯æœˆç›®æ¨™å·¥æ™‚
    const completion_rate = (stats.total_hours / target_hours) * 100;
    
    return {
      month,
      total_hours: stats.total_hours || 0,
      target_hours,
      normal_hours: stats.normal_hours || 0,
      overtime_hours: stats.overtime_hours || 0,
      completion_rate: Math.round(completion_rate * 10) / 10
    };
  }
  
  /**
   * æˆ‘çš„ä»»å‹™åˆ—è¡¨
   */
  async getMyTasks(userId: number) {
    const tasks = await this.db.prepare(`
      SELECT 
        t.task_id,
        t.task_name,
        c.company_name as client_name,
        t.due_date,
        t.status,
        t.related_sop_id,
        t.client_specific_sop_id,
        (SELECT COUNT(*) FROM ActiveTaskStages WHERE task_id = t.task_id AND status = 'completed') as completed_stages,
        (SELECT COUNT(*) FROM ActiveTaskStages WHERE task_id = t.task_id) as total_stages
      FROM ActiveTasks t
      JOIN ClientServices cs ON t.client_service_id = cs.client_service_id
      JOIN Clients c ON cs.client_id = c.client_id
      WHERE t.assignee_user_id = ?
        AND t.status IN ('pending', 'in_progress')
        AND t.is_deleted = 0
      ORDER BY 
        CASE WHEN t.due_date < date('now') THEN 0 ELSE 1 END,
        t.due_date ASC
      LIMIT 10
    `).bind(userId).all();
    
    const now = new Date();
    const today = now.toISOString().split('T')[0];
    
    const taskList = tasks.results.map(task => {
      const dueDate = new Date(task.due_date);
      const isOverdue = task.due_date < today;
      
      // â­ è¨ˆç®—å‰©é¤˜/é€¾æœŸå¤©æ•¸
      const daysDiff = Math.floor((dueDate - now) / (1000 * 60 * 60 * 24));
      const daysUntilDue = daysDiff;  // æ­£æ•¸=é‚„æœ‰Xå¤©ï¼Œè² æ•¸=é€¾æœŸXå¤©
      const daysOverdue = isOverdue ? Math.abs(daysDiff) : 0;
      
      // â­ è¨ˆç®—ç·Šæ€¥ç¨‹åº¦
      let urgencyLevel = 'normal';
      if (isOverdue) {
        urgencyLevel = 'overdue';
      } else if (daysUntilDue <= 3) {
        urgencyLevel = 'urgent';  // 3å¤©å…§åˆ°æœŸ
      } else if (daysUntilDue > 7) {
        urgencyLevel = 'low';  // é‚„æœ‰å¾ˆå¤šæ™‚é–“
      }
      
      return {
        task_id: task.task_id,
        task_name: task.task_name,
        client_name: task.client_name,
        due_date: task.due_date,
        status: task.status,
        progress: `${task.completed_stages}/${task.total_stages}`,
        is_overdue: isOverdue,
        days_overdue: daysOverdue,
        days_until_due: daysUntilDue,      // â­ æ–°å¢
        urgency_level: urgencyLevel,        // â­ æ–°å¢
        has_sop: task.related_sop_id || task.client_specific_sop_id
      };
    });
    
    return {
      total: taskList.length,
      pending: taskList.filter(t => t.status === 'pending').length,
      in_progress: taskList.filter(t => t.status === 'in_progress').length,
      overdue: taskList.filter(t => t.is_overdue).length,
      urgent: taskList.filter(t => t.urgency_level === 'urgent').length,  // â­ æ–°å¢çµ±è¨ˆ
      tasks: taskList
    };
  }
  
  /**
   * æœ€è¿‘å‹•æ…‹ï¼ˆå“¡å·¥ï¼‰â­ æ–°å¢
   */
  async getRecentActivities(userId: number) {
    const activities = [];
    
    // 1. æœ€è¿‘å®Œæˆçš„ä»»å‹™ï¼ˆæœ€è¿‘7å¤©ï¼‰
    const completedTasks = await this.db.prepare(`
      SELECT 
        t.task_name,
        c.company_name,
        t.completed_date as timestamp
      FROM ActiveTasks t
      JOIN ClientServices cs ON t.client_service_id = cs.client_service_id
      JOIN Clients c ON cs.client_id = c.client_id
      WHERE t.assignee_user_id = ?
        AND t.status = 'completed'
        AND t.completed_date >= datetime('now', '-7 days')
      ORDER BY t.completed_date DESC
      LIMIT 5
    `).bind(userId).all();
    
    for (const task of completedTasks.results) {
      activities.push({
        type: 'task_completed',
        message: `å®Œæˆä»»å‹™ï¼š${task.company_name} - ${task.task_name}`,
        timestamp: task.timestamp
      });
    }
    
    // 2. æœ€è¿‘çš„è«‹å‡è¨˜éŒ„ï¼ˆæœ€è¿‘7å¤©ï¼‰
    const recentLeaves = await this.db.prepare(`
      SELECT 
        lt.type_name,
        la.start_date,
        la.days,
        la.applied_at as timestamp
      FROM LeaveApplications la
      JOIN LeaveTypes lt ON la.leave_type_id = lt.leave_type_id
      WHERE la.user_id = ?
        AND la.applied_at >= datetime('now', '-7 days')
        AND la.is_deleted = 0
      ORDER BY la.applied_at DESC
      LIMIT 5
    `).bind(userId).all();
    
    for (const leave of recentLeaves.results) {
      activities.push({
        type: 'leave_applied',
        message: `å‡æœŸç”³è«‹ï¼š${leave.start_date} ${leave.type_name} ${leave.days}å¤©`,
        timestamp: leave.timestamp
      });
    }
    
    // 3. å·¥æ™‚ç¼ºå¡«æé†’ï¼ˆå¾Notificationsè¡¨ï¼‰
    const timesheetReminders = await this.db.prepare(`
      SELECT 
        message,
        created_at as timestamp
      FROM Notifications
      WHERE user_id = ?
        AND type = 'missing_timesheet'
        AND is_deleted = 0
        AND created_at >= datetime('now', '-7 days')
      ORDER BY created_at DESC
      LIMIT 3
    `).bind(userId).all();
    
    for (const reminder of timesheetReminders.results) {
      activities.push({
        type: 'timesheet_reminder',
        message: reminder.message,
        timestamp: reminder.timestamp
      });
    }
    
    // 4. æŒ‰æ™‚é–“æ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
    activities.sort((a, b) => 
      new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()
    );
    
    // 5. æœ€å¤šè¿”å›10ç­†
    return activities.slice(0, 10);
  }
  
  /**
   * å¾…è™•ç†äº‹é …ï¼ˆç®¡ç†å“¡ï¼‰
   */
  async getPendingItems() {
    const items = [];
    
    // 1. å¾…å¯©æ ¸çš„å‡æœŸç”³è«‹
    const leaveApplications = await this.db.prepare(`
      SELECT 
        la.application_id,
        u.name as user_name,
        lt.type_name as leave_type,
        la.start_date,
        la.days,
        la.applied_at
      FROM LeaveApplications la
      JOIN Users u ON la.user_id = u.user_id
      JOIN LeaveTypes lt ON la.leave_type_id = lt.leave_type_id
      WHERE la.status = 'pending'
      ORDER BY la.applied_at DESC
      LIMIT 5
    `).all();
    
    for (const app of leaveApplications.results) {
      items.push({
        type: 'leave_application',
        message: `${app.user_name} - ${app.leave_type}ç”³è«‹ï¼ˆå¾…å¯©æ ¸ï¼‰`,
        date: app.applied_at,
        action_url: `/admin/leaves/approve/${app.application_id}`
      });
    }
    
    // 2. é€¾æœŸä»»å‹™
    const overdueTasks = await this.db.prepare(`
      SELECT 
        t.task_id,
        t.task_name,
        c.company_name,
        u.name as assignee_name,
        t.due_date
      FROM ActiveTasks t
      JOIN ClientServices cs ON t.client_service_id = cs.client_service_id
      JOIN Clients c ON cs.client_id = c.client_id
      JOIN Users u ON t.assignee_user_id = u.user_id
      WHERE t.status != 'completed'
        AND t.due_date < date('now')
        AND t.is_deleted = 0
      ORDER BY t.due_date ASC
      LIMIT 5
    `).all();
    
    for (const task of overdueTasks.results) {
      const daysOverdue = Math.floor(
        (new Date() - new Date(task.due_date)) / (1000 * 60 * 60 * 24)
      );
      items.push({
        type: 'overdue_task',
        message: `${task.company_name} - ${task.task_name}é€¾æœŸ${daysOverdue}å¤©`,
        assignee: task.assignee_name,
        action_url: `/tasks/${task.task_id}`
      });
    }
    
    // 3. é€¾æœŸæ‡‰æ”¶å¸³æ¬¾
    const overdueReceipts = await this.db.prepare(`
      SELECT 
        r.receipt_id,
        c.company_name,
        r.total_amount,
        r.due_date,
        COALESCE(SUM(p.amount), 0) as paid_amount
      FROM Receipts r
      JOIN Clients c ON r.client_id = c.client_id
      LEFT JOIN Payments p ON r.receipt_id = p.receipt_id
      WHERE r.status IN ('unpaid', 'partial')
        AND r.due_date < date('now')
        AND r.is_deleted = 0
      GROUP BY r.receipt_id
      ORDER BY r.due_date ASC
      LIMIT 5
    `).all();
    
    for (const receipt of overdueReceipts.results) {
      const remainingAmount = receipt.total_amount - receipt.paid_amount;
      const daysOverdue = Math.floor(
        (new Date() - new Date(receipt.due_date)) / (1000 * 60 * 60 * 24)
      );
      items.push({
        type: 'overdue_payment',
        message: `${receipt.company_name} - æ”¶æ“šé€¾æœŸ${daysOverdue}å¤©ï¼ˆ${remainingAmount.toLocaleString()}å…ƒï¼‰`,
        action_url: `/receipts/${receipt.receipt_id}`
      });
    }
    
    return {
      total: items.length,
      items
    };
  }
}
```

---

## âœ… æ¥­å‹™è¦å‰‡

### å„€è¡¨æ¿åˆ·æ–°è¦å‰‡

**è‡ªå‹•åˆ·æ–°ï¼š**
- é é¢è¼‰å…¥æ™‚ç²å–æœ€æ–°æ•¸æ“š
- æ¯5åˆ†é˜è‡ªå‹•åˆ·æ–°ä¸€æ¬¡ï¼ˆå¯é¸ï¼‰
- ç”¨æˆ¶åˆ‡æ›é é¢è¿”å›æ™‚åˆ·æ–°

### æ•¸æ“šå„ªå…ˆç´š

**å“¡å·¥å„€è¡¨æ¿ï¼š**
1. é€¾æœŸä»»å‹™ï¼ˆæœ€é«˜å„ªå…ˆç´šï¼Œç´…è‰²æ¨™ç¤ºï¼‰
2. å³å°‡åˆ°æœŸçš„è£œä¼‘
3. æœ¬é€±æœªå¡«å¯«çš„å·¥æ™‚
4. å¾…è¾¦ä»»å‹™

**ç®¡ç†å“¡å„€è¡¨æ¿ï¼š**
1. å¾…å¯©æ ¸çš„å‡æœŸç”³è«‹
2. é€¾æœŸä»»å‹™
3. é€¾æœŸæ‡‰æ”¶å¸³æ¬¾
4. ç³»çµ±é€šçŸ¥

### å¿«é€Ÿæ“ä½œè¨­å®š

**å“¡å·¥å¿«é€Ÿæ“ä½œï¼š**
- å¡«å¯«ä»Šæ—¥å·¥æ™‚
- ç”³è«‹å‡æœŸ
- æŸ¥çœ‹æˆ‘çš„å ±è¡¨

**ç®¡ç†å“¡å¿«é€Ÿæ“ä½œï¼š**
- æ–°å¢å®¢æˆ¶
- é–‹ç«‹æ”¶æ“š
- æŸ¥çœ‹æ‰€æœ‰å ±è¡¨
- ç³»çµ±è¨­å®š

---

## ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹

```typescript
// æ¸¬è©¦1ï¼šå“¡å·¥å„€è¡¨æ¿æ•¸æ“š
test('æ‡‰è©²è¿”å›å“¡å·¥å„€è¡¨æ¿æ•¸æ“š', async () => {
  const user = { user_id: 2, is_admin: false };
  const data = await getDashboardData(user);
  expect(data.user_type).toBe('employee');
  expect(data.my_hours).toBeDefined();
  expect(data.my_tasks).toBeDefined();
});

// æ¸¬è©¦2ï¼šç®¡ç†å“¡å„€è¡¨æ¿æ•¸æ“š
test('æ‡‰è©²è¿”å›ç®¡ç†å“¡å„€è¡¨æ¿æ•¸æ“š', async () => {
  const user = { user_id: 1, is_admin: true };
  const data = await getDashboardData(user);
  expect(data.user_type).toBe('admin');
  expect(data.company_overview).toBeDefined();
  expect(data.financial_status).toBeDefined();
});

// æ¸¬è©¦3ï¼šé€¾æœŸä»»å‹™æ¨™ç¤º
test('æ‡‰è©²æ­£ç¢ºæ¨™ç¤ºé€¾æœŸä»»å‹™', async () => {
  const user = { user_id: 2, is_admin: false };
  const data = await getDashboardData(user);
  const overdueTasks = data.my_tasks.tasks.filter(t => t.is_overdue);
  expect(overdueTasks.length).toBeGreaterThan(0);
});
```

---

## âš ï¸ æ³¨æ„äº‹é …

1. **æ€§èƒ½å„ªåŒ–**ï¼šå„€è¡¨æ¿æ•¸æ“šæ‡‰è©²å¿«é€Ÿè¼‰å…¥ï¼ˆ< 1ç§’ï¼‰
2. **æ¬Šé™æ§åˆ¶**ï¼šåš´æ ¼å€åˆ†å“¡å·¥å’Œç®¡ç†å“¡å¯è¦‹å…§å®¹
3. **å³æ™‚æ€§**ï¼šæ•¸æ“šæ‡‰è©²æ˜¯æœ€æ–°çš„ï¼ˆä½¿ç”¨å³æ™‚æŸ¥è©¢ï¼Œä¸ç”¨å¿«å–ï¼‰
4. **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šåœ¨æ‰‹æ©Ÿã€å¹³æ¿ä¸Šä¹Ÿè¦å¥½ç”¨
5. **è£œä¼‘åˆ°æœŸæé†’**ï¼šæœˆåº•å‰5å¤©é–‹å§‹æé†’

---

**ç›¸é—œæ–‡æª”ï¼š**
- [å·¥æ™‚ç®¡ç†-å®Œæ•´è¦æ ¼](./å·¥æ™‚ç®¡ç†-å®Œæ•´è¦æ ¼.md)
- [ä»»å‹™ç®¡ç†-å®Œæ•´è¦æ ¼](./ä»»å‹™ç®¡ç†-å®Œæ•´è¦æ ¼.md)
- [å‡æœŸç®¡ç†-å®Œæ•´è¦æ ¼](./å‡æœŸç®¡ç†-å®Œæ•´è¦æ ¼.md)
 - [æ”¶æ“šæ”¶æ¬¾-å®Œæ•´è¦æ ¼](./æ”¶æ“šæ”¶æ¬¾-å®Œæ•´è¦æ ¼.md)
- [å ±è¡¨åˆ†æ-å®Œæ•´è¦æ ¼](./å ±è¡¨åˆ†æ-å®Œæ•´è¦æ ¼.md)

