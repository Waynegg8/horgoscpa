# å¤–éƒ¨å…§å®¹ç®¡ç† - å®Œæ•´é–‹ç™¼è¦æ ¼

**çµ¦ AIï¼š** å¯¦ç¾å¤–éƒ¨ç¶²ç«™ CMS çš„å®Œæ•´æŠ€è¡“è¦æ ¼ï¼ˆåƒ…ç®¡ç†å“¡ï¼‰

---

## ğŸ’¾ è³‡æ–™è¡¨

### ExternalArticlesï¼ˆå¤–éƒ¨æ–‡ç« /Blogï¼‰
```sql
CREATE TABLE ExternalArticles (
  article_id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  slug TEXT UNIQUE NOT NULL,           -- URL æ¨™è­˜ç¬¦
  summary TEXT,
  content TEXT NOT NULL,               -- HTML å…§å®¹
  featured_image TEXT,                 -- å°é¢åœ– URL
  category TEXT,
  tags TEXT,                           -- JSON é™£åˆ—
  is_published BOOLEAN DEFAULT 0,
  published_at TEXT,
  view_count INTEGER DEFAULT 0,
  seo_title TEXT,
  seo_description TEXT,
  seo_keywords TEXT,
  created_by INTEGER NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),
  updated_at TEXT DEFAULT (datetime('now')),
  is_deleted BOOLEAN DEFAULT 0,
  
  FOREIGN KEY (created_by) REFERENCES Users(user_id)
);

CREATE UNIQUE INDEX idx_external_slug ON ExternalArticles(slug);
CREATE INDEX idx_external_category ON ExternalArticles(category);
CREATE INDEX idx_external_published ON ExternalArticles(is_published);
```

### ExternalFAQï¼ˆå¤–éƒ¨å¸¸è¦‹å•é¡Œï¼‰
```sql
CREATE TABLE ExternalFAQ (
  faq_id INTEGER PRIMARY KEY AUTOINCREMENT,
  question TEXT NOT NULL,
  answer TEXT NOT NULL,
  category TEXT,
  sort_order INTEGER DEFAULT 0,
  is_published BOOLEAN DEFAULT 0,
  view_count INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),
  updated_at TEXT DEFAULT (datetime('now')),
  is_deleted BOOLEAN DEFAULT 0
);

CREATE INDEX idx_faq_category ON ExternalFAQ(category);
CREATE INDEX idx_faq_published ON ExternalFAQ(is_published);
CREATE INDEX idx_faq_order ON ExternalFAQ(sort_order);
```

### ResourceCenterï¼ˆè³‡æºä¸­å¿ƒï¼‰
```sql
CREATE TABLE ResourceCenter (
  resource_id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  description TEXT,
  file_url TEXT NOT NULL,              -- R2 å„²å­˜è·¯å¾‘
  file_type TEXT,                      -- PDF, Excel, Word
  file_size INTEGER,                   -- ä½å…ƒçµ„
  category TEXT,
  is_published BOOLEAN DEFAULT 0,
  download_count INTEGER DEFAULT 0,
  created_by INTEGER NOT NULL,
  created_at TEXT DEFAULT (datetime('now')),
  updated_at TEXT DEFAULT (datetime('now')),
  is_deleted BOOLEAN DEFAULT 0,
  
  FOREIGN KEY (created_by) REFERENCES Users(user_id)
);

CREATE INDEX idx_resources_category ON ResourceCenter(category);
CREATE INDEX idx_resources_published ON ResourceCenter(is_published);
CREATE INDEX idx_resources_type ON ResourceCenter(file_type);
```

### ExternalImagesï¼ˆå¤–éƒ¨åœ–ç‰‡è³‡æºï¼‰
```sql
CREATE TABLE ExternalImages (
  image_id INTEGER PRIMARY KEY AUTOINCREMENT,
  title TEXT NOT NULL,
  image_url TEXT NOT NULL,             -- R2 å„²å­˜è·¯å¾‘
  alt_text TEXT,                       -- SEO æ›¿ä»£æ–‡å­—
  category TEXT,
  file_size INTEGER,
  width INTEGER,
  height INTEGER,
  uploaded_by INTEGER NOT NULL,
  uploaded_at TEXT DEFAULT (datetime('now')),
  is_deleted BOOLEAN DEFAULT 0,
  
  FOREIGN KEY (uploaded_by) REFERENCES Users(user_id)
);

CREATE INDEX idx_images_category ON ExternalImages(category);
```

---

## ğŸ”Œ API ç«¯é»

### Blog æ–‡ç« ç®¡ç†
```
GET    /api/v1/admin/articles              æŸ¥è©¢æ–‡ç« åˆ—è¡¨
POST   /api/v1/admin/articles              æ–°å¢æ–‡ç« 
GET    /api/v1/admin/articles/:id          æŸ¥è©¢æ–‡ç« è©³æƒ…
PUT    /api/v1/admin/articles/:id          æ›´æ–°æ–‡ç« 
DELETE /api/v1/admin/articles/:id          åˆªé™¤æ–‡ç« 
POST   /api/v1/admin/articles/:id/publish  ç™¼å¸ƒæ–‡ç« 
POST   /api/v1/admin/articles/:id/unpublish å–æ¶ˆç™¼å¸ƒ

# å…¬é–‹ APIï¼ˆè¨ªå®¢ä½¿ç”¨ï¼‰
GET    /api/v1/public/articles             æŸ¥è©¢å·²ç™¼å¸ƒæ–‡ç« 
GET    /api/v1/public/articles/:slug       æŸ¥è©¢å–®ç¯‡æ–‡ç« ï¼ˆby slugï¼‰
```

### FAQ ç®¡ç†
```
GET    /api/v1/admin/faq                   æŸ¥è©¢FAQåˆ—è¡¨
POST   /api/v1/admin/faq                   æ–°å¢FAQ
PUT    /api/v1/admin/faq/:id               æ›´æ–°FAQ
DELETE /api/v1/admin/faq/:id               åˆªé™¤FAQ
PUT    /api/v1/admin/faq/reorder           èª¿æ•´æ’åº

# å…¬é–‹ API
GET    /api/v1/public/faq                  æŸ¥è©¢å·²ç™¼å¸ƒFAQ
```

### è³‡æºä¸­å¿ƒç®¡ç†
```
GET    /api/v1/admin/resources             æŸ¥è©¢è³‡æºåˆ—è¡¨
POST   /api/v1/admin/resources/upload      ä¸Šå‚³è³‡æº
GET    /api/v1/admin/resources/:id         æŸ¥è©¢è³‡æºè©³æƒ…
PUT    /api/v1/admin/resources/:id         æ›´æ–°è³‡æºè³‡è¨Š
DELETE /api/v1/admin/resources/:id         åˆªé™¤è³‡æº

# å…¬é–‹ API
GET    /api/v1/public/resources            æŸ¥è©¢å·²ç™¼å¸ƒè³‡æº
GET    /api/v1/public/resources/:id/download ä¸‹è¼‰è³‡æºï¼ˆè¨˜éŒ„æ¬¡æ•¸ï¼‰
```

### åœ–ç‰‡è³‡æºç®¡ç†
```
GET    /api/v1/admin/images                æŸ¥è©¢åœ–ç‰‡åˆ—è¡¨
POST   /api/v1/admin/images/upload         ä¸Šå‚³åœ–ç‰‡
DELETE /api/v1/admin/images/:id            åˆªé™¤åœ–ç‰‡
GET    /api/v1/admin/images/categories     æŸ¥è©¢åˆ†é¡

# å…¬é–‹ API
GET    /api/v1/public/images/:id           ç²å–åœ–ç‰‡URL
```

---

## ğŸ¨ å‰ç«¯çµ„ä»¶

### ArticleManagementPage.vue
```vue
<template>
  <div class="article-management">
    <h1>Blog æ–‡ç« ç®¡ç†</h1>
    
    <div class="toolbar">
      <StyledButton @click="showCreateModal = true">
        + æ–°å¢æ–‡ç« 
      </StyledButton>
      <select v-model="filter.status">
        <option value="">å…¨éƒ¨</option>
        <option value="published">å·²ç™¼å¸ƒ</option>
        <option value="draft">è‰ç¨¿</option>
      </select>
    </div>

    <DataTable
      :columns="columns"
      :data="articles"
    >
      <template #actions="{ row }">
        <button @click="editArticle(row)">ç·¨è¼¯</button>
        <button 
          v-if="!row.is_published"
          @click="publishArticle(row.article_id)"
        >
          ç™¼å¸ƒ
        </button>
        <button 
          v-else
          @click="unpublishArticle(row.article_id)"
        >
          å–æ¶ˆç™¼å¸ƒ
        </button>
        <button @click="deleteArticle(row.article_id)">åˆªé™¤</button>
      </template>
    </DataTable>

    <!-- æ–‡ç« ç·¨è¼¯å™¨ Modal -->
    <Modal :show="showEditor" title="ç·¨è¼¯æ–‡ç« " size="xl">
      <ArticleEditor
        v-model="currentArticle"
        @save="handleSave"
        @cancel="showEditor = false"
      />
    </Modal>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { getArticles, publishArticle as apiPublish } from '@/api/external';
import ArticleEditor from '@/components/external/ArticleEditor.vue';

const articles = ref([]);
const showEditor = ref(false);
const currentArticle = ref(null);

onMounted(async () => {
  const response = await getArticles();
  articles.value = response.data;
});
</script>
```

### ArticleEditor.vueï¼ˆå¯Œæ–‡æœ¬ç·¨è¼¯å™¨ï¼‰
```vue
<template>
  <div class="article-editor">
    <!-- åŸºæœ¬è³‡è¨Š -->
    <StyledInput
      v-model="article.title"
      label="æ–‡ç« æ¨™é¡Œ"
      :required="true"
    />
    
    <StyledInput
      v-model="article.slug"
      label="URL Slug"
      placeholder="company-setup-guide"
      :required="true"
    />
    
    <textarea
      v-model="article.summary"
      placeholder="æ–‡ç« æ‘˜è¦ï¼ˆé¡¯ç¤ºåœ¨åˆ—è¡¨é ï¼‰"
    />
    
    <!-- å¯Œæ–‡æœ¬ç·¨è¼¯å™¨ -->
    <div class="wysiwyg-editor">
      <div class="editor-toolbar">
        <button @click="format('bold')">B</button>
        <button @click="format('italic')">I</button>
        <button @click="format('heading')">H</button>
        <button @click="insertImage">åœ–ç‰‡</button>
        <button @click="insertLink">é€£çµ</button>
      </div>
      <div
        ref="editorContent"
        contenteditable="true"
        class="editor-content"
        @input="updateContent"
      >
        {{ article.content }}
      </div>
    </div>
    
    <!-- ç‰¹è‰²åœ–ç‰‡ -->
    <div class="featured-image">
      <label>å°é¢åœ–</label>
      <input
        type="file"
        accept="image/*"
        @change="uploadFeaturedImage"
      />
      <img
        v-if="article.featured_image"
        :src="article.featured_image"
        alt="å°é¢åœ–é è¦½"
      />
    </div>
    
    <!-- åˆ†é¡å’Œæ¨™ç±¤ -->
    <select v-model="article.category">
      <option value="å…¬å¸è¨­ç«‹">å…¬å¸è¨­ç«‹</option>
      <option value="ç¨…å‹™è³‡è¨Š">ç¨…å‹™è³‡è¨Š</option>
      <option value="æœƒè¨ˆçŸ¥è­˜">æœƒè¨ˆçŸ¥è­˜</option>
      <option value="æ³•è¦æ›´æ–°">æ³•è¦æ›´æ–°</option>
    </select>
    
    <!-- SEO è¨­å®š -->
    <div class="seo-section">
      <h3>SEO è¨­å®š</h3>
      <StyledInput
        v-model="article.seo_title"
        label="SEO æ¨™é¡Œ"
        placeholder="å…¬å¸è¨­ç«‹å®Œæ•´æŒ‡å— | XXæœƒè¨ˆå¸«äº‹å‹™æ‰€"
      />
      <textarea
        v-model="article.seo_description"
        placeholder="SEO æè¿°ï¼ˆé¡¯ç¤ºåœ¨æœå°‹çµæœï¼‰"
        maxlength="160"
      />
      <StyledInput
        v-model="article.seo_keywords"
        label="SEO é—œéµå­—"
        placeholder="å…¬å¸è¨­ç«‹, æœƒè¨ˆå¸«, å°ä¸­"
      />
    </div>
    
    <!-- æŒ‰éˆ• -->
    <div class="actions">
      <StyledButton variant="ghost" @click="$emit('cancel')">
        å–æ¶ˆ
      </StyledButton>
      <StyledButton @click="saveDraft">
        å„²å­˜è‰ç¨¿
      </StyledButton>
      <StyledButton variant="primary" @click="saveAndPublish">
        ç™¼å¸ƒ
      </StyledButton>
    </div>
  </div>
</template>
```

### ResourceUploadPage.vue
```vue
<template>
  <div class="resource-upload">
    <h1>è³‡æºä¸­å¿ƒç®¡ç†</h1>
    
    <div class="upload-area">
      <input
        type="file"
        ref="fileInput"
        @change="handleFileSelect"
        accept=".pdf,.xlsx,.xls,.docx,.doc,.zip"
      />
      <p>æ”¯æŒï¼šPDFã€Excelã€Wordã€ZIP</p>
      <p>æœ€å¤§ 10MB</p>
    </div>
    
    <div v-if="selectedFile" class="file-info">
      <p>æª”æ¡ˆåç¨±ï¼š{{ selectedFile.name }}</p>
      <p>æª”æ¡ˆå¤§å°ï¼š{{ formatFileSize(selectedFile.size) }}</p>
      
      <StyledInput
        v-model="resourceData.title"
        label="è³‡æºæ¨™é¡Œ"
        :required="true"
      />
      
      <textarea
        v-model="resourceData.description"
        placeholder="è³‡æºæè¿°"
      />
      
      <select v-model="resourceData.category">
        <option value="è¡¨æ ¼ç¯„æœ¬">è¡¨æ ¼ç¯„æœ¬</option>
        <option value="æ“ä½œæ‰‹å†Š">æ“ä½œæ‰‹å†Š</option>
        <option value="æ³•è¦æ–‡ä»¶">æ³•è¦æ–‡ä»¶</option>
        <option value="å…¶ä»–">å…¶ä»–</option>
      </select>
      
      <StyledButton
        @click="uploadResource"
        :loading="isUploading"
      >
        ä¸Šå‚³ä¸¦ç™¼å¸ƒ
      </StyledButton>
    </div>
    
    <!-- å·²ä¸Šå‚³è³‡æºåˆ—è¡¨ -->
    <DataTable
      :columns="resourceColumns"
      :data="resources"
    >
      <template #actions="{ row }">
        <a :href="row.file_url" target="_blank">ä¸‹è¼‰</a>
        <button @click="editResource(row)">ç·¨è¼¯</button>
        <button @click="deleteResource(row.resource_id)">åˆªé™¤</button>
        <span class="download-count">{{ row.download_count }} æ¬¡ä¸‹è¼‰</span>
      </template>
    </DataTable>
  </div>
</template>
```

---

## ğŸ”§ å¾Œç«¯å¯¦ç¾

### ExternalContentService
```typescript
class ExternalContentService {
  async createArticle(data, userId) {
    // 1. é©—è­‰
    if (!data.title || !data.slug) {
      throw new ValidationError('æ¨™é¡Œå’Œ Slug ç‚ºå¿…å¡«');
    }
    
    // 2. æª¢æŸ¥ Slug å”¯ä¸€æ€§
    const existing = await this.repository.findBySlug(data.slug);
    if (existing) {
      throw new ConflictError('URL Slug å·²å­˜åœ¨');
    }
    
    // 3. å‰µå»ºæ–‡ç« 
    return await this.repository.create({
      ...data,
      created_by: userId,
      is_published: false,
      view_count: 0
    });
  }
  
  async publishArticle(articleId, userId) {
    const article = await this.repository.findById(articleId);
    
    if (!article) {
      throw new NotFoundError('æ–‡ç« ä¸å­˜åœ¨');
    }
    
    return await this.repository.update(articleId, {
      is_published: true,
      published_at: new Date()
    });
  }
  
  async uploadResource(file, metadata, userId) {
    // 1. é©—è­‰æ–‡ä»¶å¤§å°ï¼ˆæœ€å¤§ 10MBï¼‰
    if (file.size > 10 * 1024 * 1024) {
      throw new ValidationError('æ–‡ä»¶å¤§å°ä¸å¯è¶…é 10MB');
    }
    
    // 2. ä¸Šå‚³åˆ° R2
    const fileName = `resources/${Date.now()}-${file.name}`;
    await env.R2_BUCKET.put(fileName, file.stream());
    
    // 3. å‰µå»ºè¨˜éŒ„
    return await this.resourceRepo.create({
      title: metadata.title,
      description: metadata.description,
      file_url: fileName,
      file_type: file.type,
      file_size: file.size,
      category: metadata.category,
      is_published: true,
      created_by: userId
    });
  }
  
  async downloadResource(resourceId) {
    // 1. æŸ¥è©¢è³‡æº
    const resource = await this.resourceRepo.findById(resourceId);
    
    if (!resource || !resource.is_published) {
      throw new NotFoundError('è³‡æºä¸å­˜åœ¨');
    }
    
    // 2. å¢åŠ ä¸‹è¼‰æ¬¡æ•¸
    await this.resourceRepo.incrementDownloadCount(resourceId);
    
    // 3. å¾ R2 ç²å–æ–‡ä»¶
    const file = await env.R2_BUCKET.get(resource.file_url);
    
    return {
      file: file.body,
      fileName: resource.title,
      fileType: resource.file_type
    };
  }
  
  async uploadImage(file, metadata, userId) {
    // 1. é©—è­‰åœ–ç‰‡æ ¼å¼
    if (!file.type.startsWith('image/')) {
      throw new ValidationError('åªèƒ½ä¸Šå‚³åœ–ç‰‡æ–‡ä»¶');
    }
    
    // 2. é©—è­‰å¤§å°ï¼ˆæœ€å¤§ 5MBï¼‰
    if (file.size > 5 * 1024 * 1024) {
      throw new ValidationError('åœ–ç‰‡å¤§å°ä¸å¯è¶…é 5MB');
    }
    
    // 3. ä¸Šå‚³åˆ° R2
    const fileName = `images/${Date.now()}-${file.name}`;
    await env.R2_BUCKET.put(fileName, file.stream());
    
    // 4. ç²å–åœ–ç‰‡å°ºå¯¸
    const dimensions = await getImageDimensions(file);
    
    // 5. å‰µå»ºè¨˜éŒ„
    return await this.imageRepo.create({
      title: metadata.title,
      image_url: fileName,
      alt_text: metadata.alt_text,
      category: metadata.category,
      file_size: file.size,
      width: dimensions.width,
      height: dimensions.height,
      uploaded_by: userId
    });
  }
}
```

---

## ğŸŒ å…¬é–‹ç¶²ç«™æ•´åˆ

### Blog æ–‡ç« é¡¯ç¤º
```javascript
// å…¬é–‹ç¶²ç«™é é¢ï¼šyourfirm.com/blog/company-setup-guide

// æŸ¥è©¢æ–‡ç« 
GET /api/v1/public/articles/company-setup-guide

// æ¸²æŸ“é é¢
<html>
  <head>
    <title>{{ article.seo_title }}</title>
    <meta name="description" content="{{ article.seo_description }}">
    <meta name="keywords" content="{{ article.seo_keywords }}">
  </head>
  <body>
    <article>
      <h1>{{ article.title }}</h1>
      <img src="{{ article.featured_image }}" alt="å°é¢åœ–">
      <div class="content">
        {{{ article.content }}}  <!-- HTML å…§å®¹ -->
      </div>
    </article>
  </body>
</html>

// å¢åŠ ç€è¦½æ¬¡æ•¸
UPDATE ExternalArticles 
SET view_count = view_count + 1 
WHERE slug = 'company-setup-guide'
```

### è³‡æºä¸‹è¼‰æµç¨‹
```javascript
// è¨ªå®¢é»æ“Šä¸‹è¼‰ï¼šyourfirm.com/resources/checklist.pdf

// 1. æŸ¥è©¢è³‡æº
GET /api/v1/public/resources/123/download

// 2. å¢åŠ ä¸‹è¼‰æ¬¡æ•¸
UPDATE ResourceCenter 
SET download_count = download_count + 1 
WHERE resource_id = 123

// 3. å¾ R2 ç²å–æ–‡ä»¶
const file = await env.R2_BUCKET.get(resource.file_url);

// 4. è¿”å›æ–‡ä»¶æµ
return new Response(file.body, {
  headers: {
    'Content-Type': resource.file_type,
    'Content-Disposition': `attachment; filename="${resource.title}"`
  }
});
```

### FAQ é¡¯ç¤º
```javascript
// å…¬é–‹ç¶²ç«™é é¢ï¼šyourfirm.com/faq

// æŸ¥è©¢æ‰€æœ‰å·²ç™¼å¸ƒçš„ FAQ
GET /api/v1/public/faq

// æŒ‰åˆ†é¡åˆ†çµ„é¡¯ç¤º
<div class="faq-section">
  <h2>ç¨…å‹™ç›¸é—œ</h2>
  <div v-for="faq in taxFAQs">
    <h3>{{ faq.question }}</h3>
    <p>{{ faq.answer }}</p>
  </div>
</div>
```

---

## ğŸ“ R2 æª”æ¡ˆå„²å­˜

### ç›®éŒ„çµæ§‹
```
R2 Bucket: external-content/
â”œâ”€â”€ articles/
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ 2025-10-28-hero.jpg
â”‚   â”‚   â””â”€â”€ 2025-10-28-diagram.png
â”‚   â””â”€â”€ featured/
â”‚       â””â”€â”€ 2025-10-28-cover.jpg
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ 2025-10-28-checklist.pdf
â”‚   â”œâ”€â”€ 2025-10-28-template.xlsx
â”‚   â””â”€â”€ 2025-10-28-guide.docx
â””â”€â”€ images/
    â”œâ”€â”€ 2025-10-28-logo.png
    â””â”€â”€ 2025-10-28-banner.jpg
```

### ä¸Šå‚³é‚è¼¯
```typescript
async function uploadToR2(file, path, env) {
  const fileName = `${path}/${Date.now()}-${file.name}`;
  
  await env.R2_BUCKET.put(fileName, file.stream(), {
    httpMetadata: {
      contentType: file.type
    }
  });
  
  // è¿”å›å…¬é–‹ URL
  return `https://cdn.yourfirm.com/${fileName}`;
}
```

---

## âœ… æ¥­å‹™è¦å‰‡

### æ–‡ç« ç™¼å¸ƒè¦å‰‡
- è‰ç¨¿ç‹€æ…‹ï¼šä¸é¡¯ç¤ºåœ¨å…¬é–‹ç¶²ç«™
- ç™¼å¸ƒç‹€æ…‹ï¼šç«‹å³é¡¯ç¤ºåœ¨å…¬é–‹ç¶²ç«™
- å–æ¶ˆç™¼å¸ƒï¼šå¾å…¬é–‹ç¶²ç«™éš±è—ï¼ˆä½†ä¸åˆªé™¤ï¼‰

### URL Slug è¦å‰‡
- åªèƒ½åŒ…å«å°å¯«å­—æ¯ã€æ•¸å­—ã€é€£å­—è™Ÿ
- å¿…é ˆå”¯ä¸€
- ç¯„ä¾‹ï¼š`company-setup-guide`, `tax-filing-tips`

### æª”æ¡ˆå¤§å°é™åˆ¶
- åœ–ç‰‡ï¼šæœ€å¤§ 5MB
- è³‡æºæ–‡ä»¶ï¼šæœ€å¤§ 10MB
- è¶…éé™åˆ¶æœƒæ‹’çµ•ä¸Šå‚³

### SEO å„ªåŒ–
- SEO æ¨™é¡Œï¼šå»ºè­° 50-60 å­—å…ƒ
- SEO æè¿°ï¼šå»ºè­° 150-160 å­—å…ƒ
- SEO é—œéµå­—ï¼š5-10 å€‹é—œéµå­—

---

## ğŸ§ª æ¸¬è©¦æ¡ˆä¾‹

```typescript
// æ¸¬è©¦1ï¼šç™¼å¸ƒæ–‡ç« 
test('æ‡‰è©²æˆåŠŸç™¼å¸ƒæ–‡ç« ', async () => {
  const article = await createArticle({
    title: 'æ¸¬è©¦æ–‡ç« ',
    slug: 'test-article',
    content: 'å…§å®¹'
  });
  
  await publishArticle(article.article_id);
  
  const published = await getArticle(article.article_id);
  expect(published.is_published).toBe(true);
});

// æ¸¬è©¦2ï¼šSlug å”¯ä¸€æ€§
test('æ‡‰è©²æ‹’çµ•é‡è¤‡çš„ Slug', async () => {
  await createArticle({ slug: 'test' });
  
  await expect(createArticle({ slug: 'test' }))
    .rejects.toThrow('URL Slug å·²å­˜åœ¨');
});

// æ¸¬è©¦3ï¼šæª”æ¡ˆå¤§å°é™åˆ¶
test('æ‡‰è©²æ‹’çµ•éå¤§çš„æ–‡ä»¶', async () => {
  const largeFile = createMockFile(11 * 1024 * 1024); // 11MB
  
  await expect(uploadResource(largeFile))
    .rejects.toThrow('æ–‡ä»¶å¤§å°ä¸å¯è¶…é 10MB');
});

// æ¸¬è©¦4ï¼šä¸‹è¼‰æ¬¡æ•¸çµ±è¨ˆ
test('æ‡‰è©²è¨˜éŒ„ä¸‹è¼‰æ¬¡æ•¸', async () => {
  const resource = await createResource({...});
  
  await downloadResource(resource.resource_id);
  await downloadResource(resource.resource_id);
  
  const updated = await getResource(resource.resource_id);
  expect(updated.download_count).toBe(2);
});
```

---

## ğŸ“ å…§å®¹åˆ†é¡å»ºè­°

### Blog æ–‡ç« åˆ†é¡
- å…¬å¸è¨­ç«‹
- ç¨…å‹™è³‡è¨Š
- æœƒè¨ˆçŸ¥è­˜
- æ³•è¦æ›´æ–°
- ç”¢æ¥­å‹•æ…‹

### FAQ åˆ†é¡
- ç¨…å‹™å•é¡Œ
- å…¬å¸ç™»è¨˜
- è¨˜å¸³æœå‹™
- ä¸€èˆ¬è«®è©¢

### è³‡æºåˆ†é¡
- è¡¨æ ¼ç¯„æœ¬
- æ“ä½œæ‰‹å†Š
- æ³•è¦æ–‡ä»¶
- åƒè€ƒè³‡æ–™

---

**é€™å€‹æ–‡æª”åŒ…å«å¤–éƒ¨å…§å®¹ç®¡ç†ï¼ˆCMSï¼‰çš„æ‰€æœ‰æŠ€è¡“ç´°ç¯€ã€‚**

