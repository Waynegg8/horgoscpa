# 假期管理｜前端規格（UI/UX）

> 僅包含 UI、UX、畫面顯示邏輯與前端驗證；完全省略後端與資料庫細節。

---

## 1. 目標與範圍
- 提供員工申請假期、查看個人餘額與登記生活事件的操作介面
- 提供管理員查看全體假期申請與統計的介面
- 提供國定假日維護介面（小型事務所彈性：員工亦可維護）
- 假別顯示依性別自動過濾（女性：生理假/產假/產檢假；男性：陪產檢及陪產假）

---

## 2. 角色與可見性（前端）
- 員工
  - 可見入口：我的假期（餘額/申請紀錄）、申請假期、登記生活事件、國定假日設定
  - 不可見：全員申請清單與統計（除非另開權限）
- 管理員
  - 可見入口：全員假期清單（含狀態篩選）、假期統計、國定假日設定

> 權限不足時：隱藏按鈕與入口；如直接進入路由，顯示紅色訊息條『您沒有權限執行此操作』。

---

## 3. 主要畫面與元件

### 3.1 我的假期（員工）
- 區塊
  - 餘額總覽卡（依假別顯示）：特休、病假、事假、婚假、喪假、公假、家庭照顧假、補休、性別限定假
  - 快捷操作：『申請假期』『登記生活事件』
  - 我的申請列表（倒序）：假別、起迄日、天數/小時、狀態徽章（待審/已核准/已駁回）、提交日期
- 互動
  - 狀態篩選：全部｜待審｜已核准｜已駁回
  - 搜尋（假別/原因關鍵字）
  - 分頁（每頁 20 筆）

### 3.2 申請假期（對話框或頁面）
- 表單欄位
  - 假別（下拉；依性別過濾顯示）
  - 起始日期（必填）
  - 結束日期（必填；可同日）
  - 天數/小時（自動計算顯示；可切換請『整天/半天/小時』視產品策略）
  - 原因（選填，最多 200 字）
- 顯示資訊
  - 當前假別年度額度與剩餘（例如：30 天剩 27 天）
  - 提示：『病假前 30 天折半給薪』『生理假第 4 日起併入病假』等（僅文案提示）
- 提交流程
  - 送出後狀態為『待審』；顯示成功提示『已送出審核』

### 3.3 登記生活事件（對話框）
- 表單欄位
  - 事件類型（必選：結婚/生育/親屬喪葬等）
  - 事件日期（必填）
  - 說明（選填，最多 200 字）
- 成功提示：『已登記生活事件，對應假期額度已建立（可於有效期內分次使用）』

### 3.4 全員假期清單（管理員）
- 篩選條件
  - 員工、假別、狀態（待審/已核准/已駁回）、日期區間
- 列表欄位
  - 員工姓名、假別、起迄、天數/小時、提交時間、狀態、操作（核准/駁回）
- 操作
  - 單筆核准：彈出確認對話框（可填『核准備註』）
  - 單筆駁回：彈出對話框（必填『駁回原因』 ≤ 200 字）

### 3.5 國定假日設定
- 列表欄位：日期、名稱、來源（系統/手動）、操作（新增/刪除）
- 新增對話框：日期（必填）、名稱（必填，最多 50 字）
- 刪除：二次確認

---

## 4. 驗證與錯誤訊息（前端）
- 申請假期
  - 假別必選：『請選擇假別』
  - 起訖日期：『結束日期不可早於開始日期』
  - 原因字數：『請勿超過 200 字』
  - 性別限制：若被動態路由觸發不符合者，顯示『此假別僅限特定性別申請』
- 生活事件
  - 事件類型必選：『請選擇事件類型』
  - 事件日期必填：『請選擇事件日期』
  - 說明字數：『請勿超過 200 字』
- 國定假日
  - 名稱必填、≤ 50 字；日期必填且有效
- 通用
  - 權限不足：『您沒有權限執行此操作』
  - 未知錯誤：『操作失敗，請稍後再試』；若有後端 message，以後端為準

---

## 5. 狀態與樣式
- 狀態徽章
  - 待審：黃色｜已核准：綠色｜已駁回：紅色
- 餘額卡：以不同色塊區分假別；數值醒目顯示『剩餘/年度額度』
- 錯誤提示：表單欄位下方顯示；整體錯誤以訊息條置頂

---

## 6. 無障礙與可用性
- 表單主要動作可透過鍵盤（Enter 送出、Esc 關閉）
- 開啟對話框後自動聚焦第一欄位
- 表單驗證失敗時聚焦第一個錯誤欄位

---

## 7. 業務需求對應（覆蓋檢核）
- 角色與權限：員工僅見自己的申請與餘額；管理員可見全員與統計
- 性別過濾：女性（生理/產/產檢）、男性（陪產檢及陪產）
- 特休/病假/事假/婚假/喪假/公假/家庭照顧假/補休等皆列於餘額與申請
- 生活事件：提供登記入口並提示可分次使用與有效期（顯示文案）
- 國定假日設定：提供新增/刪除入口（員工亦可維護的介面）
