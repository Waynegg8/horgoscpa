# 儀表板｜前端規格（UI/UX）

> 僅包含 UI、UX、畫面顯示邏輯與前端驗證；完全省略後端與資料庫細節。

---

## 1. 目標與範圍
- 作為登入後首頁，提供員工與管理員的即時總覽
- 依角色顯示不同小部件（Widgets）：員工（我的工時、任務、假期、快速操作、最近動態）、管理員（公司總覽、財務狀況、待處理事項、營收趨勢、快速操作、通知）

---

## 2. 角色與顯示
- 員工儀表板
  - 我的工時（本月）：總工時、正常/加班工時、達成率、周趨勢
  - 我的任務：待辦/進行中、到期排序、進度（x/y）、逾期紅色標示、3天內到期顯示「急」
  - 我的假期：特休/病假剩餘、補休（顯示到期日）、最近申請列表
  - 快速操作：填寫工時、申請假期、查看我的報表
  - 最近動態：任務完成、請假申請、工時提醒等
- 管理員儀表板
  - 公司總覽：本月總工時、出勤率、進行中服務、員工數
  - 財務狀況：應收、收款、逾期、收款率、營收、成本、毛利、毛利率
  - 待處理事項：假期待審、逾期任務、逾期應收
  - 營收趨勢：近6個月 收入/成本/毛利 折線圖
  - 快速操作：新增客戶、開立收據、查看報表、系統設定
  - 通知：警告/資訊訊息條（可含導引連結）

---

## 3. 版面與元件
- 頁頭：歡迎語（使用者姓名）、今日日期（本地化格式）
- 通知區：列表顯示未讀通知（warning/info 樣式），右側「查看」連結
- 小部件排列：
  - 自適應網格（≥1200px 三欄，≥768px 兩欄，<768px 單欄）
  - 每個小部件為卡片（StatsCard/StatCard/List/Chart）
- 任務卡片
  - 列表項包含：名稱、客戶、進度、到期日徽章、SOP 標記
  - 狀態徽章：overdue（紅）、urgent（橘）、normal（灰）
  - 點擊列導向任務詳情
- 假期卡片
  - 顯示餘額數字；補休若 >0 以強調樣式並顯示到期日
  - 最近申請表列：日期、假別、天數、狀態徽章（approved/pending/rejected）
- 財務卡片
  - 金額以本地化千分位顯示；正向（綠）、負向（紅）
  - 趨勢圖支援懸浮提示（月份、營收/成本/毛利）

---

## 4. 交互與刷新規則
- 初次載入：顯示 Skeleton/Spinner，完成後淡入
- 自動刷新：每 5 分鐘（可設定）；頁面重新取得焦點時觸發一次
- 查詢失敗：顯示訊息條『載入失敗，請稍後再試』；保留上次成功數據
- 點擊導流：
  - 任務列 → `/tasks/{id}`
  - 待處理收據 → `/receipts/{id}`
  - 假期審核 → `/admin/leaves/approve/{id}`
  - 快速操作 → 對應路由

---

## 5. 前端驗證與提示
- 資料空狀態：
  - 我的任務：『目前沒有待辦任務』
  - 最近動態：『最近 7 天沒有活動』
  - 待處理事項：『沒有待處理項目』
- 權限不足：『您沒有權限檢視此內容』
- 數據顯示規範：
  - 時數保留一位小數；百分比保留一位小數並附 %
  - 金額採 TWD 本地化；負值以負號與紅色顯示

---

## 6. 儀表板設定（可選）
- 用戶可切換小部件可見性與排序（拖放）
- 設定儲存成功提示：『儀表板設定已更新』
- 預設還原：『已還原預設佈局』

---

## 7. 無障礙與可用性
- 鍵盤可操作：Tab 巡覽、Enter 點擊、Esc 關閉對話框/提示
- 圖表提供資料表切換（表格可複製）
- 狀態色彩同時提供文字標籤（避免僅依賴顏色）

---

## 8. 業務需求對應（覆蓋檢核）
- 員工：我的工時/任務/假期/快操作/動態完整呈現，逾期與即將到期任務有醒目標示
- 管理員：公司總覽、財務狀況、待處理、營收趨勢、快操作、通知皆有
- 首頁刷新：首次載入、5 分鐘自動刷新、回到頁面時刷新
- 權限：員工與管理員顯示差異化，無權限內容不顯示
