<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="page-title">æ–‡ç« è¼‰å…¥ä¸­... | éœçˆ¾æœæ–¯æœƒè¨ˆå¸«äº‹å‹™æ‰€</title>
  <meta name="description" id="page-description" content="å°ˆæ¥­æœƒè¨ˆã€ç¨…å‹™ã€å¯©è¨ˆåŠå•†å‹™è«®è©¢æœå‹™">
  
  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Material Symbols åœ–ç¤ºåº« -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  
  <!-- å¼•ç”¨å…¨ç«™å…±ç”¨æ¨£å¼ -->
  <link rel="stylesheet" href="/assets/css/common.css" />
  <link rel="stylesheet" href="/assets/css/navbar.css" />
  <link rel="stylesheet" href="/assets/css/footer.css" />
  <link rel="stylesheet" href="/assets/css/blog-article-modern.css" />
  
  <!-- ç§»å‹•ç‰ˆå°èˆªæ¬„æ¨£å¼ -->
  <link rel="stylesheet" href="/assets/css/mobile-navbar.css" />
</head>
<body>
  <!-- å°èˆªæ¬„ -->
  <nav class="site-nav">
    <div class="nav-container">
      <div class="logo">
        <a href="/index.html">
          <div class="logo-container">
            <img src="/assets/images/logo-white.png" alt="éœçˆ¾æœæ–¯æœƒè¨ˆå¸«äº‹å‹™æ‰€" class="logo-img">
            <div class="logo-sub">HorgosCPA</div>
          </div>
        </a>
      </div>
      <input type="checkbox" id="nav-toggle" class="nav-toggle">
      <label for="nav-toggle" class="nav-toggle-label">
        <span></span>
      </label>
      <ul class="nav-menu">
        <li><a href="/services.html">å°ˆæ¥­æœå‹™</a></li>
        <li><a href="/team.html">å°ˆæ¥­åœ˜éšŠ</a></li>
        <li><a href="/blog.html" class="active">å°ˆæ¬„æ–‡ç« </a></li>
        <li><a href="/faq.html">å¸¸è¦‹å•é¡Œ</a></li>
        <li><a href="/resources.html">è³‡æºä¸­å¿ƒ</a></li>
        <li><a href="/contact.html">è¯ç¹«æˆ‘å€‘</a></li>
        <li><a href="/booking.html" class="nav-consult-btn">å…è²»è«®è©¢</a></li>
      </ul>
    </div>
  </nav>

  <!-- ç§»å‹•ç‰ˆå°èˆªæ¬„ -->
  <div class="mobile-navbar" style="display: none;">
    <div class="mobile-nav-container">
      <div class="mobile-menu-btn" id="mobileMenuBtn">
        <span class="material-symbols-rounded">menu</span>
      </div>
      <div class="logo">
        <a href="/index.html">
          <div class="logo-container">
            <img src="/assets/images/logo-white.png" alt="éœçˆ¾æœæ–¯æœƒè¨ˆå¸«äº‹å‹™æ‰€" class="logo-img">
            <div class="logo-sub">HorgosCPA</div>
          </div>
        </a>
      </div>
      <div class="mobile-nav-spacer"></div>
    </div>
    
    <div class="mobile-menu" id="mobileMenu">
      <ul class="mobile-menu-links">
        <li><a href="/services.html" class="mobile-nav-link">å°ˆæ¥­æœå‹™</a></li>
        <li><a href="/team.html" class="mobile-nav-link">å°ˆæ¥­åœ˜éšŠ</a></li>
        <li><a href="/blog.html" class="mobile-nav-link">å°ˆæ¬„æ–‡ç« </a></li>
        <li><a href="/faq.html" class="mobile-nav-link">å¸¸è¦‹å•é¡Œ</a></li>
        <li><a href="/resources.html" class="mobile-nav-link">è³‡æºä¸­å¿ƒ</a></li>
        <li><a href="/contact.html" class="mobile-nav-link">è¯ç¹«æˆ‘å€‘</a></li>
        <li><a href="/booking.html" class="mobile-consult-btn">å…è²»è«®è©¢</a></li>
      </ul>
    </div>
  </div>
  
  <!-- åŠ è½½æç¤º -->
  <div id="loading" style="text-align: center; padding: 100px 20px;">
    <div style="font-size: 24px; color: #6b7280; margin-bottom: 16px;">è¼‰å…¥ä¸­...</div>
    <div style="width: 40px; height: 40px; border: 4px solid #f3f4f6; border-top: 4px solid #2c5f7c; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto;"></div>
  </div>
  
  <style>
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
  
  <!-- æ–‡ç« å†…å®¹ -->
  <article id="article-content" style="display: none; max-width: 900px; margin: 40px auto; padding: 0 24px;"></article>
  
  <!-- é”™è¯¯æç¤º -->
  <div id="error" style="display: none; text-align: center; padding: 100px 20px;">
    <div style="font-size: 48px; margin-bottom: 16px;">ğŸ˜”</div>
    <h2 style="color: #1f2937; margin-bottom: 8px;">æ–‡ç« ä¸å­˜åœ¨</h2>
    <p style="color: #6b7280; margin-bottom: 24px;">æŠ±æ­‰ï¼Œæ‚¨è¦æ‰¾çš„æ–‡ç« å¯èƒ½å·²è¢«åˆªé™¤æˆ–ä¸å­˜åœ¨ã€‚</p>
    <a href="/blog.html" style="display: inline-block; padding: 12px 24px; background: #2c5f7c; color: white; text-decoration: none; border-radius: 8px; font-weight: 600;">è¿”å›éƒ¨è½æ ¼</a>
  </div>
  
  <!-- é å°¾å€åŸŸ -->
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-content">
        <!-- Logoèˆ‡ç°¡ä»‹ -->
        <div class="footer-logo">
          <img src="/assets/images/logo-white.png" alt="éœçˆ¾æœæ–¯æœƒè¨ˆå¸«äº‹å‹™æ‰€" class="footer-logo-img">
          <div class="logo-sub" style="color: rgba(255,255,255,0.8); font-size: 0.9rem; margin-bottom: 15px;">HorgosCPA</div>
          <p>å°ˆæ¥­ã€èª ä¿¡ã€å‰µæ–°çš„è²¡ç¨…é¡§å•å¤¥ä¼´ï¼Œè‡´åŠ›æ–¼æä¾›ä¼æ¥­èˆ‡å€‹äººæœ€å„ªè³ªçš„è²¡å‹™èˆ‡ç¨…å‹™è§£æ±ºæ–¹æ¡ˆã€‚</p>
          <!-- LINEæŒ‰éˆ• -->
          <a href="https://line.me/R/ti/p/@208ihted" target="_blank" class="footer-line-btn">
            <span class="line-icon"></span>
            <span>åŠ å…¥LINEå¥½å‹</span>
          </a>
        </div>
        
        <!-- è¯çµ¡è³‡è¨Š -->
        <div class="footer-contact">
          <h3>è¯çµ¡æˆ‘å€‘</h3>
          <ul class="contact-info">
            <li>
              <i class="icon-contact"><span class="material-symbols-rounded">location_on</span></i>
              <span>å°ä¸­å¸‚è¥¿å€å»ºåœ‹è·¯21è™Ÿ3æ¨“ä¹‹1</span>
            </li>
            <li>
              <i class="icon-contact"><span class="material-symbols-rounded">call</span></i>
              <a href="tel:+886422205606">04-2220-5606</a>
            </li>
            <li>
              <i class="icon-contact"><span class="material-symbols-rounded">schedule</span></i>
              <span>é€±ä¸€è‡³é€±äº” 8:30-17:30</span>
            </li>
            <li>
              <i class="icon-contact"><span class="material-symbols-rounded">mail</span></i>
              <a href="mailto:contact@horgoscpa.com">contact@horgoscpa.com</a>
            </li>
          </ul>
        </div>
        
        <!-- å¿«é€Ÿé€£çµ -->
        <div class="footer-links">
          <h3>å¿«é€Ÿé€£çµ</h3>
          <ul class="quick-links">
            <li><a href="/index.html"><span class="material-symbols-rounded icon-link">home</span> é¦–é </a></li>
            <li><a href="/team.html"><span class="material-symbols-rounded icon-link">groups</span> å°ˆæ¥­åœ˜éšŠ</a></li>
            <li><a href="/services.html"><span class="material-symbols-rounded icon-link">business_center</span> å°ˆæ¥­æœå‹™</a></li>
            <li><a href="/blog.html"><span class="material-symbols-rounded icon-link">article</span> å°ˆæ¬„æ–‡ç« </a></li>
            <li><a href="/faq.html"><span class="material-symbols-rounded icon-link">help</span> å¸¸è¦‹å•é¡Œ</a></li>
            <li><a href="/resources.html"><span class="material-symbols-rounded icon-link">folder</span> è³‡æºä¸­å¿ƒ</a></li>
            <li><a href="/contact.html"><span class="material-symbols-rounded icon-link">contact_mail</span> è¯ç¹«æˆ‘å€‘</a></li>
          </ul>
        </div>
      </div>
      
      <!-- ç‰ˆæ¬Šè³‡è¨Š -->
      <div class="footer-bottom">
        <div class="footer-text">
          <p>&copy; 2025 éœçˆ¾æœæ–¯æœƒè¨ˆå¸«äº‹å‹™æ‰€</p>
        </div>
      </div>
    </div>
    
    <!-- è¿”å›é ‚éƒ¨æŒ‰éˆ• -->
    <div class="back-to-top">
      <span class="material-symbols-rounded">arrow_upward</span>
    </div>
  </footer>
  
  <script>
    const onProdHost = location.hostname.endsWith('horgoscpa.com');
    const apiBase = onProdHost ? '/api/v1/public' : 'https://www.horgoscpa.com/api/v1/public';
    
    // ä» URL è·å–æ–‡ç«  slug æˆ– ID
    const urlParams = new URLSearchParams(window.location.search);
    const articleSlug = urlParams.get('slug') || urlParams.get('id');
    
    if (!articleSlug) {
      showError();
    } else {
      loadArticle(articleSlug);
    }
    
    async function loadArticle(slugOrId) {
      try {
        const res = await fetch(`${apiBase}/articles/${slugOrId}`);
        if (!res.ok) {
          showError();
          return;
        }
        
        const json = await res.json();
        if (!json.ok || !json.data) {
          showError();
          return;
        }
        
        const article = json.data;
        renderArticle(article);
      } catch (err) {
        console.error('è¼‰å…¥æ–‡ç« å¤±æ•—:', err);
        showError();
      }
    }
    
    function renderArticle(article) {
      // æ›´æ–°é¡µé¢æ ‡é¢˜å’Œ meta
      document.getElementById('page-title').textContent = article.title + ' | éœçˆ¾æœæ–¯æœƒè¨ˆå¸«äº‹å‹™æ‰€';
      document.getElementById('page-description').content = article.summary || article.seoDescription || '';
      
      // æ¸²æŸ“æ–‡ç« å†…å®¹
      const contentDiv = document.getElementById('article-content');
      const publishedDate = article.publishedAt ? new Date(article.publishedAt) : new Date();
      const tags = Array.isArray(article.tags) ? article.tags : [];
      
      contentDiv.innerHTML = `
        ${article.featuredImage ? `
        <div style="margin-bottom: 32px; border-radius: 12px; overflow: hidden;">
          <img src="${article.featuredImage}" alt="${article.title}" style="width: 100%; height: auto; display: block;">
        </div>
        ` : ''}
        
        <header style="margin-bottom: 32px;">
          <div style="color: #2c5f7c; font-weight: 600; margin-bottom: 12px;">ğŸ“ ${article.category || 'æœªåˆ†é¡'}</div>
          <h1 style="font-size: 36px; font-weight: 700; color: #1f2937; margin: 0 0 16px 0; line-height: 1.3;">${article.title}</h1>
          ${article.summary ? `<p style="font-size: 18px; color: #6b7280; margin: 0 0 16px 0;">${article.summary}</p>` : ''}
          <div style="display: flex; gap: 16px; color: #9ca3af; font-size: 14px; flex-wrap: wrap;">
            <span>ğŸ“… ${publishedDate.toLocaleDateString('zh-TW', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
            <span>ğŸ‘ï¸ ${Number(article.viewCount || 0)} æ¬¡ç€è¦½</span>
            ${tags.length > 0 ? `<span>ğŸ·ï¸ ${tags.map(t => `<span style="background: #dbeafe; color: #1e40af; padding: 2px 8px; border-radius: 4px; font-weight: 600; margin-right: 4px;">${t}</span>`).join('')}</span>` : ''}
          </div>
        </header>
        
        <div style="font-size: 18px; line-height: 1.8; color: #374151;">
          ${article.content}
        </div>
        
        <div style="margin-top: 60px; padding-top: 32px; border-top: 2px solid #f0f0f0; text-align: center;">
          <a href="/blog.html" style="display: inline-block; padding: 12px 32px; background: #2c5f7c; color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.3s;">è¿”å›éƒ¨è½æ ¼åˆ—è¡¨</a>
        </div>
      `;
      
      document.getElementById('loading').style.display = 'none';
      contentDiv.style.display = 'block';
    }
    
    function showError() {
      document.getElementById('loading').style.display = 'none';
      document.getElementById('error').style.display = 'block';
    }
    
    // è¿”å›é ‚éƒ¨æŒ‰éˆ•åŠŸèƒ½
    document.addEventListener('DOMContentLoaded', function() {
      const backToTopButton = document.querySelector('.back-to-top');
      
      // åˆå§‹éš±è—æŒ‰éˆ•
      if (backToTopButton) {
        backToTopButton.classList.remove('visible');
        
        // ç›£è½æ»¾å‹•äº‹ä»¶
        window.addEventListener('scroll', function() {
          if (window.pageYOffset > 300) {
            backToTopButton.classList.add('visible');
          } else {
            backToTopButton.classList.remove('visible');
          }
        });
        
        // é»æ“Šäº‹ä»¶
        backToTopButton.addEventListener('click', function() {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });
      }
    });
  </script>
  
  <!-- å°èˆªæ¬„åŠŸèƒ½è…³æœ¬ -->
  <script src="/assets/js/navbar.js"></script>
  
  <!-- ç§»å‹•ç‰ˆå°èˆªæ¬„åŠŸèƒ½è…³æœ¬ -->
  <script src="/assets/js/mobile-navbar.js"></script>
</body>
</html>

